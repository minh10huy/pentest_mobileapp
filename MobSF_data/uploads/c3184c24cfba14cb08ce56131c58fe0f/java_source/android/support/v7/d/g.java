/*
 * Decompiled with CFR 0_132.
 * 
 * Could not load the following classes:
 *  android.app.ActivityManager
 *  android.content.ComponentName
 *  android.content.Context
 *  android.content.IntentFilter
 *  android.content.IntentSender
 *  android.net.Uri
 *  android.os.Build
 *  android.os.Build$VERSION
 *  android.os.Bundle
 *  android.os.Handler
 *  android.os.Looper
 *  android.os.Message
 *  android.text.TextUtils
 *  android.util.Log
 *  android.view.Display
 */
package android.support.v7.d;

import android.app.ActivityManager;
import android.content.ComponentName;
import android.content.Context;
import android.content.IntentFilter;
import android.content.IntentSender;
import android.net.Uri;
import android.os.Build;
import android.os.Bundle;
import android.os.Handler;
import android.os.Looper;
import android.os.Message;
import android.support.v4.g.j;
import android.support.v4.media.session.MediaSessionCompat;
import android.support.v7.d.c;
import android.support.v7.d.f;
import android.support.v7.d.m;
import android.support.v7.d.n;
import android.support.v7.d.o;
import android.text.TextUtils;
import android.util.Log;
import android.view.Display;
import java.lang.ref.WeakReference;
import java.util.ArrayList;
import java.util.Collection;
import java.util.Collections;
import java.util.HashMap;
import java.util.HashSet;
import java.util.Iterator;
import java.util.List;
import java.util.Locale;
import java.util.Map;
import java.util.Set;

public final class g {
    static final boolean a = Log.isLoggable((String)"MediaRouter", (int)3);
    static d b;
    final Context c;
    final ArrayList<b> d = new ArrayList();

    private g(Context context) {
        this.c = context;
    }

    public static g a(Context context) {
        if (context != null) {
            g.d();
            if (b == null) {
                b = new d(context.getApplicationContext());
                b.a();
            }
            return b.a(context);
        }
        throw new IllegalArgumentException("context must not be null");
    }

    static <T> boolean a(T t2, T t3) {
        if (!(t2 == t3 || t2 != null && t3 != null && t2.equals(t3))) {
            return false;
        }
        return true;
    }

    private int b(a a2) {
        int n2 = this.d.size();
        for (int i2 = 0; i2 < n2; ++i2) {
            if (this.d.get((int)i2).b != a2) continue;
            return i2;
        }
        return -1;
    }

    static void d() {
        if (Looper.myLooper() == Looper.getMainLooper()) {
            return;
        }
        throw new IllegalStateException("The media router service must only be accessed on the application's main thread.");
    }

    public List<g> a() {
        g.d();
        return b.b();
    }

    public void a(MediaSessionCompat mediaSessionCompat) {
        if (a) {
            StringBuilder stringBuilder = new StringBuilder();
            stringBuilder.append("addMediaSessionCompat: ");
            stringBuilder.append(mediaSessionCompat);
            Log.d((String)"MediaRouter", (String)stringBuilder.toString());
        }
        b.a(mediaSessionCompat);
    }

    public void a(android.support.v7.d.f f2, a object, int n2) {
        if (f2 != null) {
            if (object != null) {
                int n3;
                g.d();
                if (a) {
                    StringBuilder stringBuilder = new StringBuilder();
                    stringBuilder.append("addCallback: selector=");
                    stringBuilder.append(f2);
                    stringBuilder.append(", callback=");
                    stringBuilder.append(object);
                    stringBuilder.append(", flags=");
                    stringBuilder.append(Integer.toHexString(n2));
                    Log.d((String)"MediaRouter", (String)stringBuilder.toString());
                }
                if ((n3 = this.b((a)object)) < 0) {
                    object = new b(this, (a)object);
                    this.d.add((b)object);
                } else {
                    object = this.d.get(n3);
                }
                n3 = 0;
                if ((object.d & n2) != 0) {
                    object.d |= n2;
                    n3 = 1;
                }
                if (!object.c.a(f2)) {
                    object.c = new f.a(object.c).a(f2).a();
                    n3 = 1;
                }
                if (n3 != 0) {
                    b.f();
                }
                return;
            }
            throw new IllegalArgumentException("callback must not be null");
        }
        throw new IllegalArgumentException("selector must not be null");
    }

    public void a(a a2) {
        if (a2 != null) {
            int n2;
            g.d();
            if (a) {
                StringBuilder stringBuilder = new StringBuilder();
                stringBuilder.append("removeCallback: callback=");
                stringBuilder.append(a2);
                Log.d((String)"MediaRouter", (String)stringBuilder.toString());
            }
            if ((n2 = this.b(a2)) >= 0) {
                this.d.remove(n2);
                b.f();
            }
            return;
        }
        throw new IllegalArgumentException("callback must not be null");
    }

    public void a(g g2) {
        if (g2 != null) {
            g.d();
            if (a) {
                StringBuilder stringBuilder = new StringBuilder();
                stringBuilder.append("selectRoute: ");
                stringBuilder.append(g2);
                Log.d((String)"MediaRouter", (String)stringBuilder.toString());
            }
            b.a(g2);
            return;
        }
        throw new IllegalArgumentException("route must not be null");
    }

    public boolean a(android.support.v7.d.f f2, int n2) {
        if (f2 != null) {
            g.d();
            return b.a(f2, n2);
        }
        throw new IllegalArgumentException("selector must not be null");
    }

    public g b() {
        g.d();
        return b.c();
    }

    public g c() {
        g.d();
        return b.e();
    }

    public static abstract class a {
        public void a(g g2, e e2) {
        }

        public void a(g g2, g g3) {
        }

        public void a(g g2, g g3, int n2) {
            this.b(g2, g3);
        }

        public void b(g g2, e e2) {
        }

        public void b(g g2, g g3) {
        }

        public void c(g g2, e e2) {
        }

        public void c(g g2, g g3) {
        }

        public void d(g g2, g g3) {
        }

        public void e(g g2, g g3) {
        }

        public void f(g g2, g g3) {
        }

        public void g(g g2, g g3) {
        }
    }

    private static final class b {
        public final g a;
        public final a b;
        public android.support.v7.d.f c;
        public int d;

        public b(g g2, a a2) {
            this.a = g2;
            this.b = a2;
            this.c = android.support.v7.d.f.b;
        }

        public boolean a(g g2) {
            if ((this.d & 2) == 0 && !g2.a(this.c)) {
                return false;
            }
            return true;
        }
    }

    public static abstract class c {
        public void a(Bundle bundle) {
        }

        public void a(String string2, Bundle bundle) {
        }
    }

    private static final class android.support.v7.d.g$d
    implements m.a,
    o.f {
        final Context a;
        final ArrayList<WeakReference<g>> b = new ArrayList();
        final n.c c = new n.c();
        final a d = new a();
        final o e;
        g f;
        MediaSessionCompat g;
        private final ArrayList<g> h = new ArrayList();
        private final Map<j<String, String>, String> i = new HashMap<j<String, String>, String>();
        private final ArrayList<e> j = new ArrayList();
        private final ArrayList<d> k = new ArrayList();
        private final c l = new c();
        private final android.support.v4.b.a.a m;
        private final boolean n;
        private m o;
        private g p;
        private g q;
        private c.d r;
        private final Map<String, c.d> s = new HashMap<String, c.d>();
        private android.support.v7.d.b t;
        private b u;
        private MediaSessionCompat v;
        private MediaSessionCompat.g w = new MediaSessionCompat.g(){

            @Override
            public void a() {
                if (d.this.g != null) {
                    if (d.this.g.a()) {
                        d.this.a(d.this.g.e());
                        return;
                    }
                    d.this.b(d.this.g.e());
                }
            }
        };

        android.support.v7.d.g$d(Context context) {
            this.a = context;
            this.m = android.support.v4.b.a.a.a(context);
            this.n = android.support.v4.app.b.a((ActivityManager)context.getSystemService("activity"));
            this.e = o.a(context, this);
        }

        private int a(g g2, android.support.v7.d.a object) {
            int n2 = g2.a((android.support.v7.d.a)object);
            if (n2 != 0) {
                if ((n2 & 1) != 0) {
                    if (g.a) {
                        object = new StringBuilder();
                        object.append("Route changed: ");
                        object.append(g2);
                        Log.d((String)"MediaRouter", (String)object.toString());
                    }
                    this.d.a(259, g2);
                }
                if ((n2 & 2) != 0) {
                    if (g.a) {
                        object = new StringBuilder();
                        object.append("Route volume changed: ");
                        object.append(g2);
                        Log.d((String)"MediaRouter", (String)object.toString());
                    }
                    this.d.a(260, g2);
                }
                if ((n2 & 4) != 0) {
                    if (g.a) {
                        object = new StringBuilder();
                        object.append("Route presentation display changed: ");
                        object.append(g2);
                        Log.d((String)"MediaRouter", (String)object.toString());
                    }
                    this.d.a(261, g2);
                }
            }
            return n2;
        }

        private String a(e object, String string2) {
            object = object.c().flattenToShortString();
            CharSequence charSequence = new StringBuilder();
            charSequence.append((String)object);
            charSequence.append(":");
            charSequence.append(string2);
            charSequence = charSequence.toString();
            if (this.c((String)charSequence) < 0) {
                this.i.put(new j<Object, String>(object, string2), (String)charSequence);
                return charSequence;
            }
            CharSequence charSequence2 = new StringBuilder();
            charSequence2.append("Either ");
            charSequence2.append(string2);
            charSequence2.append(" isn't unique in ");
            charSequence2.append((String)object);
            charSequence2.append(" or we're trying to assign a unique ID for an already added route");
            Log.w((String)"MediaRouter", (String)charSequence2.toString());
            int n2 = 2;
            do {
                if (this.c((String)(charSequence2 = String.format(Locale.US, "%s_%d", charSequence, n2))) < 0) {
                    this.i.put(new j<Object, String>(object, string2), (String)charSequence2);
                    return charSequence2;
                }
                ++n2;
            } while (true);
        }

        private void a(b b2) {
            if (this.u != null) {
                this.u.a();
            }
            this.u = b2;
            if (b2 != null) {
                this.h();
            }
        }

        static /* synthetic */ void a(android.support.v7.d.g$d d2, boolean bl2) {
            d2.a(bl2);
        }

        /*
         * Enabled aggressive block sorting
         */
        private void a(e e2, android.support.v7.d.d object) {
            block16 : {
                int n2;
                Object object2;
                int n3;
                boolean bl2;
                block20 : {
                    Object object3;
                    boolean bl3;
                    int n4;
                    Object object4;
                    block19 : {
                        block17 : {
                            block18 : {
                                if (!e2.a((android.support.v7.d.d)object)) break block16;
                                if (object == null) break block17;
                                if (!object.b()) break block18;
                                object4 = object.a();
                                n4 = object4.size();
                                object3 = new ArrayList();
                                object2 = new ArrayList();
                                n2 = 0;
                                bl3 = false;
                                break block19;
                            }
                            object2 = new StringBuilder();
                            object2.append("Ignoring invalid provider descriptor: ");
                            object2.append(object);
                            Log.w((String)"MediaRouter", (String)object2.toString());
                        }
                        bl2 = false;
                        n3 = 0;
                        break block20;
                    }
                    for (n3 = 0; n3 < n4; ++n3) {
                        Object object5;
                        int n5;
                        Object object6 = object4.get(n3);
                        object = object6.a();
                        int n6 = e2.a((String)object);
                        if (n6 < 0) {
                            object5 = this.a(e2, (String)object);
                            n5 = object6.b() != null ? 1 : 0;
                            object = n5 != 0 ? new f(e2, (String)object, (String)object5) : new g(e2, (String)object, (String)object5);
                            e2.b.add(n2, object);
                            this.h.add((g)object);
                            if (n5 != 0) {
                                object3.add(new j<Object, android.support.v7.d.a>(object, (android.support.v7.d.a)object6));
                            } else {
                                object.a((android.support.v7.d.a)object6);
                                if (g.a) {
                                    object6 = new StringBuilder();
                                    object6.append("Route added: ");
                                    object6.append(object);
                                    Log.d((String)"MediaRouter", (String)object6.toString());
                                }
                                this.d.a(257, object);
                            }
                            ++n2;
                            continue;
                        }
                        if (n6 < n2) {
                            object = new StringBuilder();
                            object.append("Ignoring route descriptor with duplicate id: ");
                            object.append(object6);
                            Log.w((String)"MediaRouter", (String)object.toString());
                            continue;
                        }
                        object = (g)e2.b.get(n6);
                        object5 = e2.b;
                        n5 = n2 + 1;
                        Collections.swap(object5, n6, n2);
                        if (object instanceof f) {
                            object2.add(new j<Object, android.support.v7.d.a>(object, (android.support.v7.d.a)object6));
                        } else if (this.a((g)object, (android.support.v7.d.a)object6) != 0 && object == this.f) {
                            n2 = n5;
                            bl3 = true;
                            continue;
                        }
                        n2 = n5;
                    }
                    object = object3.iterator();
                    while (object.hasNext()) {
                        object3 = (j)object.next();
                        object4 = (g)object3.a;
                        object4.a((android.support.v7.d.a)object3.b);
                        if (g.a) {
                            object3 = new StringBuilder();
                            object3.append("Route added: ");
                            object3.append(object4);
                            Log.d((String)"MediaRouter", (String)object3.toString());
                        }
                        this.d.a(257, object4);
                    }
                    object = object2.iterator();
                    do {
                        bl2 = bl3;
                        n3 = n2;
                        if (!object.hasNext()) break;
                        object2 = (j)object.next();
                        object4 = (g)object2.a;
                        if (this.a((g)object4, (android.support.v7.d.a)object2.b) == 0 || object4 != this.f) continue;
                        bl3 = true;
                    } while (true);
                }
                for (n2 = e.b((e)e2).size() - 1; n2 >= n3; --n2) {
                    object = (g)e2.b.get(n2);
                    object.a((android.support.v7.d.a)null);
                    this.h.remove(object);
                }
                this.a(bl2);
                for (n2 = e.b((e)e2).size() - 1; n2 >= n3; --n2) {
                    object = (g)e2.b.remove(n2);
                    if (g.a) {
                        object2 = new StringBuilder();
                        object2.append("Route removed: ");
                        object2.append(object);
                        Log.d((String)"MediaRouter", (String)object2.toString());
                    }
                    this.d.a(258, object);
                }
                if (g.a) {
                    object = new StringBuilder();
                    object.append("Provider changed: ");
                    object.append(e2);
                    Log.d((String)"MediaRouter", (String)object.toString());
                }
                this.d.a(515, e2);
            }
        }

        private void a(boolean bl2) {
            Object object;
            Iterator iterator;
            if (this.p != null && !this.p.k()) {
                iterator = new StringBuilder();
                iterator.append("Clearing the default route because it is no longer selectable: ");
                iterator.append(this.p);
                Log.i((String)"MediaRouter", (String)iterator.toString());
                this.p = null;
            }
            if (this.p == null && !this.h.isEmpty()) {
                iterator = this.h.iterator();
                while (iterator.hasNext()) {
                    object = (g)iterator.next();
                    if (!this.c((g)object) || !object.k()) continue;
                    this.p = object;
                    iterator = new StringBuilder();
                    iterator.append("Found default route: ");
                    iterator.append(this.p);
                    Log.i((String)"MediaRouter", (String)iterator.toString());
                    break;
                }
            }
            if (this.q != null && !this.q.k()) {
                iterator = new StringBuilder();
                iterator.append("Clearing the bluetooth route because it is no longer selectable: ");
                iterator.append(this.q);
                Log.i((String)"MediaRouter", (String)iterator.toString());
                this.q = null;
            }
            if (this.q == null && !this.h.isEmpty()) {
                iterator = this.h.iterator();
                while (iterator.hasNext()) {
                    object = iterator.next();
                    if (!this.b((g)object) || !object.k()) continue;
                    this.q = object;
                    iterator = new StringBuilder();
                    iterator.append("Found bluetooth route: ");
                    iterator.append(this.q);
                    Log.i((String)"MediaRouter", (String)iterator.toString());
                    break;
                }
            }
            if (this.f != null && this.f.k()) {
                if (bl2) {
                    if (this.f instanceof f) {
                        iterator = ((f)this.f).a();
                        object = new HashSet();
                        Object object2 = iterator.iterator();
                        while (object2.hasNext()) {
                            object.add(((g)object2.next()).c);
                        }
                        object2 = this.s.entrySet().iterator();
                        while (object2.hasNext()) {
                            Object object3 = (Map.Entry)object2.next();
                            if (object.contains(object3.getKey())) continue;
                            object3 = (c.d)object3.getValue();
                            object3.c();
                            object3.a();
                            object2.remove();
                        }
                        iterator = iterator.iterator();
                        while (iterator.hasNext()) {
                            object = (g)iterator.next();
                            if (this.s.containsKey(((g)object).c)) continue;
                            object2 = object.r().a(((g)object).c, this.f.c);
                            object2.b();
                            this.s.put(((g)object).c, (c.d)object2);
                        }
                    }
                    this.h();
                    return;
                }
            } else {
                iterator = new StringBuilder();
                iterator.append("Unselecting the current route because it is no longer selectable: ");
                iterator.append(this.f);
                Log.i((String)"MediaRouter", (String)iterator.toString());
                this.d(this.g(), 0);
            }
        }

        private String b(e object, String string2) {
            object = object.c().flattenToShortString();
            return this.i.get(new j<Object, String>(object, string2));
        }

        private boolean b(g g2) {
            if (g2.r() == this.e && g2.a("android.media.intent.category.LIVE_AUDIO") && !g2.a("android.media.intent.category.LIVE_VIDEO")) {
                return true;
            }
            return false;
        }

        private int c(android.support.v7.d.c c2) {
            int n2 = this.j.size();
            for (int i2 = 0; i2 < n2; ++i2) {
                if (this.j.get(i2).a != c2) continue;
                return i2;
            }
            return -1;
        }

        private int c(Object object) {
            int n2 = this.k.size();
            for (int i2 = 0; i2 < n2; ++i2) {
                if (this.k.get(i2).a() != object) continue;
                return i2;
            }
            return -1;
        }

        private int c(String string2) {
            int n2 = this.h.size();
            for (int i2 = 0; i2 < n2; ++i2) {
                if (!this.h.get(i2).d.equals(string2)) continue;
                return i2;
            }
            return -1;
        }

        private boolean c(g g2) {
            if (g2.r() == this.e && g2.c.equals("DEFAULT_ROUTE")) {
                return true;
            }
            return false;
        }

        /*
         * Enabled aggressive block sorting
         */
        private void d(g object, int n2) {
            Object object2;
            if (g.b == null || this.q != null && object.g()) {
                void var5_8;
                object2 = Thread.currentThread().getStackTrace();
                StringBuffer stringBuffer = new StringBuffer();
                for (int i2 = 3; i2 < ((StackTraceElement[])object2).length; ++i2) {
                    StackTraceElement stackTraceElement = object2[i2];
                    StringBuilder stringBuilder = new StringBuilder();
                    stringBuilder.append(stackTraceElement.getClassName());
                    stringBuilder.append(".");
                    stringBuilder.append(stackTraceElement.getMethodName());
                    stringBuilder.append(":");
                    stringBuilder.append(stackTraceElement.getLineNumber());
                    stringBuffer.append(stringBuilder.toString());
                    stringBuffer.append("  ");
                }
                if (g.b == null) {
                    object2 = new StringBuilder();
                    String string2 = "setSelectedRouteInternal is called while sGlobal is null: pkgName=";
                } else {
                    object2 = new StringBuilder();
                    String string3 = "Default route is selected while a BT route is available: pkgName=";
                }
                object2.append((String)var5_8);
                object2.append(this.a.getPackageName());
                object2.append(", callers=");
                object2.append(stringBuffer.toString());
                Log.w((String)"MediaRouter", (String)object2.toString());
            }
            if (this.f != object) {
                if (this.f != null) {
                    if (g.a) {
                        object2 = new StringBuilder();
                        object2.append("Route unselected: ");
                        object2.append(this.f);
                        object2.append(" reason: ");
                        object2.append(n2);
                        Log.d((String)"MediaRouter", (String)object2.toString());
                    }
                    this.d.a(263, this.f, n2);
                    if (this.r != null) {
                        this.r.a(n2);
                        this.r.a();
                        this.r = null;
                    }
                    if (!this.s.isEmpty()) {
                        for (c.d d2 : this.s.values()) {
                            d2.a(n2);
                            d2.a();
                        }
                        this.s.clear();
                    }
                }
                this.f = object;
                this.r = object.r().a(((g)object).c);
                if (this.r != null) {
                    this.r.b();
                }
                if (g.a) {
                    object = new StringBuilder();
                    object.append("Route selected: ");
                    object.append(this.f);
                    Log.d((String)"MediaRouter", (String)object.toString());
                }
                this.d.a(262, this.f);
                if (this.f instanceof f) {
                    object = ((f)this.f).a();
                    this.s.clear();
                    object = object.iterator();
                    while (object.hasNext()) {
                        object2 = (g)object.next();
                        c.d d3 = object2.r().a(((g)object2).c, this.f.c);
                        d3.b();
                        this.s.put(((g)object2).c, d3);
                    }
                }
                this.h();
            }
        }

        private void h() {
            block8 : {
                block9 : {
                    block7 : {
                        int n2;
                        if (this.f == null) break block7;
                        this.c.a = this.f.m();
                        this.c.b = this.f.n();
                        this.c.c = this.f.l();
                        this.c.d = this.f.i();
                        this.c.e = this.f.h();
                        int n3 = this.k.size();
                        int n4 = 0;
                        for (n2 = 0; n2 < n3; ++n2) {
                            this.k.get(n2).c();
                        }
                        if (this.u == null) break block8;
                        if (this.f != this.c() && this.f != this.d()) {
                            n2 = n4;
                            if (this.c.c == 1) {
                                n2 = 2;
                            }
                            this.u.a(n2, this.c.b, this.c.a);
                            return;
                        }
                        break block9;
                    }
                    if (this.u == null) break block8;
                }
                this.u.a();
            }
        }

        public g a(String string2) {
            for (g g2 : this.h) {
                if (!g2.d.equals(string2)) continue;
                return g2;
            }
            return null;
        }

        public g a(Context object) {
            int n2 = this.b.size();
            while (--n2 >= 0) {
                g g2 = this.b.get(n2).get();
                if (g2 == null) {
                    this.b.remove(n2);
                    continue;
                }
                if (g2.c != object) continue;
                return g2;
            }
            object = new g((Context)object);
            this.b.add(new WeakReference<Context>((Context)object));
            return object;
        }

        public void a() {
            this.a(this.e);
            this.o = new m(this.a, this);
            this.o.a();
        }

        public void a(MediaSessionCompat object) {
            this.v = object;
            if (Build.VERSION.SDK_INT >= 21) {
                object = object != null ? new b((MediaSessionCompat)object) : null;
                this.a((b)object);
                return;
            }
            if (Build.VERSION.SDK_INT >= 14) {
                if (this.g != null) {
                    this.b(this.g.e());
                    this.g.b(this.w);
                }
                this.g = object;
                if (object != null) {
                    object.a(this.w);
                    if (object.a()) {
                        this.a(object.e());
                    }
                }
            }
        }

        @Override
        public void a(android.support.v7.d.c c2) {
            if (this.c(c2) < 0) {
                e e2 = new e(c2);
                this.j.add(e2);
                if (g.a) {
                    StringBuilder stringBuilder = new StringBuilder();
                    stringBuilder.append("Provider added: ");
                    stringBuilder.append(e2);
                    Log.d((String)"MediaRouter", (String)stringBuilder.toString());
                }
                this.d.a(513, e2);
                this.a(e2, c2.f());
                c2.a(this.l);
                c2.a(this.t);
            }
        }

        void a(android.support.v7.d.c c2, android.support.v7.d.d d2) {
            int n2 = this.c(c2);
            if (n2 >= 0) {
                this.a(this.j.get(n2), d2);
            }
        }

        void a(g g2) {
            this.c(g2, 3);
        }

        /*
         * Enabled aggressive block sorting
         */
        public void a(g object, int n2) {
            block4 : {
                block3 : {
                    block2 : {
                        if (object != this.f || this.r == null) break block2;
                        object = this.r;
                        break block3;
                    }
                    if (this.s.isEmpty() || (object = this.s.get(((g)object).c)) == null) break block4;
                }
                object.b(n2);
                return;
            }
        }

        public void a(Object object) {
            if (this.c(object) < 0) {
                object = new d(object);
                this.k.add((d)object);
            }
        }

        public boolean a(android.support.v7.d.f f2, int n2) {
            if (f2.c()) {
                return false;
            }
            if ((n2 & 2) == 0 && this.n) {
                return true;
            }
            int n3 = this.h.size();
            for (int i2 = 0; i2 < n3; ++i2) {
                g g2 = this.h.get(i2);
                if ((n2 & 1) != 0 && g2.j() || !g2.a(f2)) continue;
                return true;
            }
            return false;
        }

        public List<g> b() {
            return this.h;
        }

        @Override
        public void b(android.support.v7.d.c object) {
            int n2 = this.c((android.support.v7.d.c)object);
            if (n2 >= 0) {
                object.a((c.a)null);
                object.a((android.support.v7.d.b)null);
                object = this.j.get(n2);
                this.a((e)object, (android.support.v7.d.d)null);
                if (g.a) {
                    StringBuilder stringBuilder = new StringBuilder();
                    stringBuilder.append("Provider removed: ");
                    stringBuilder.append(object);
                    Log.d((String)"MediaRouter", (String)stringBuilder.toString());
                }
                this.d.a(514, object);
                this.j.remove(n2);
            }
        }

        public void b(g g2, int n2) {
            if (g2 == this.f && this.r != null) {
                this.r.c(n2);
            }
        }

        public void b(Object object) {
            int n2 = this.c(object);
            if (n2 >= 0) {
                this.k.remove(n2).b();
            }
        }

        @Override
        public void b(String string2) {
            this.d.removeMessages(262);
            int n2 = this.c(this.e);
            if (n2 >= 0) {
                e e2 = this.j.get(n2);
                n2 = e2.a(string2);
                if (n2 >= 0) {
                    ((g)e2.b.get(n2)).p();
                }
            }
        }

        g c() {
            if (this.p != null) {
                return this.p;
            }
            throw new IllegalStateException("There is no default route.  The media router has not yet been fully initialized.");
        }

        /*
         * Enabled aggressive block sorting
         */
        void c(g g2, int n2) {
            String string2;
            StringBuilder stringBuilder;
            if (!this.h.contains(g2)) {
                stringBuilder = new StringBuilder();
                string2 = "Ignoring attempt to select removed route: ";
            } else {
                if (g2.h) {
                    this.d(g2, n2);
                    return;
                }
                stringBuilder = new StringBuilder();
                string2 = "Ignoring attempt to select disabled route: ";
            }
            stringBuilder.append(string2);
            stringBuilder.append(g2);
            Log.w((String)"MediaRouter", (String)stringBuilder.toString());
        }

        g d() {
            return this.q;
        }

        g e() {
            if (this.f != null) {
                return this.f;
            }
            throw new IllegalStateException("There is no currently selected route.  The media router has not yet been fully initialized.");
        }

        public void f() {
            int n2;
            Object object = new f.a();
            int n3 = this.b.size();
            int n4 = 0;
            int n5 = 0;
            boolean bl2 = false;
            while ((n2 = n3 - 1) >= 0) {
                g g2 = this.b.get(n2).get();
                if (g2 == null) {
                    this.b.remove(n2);
                    n3 = n2;
                    continue;
                }
                int n6 = g2.d.size();
                for (int i2 = 0; i2 < n6; ++i2) {
                    android.support.v7.d.g$b b2 = g2.d.get(i2);
                    object.a(b2.c);
                    if ((b2.d & 1) != 0) {
                        n5 = 1;
                        bl2 = true;
                    }
                    n3 = n5;
                    if ((b2.d & 4) != 0) {
                        n3 = n5;
                        if (!this.n) {
                            n3 = 1;
                        }
                    }
                    n5 = n3;
                    if ((b2.d & 8) == 0) continue;
                    n5 = 1;
                }
                n3 = n2;
            }
            object = n5 != 0 ? object.a() : android.support.v7.d.f.b;
            if (this.t != null && this.t.a().equals(object) && this.t.b() == bl2) {
                return;
            }
            if (object.c() && !bl2) {
                if (this.t == null) {
                    return;
                }
                this.t = null;
            } else {
                this.t = new android.support.v7.d.b((android.support.v7.d.f)object, bl2);
            }
            if (g.a) {
                object = new StringBuilder();
                object.append("Updated discovery request: ");
                object.append(this.t);
                Log.d((String)"MediaRouter", (String)object.toString());
            }
            if (n5 != 0 && !bl2 && this.n) {
                Log.i((String)"MediaRouter", (String)"Forcing passive route discovery on a low-RAM device, system performance may be affected.  Please consider using CALLBACK_FLAG_REQUEST_DISCOVERY instead of CALLBACK_FLAG_FORCE_DISCOVERY.");
            }
            n3 = this.j.size();
            for (n5 = n4; n5 < n3; ++n5) {
                this.j.get(n5).a.a(this.t);
            }
        }

        g g() {
            for (g g2 : this.h) {
                if (g2 == this.p || !this.b(g2) || !g2.k()) continue;
                return g2;
            }
            return this.p;
        }

        private final class a
        extends Handler {
            private final ArrayList<android.support.v7.d.g$b> b = new ArrayList();

            a() {
            }

            private void a(android.support.v7.d.g$b object, int n2, Object object2, int n3) {
                g g2 = object.a;
                android.support.v7.d.g$a a2 = object.b;
                int n4 = 65280 & n2;
                if (n4 != 256) {
                    if (n4 != 512) {
                        return;
                    }
                    object = (e)object2;
                    switch (n2) {
                        default: {
                            return;
                        }
                        case 515: {
                            a2.c(g2, (e)object);
                            return;
                        }
                        case 514: {
                            a2.b(g2, (e)object);
                            return;
                        }
                        case 513: 
                    }
                    a2.a(g2, (e)object);
                    return;
                }
                if (!object.a((g)(object2 = (g)object2))) {
                    return;
                }
                switch (n2) {
                    default: {
                        return;
                    }
                    case 263: {
                        a2.a(g2, (g)object2, n3);
                        return;
                    }
                    case 262: {
                        a2.a(g2, (g)object2);
                        return;
                    }
                    case 261: {
                        a2.g(g2, (g)object2);
                        return;
                    }
                    case 260: {
                        a2.f(g2, (g)object2);
                        return;
                    }
                    case 259: {
                        a2.e(g2, (g)object2);
                        return;
                    }
                    case 258: {
                        a2.d(g2, (g)object2);
                        return;
                    }
                    case 257: 
                }
                a2.c(g2, (g)object2);
            }

            private void b(int n2, Object object) {
                if (n2 != 262) {
                    switch (n2) {
                        default: {
                            return;
                        }
                        case 259: {
                            d.this.e.c((g)object);
                            return;
                        }
                        case 258: {
                            d.this.e.b((g)object);
                            return;
                        }
                        case 257: 
                    }
                    d.this.e.a((g)object);
                    return;
                }
                d.this.e.d((g)object);
            }

            public void a(int n2, Object object) {
                this.obtainMessage(n2, object).sendToTarget();
            }

            public void a(int n2, Object object, int n3) {
                object = this.obtainMessage(n2, object);
                object.arg1 = n3;
                object.sendToTarget();
            }

            /*
             * Exception decompiling
             */
            public void handleMessage(Message var1_1) {
                // This method has failed to decompile.  When submitting a bug report, please provide this stack trace, and (if you hold appropriate legal rights) the relevant class file.
                // org.benf.cfr.reader.util.ConfusedCFRException: Tried to end blocks [3[WHILELOOP]], but top level block is 1[TRYBLOCK]
                // org.benf.cfr.reader.bytecode.analysis.opgraph.Op04StructuredStatement.processEndingBlocks(Op04StructuredStatement.java:416)
                // org.benf.cfr.reader.bytecode.analysis.opgraph.Op04StructuredStatement.buildNestedBlocks(Op04StructuredStatement.java:468)
                // org.benf.cfr.reader.bytecode.analysis.opgraph.Op03SimpleStatement.createInitialStructuredBlock(Op03SimpleStatement.java:2960)
                // org.benf.cfr.reader.bytecode.CodeAnalyser.getAnalysisInner(CodeAnalyser.java:818)
                // org.benf.cfr.reader.bytecode.CodeAnalyser.getAnalysisOrWrapFail(CodeAnalyser.java:196)
                // org.benf.cfr.reader.bytecode.CodeAnalyser.getAnalysis(CodeAnalyser.java:141)
                // org.benf.cfr.reader.entities.attributes.AttributeCode.analyse(AttributeCode.java:95)
                // org.benf.cfr.reader.entities.Method.analyse(Method.java:372)
                // org.benf.cfr.reader.entities.ClassFile.analyseMid(ClassFile.java:867)
                // org.benf.cfr.reader.entities.ClassFile.analyseInnerClassesPass1(ClassFile.java:749)
                // org.benf.cfr.reader.entities.ClassFile.analyseMid(ClassFile.java:847)
                // org.benf.cfr.reader.entities.ClassFile.analyseInnerClassesPass1(ClassFile.java:749)
                // org.benf.cfr.reader.entities.ClassFile.analyseMid(ClassFile.java:847)
                // org.benf.cfr.reader.entities.ClassFile.analyseTop(ClassFile.java:768)
                // org.benf.cfr.reader.Main.doJar(Main.java:141)
                // org.benf.cfr.reader.Main.main(Main.java:242)
                throw new IllegalStateException("Decompilation failed");
            }
        }

        private final class b {
            private final MediaSessionCompat b;
            private int c;
            private int d;
            private android.support.v4.media.g e;

            public b(MediaSessionCompat mediaSessionCompat) {
                this.b = mediaSessionCompat;
            }

            public void a() {
                this.b.b(d.this.c.d);
                this.e = null;
            }

            public void a(int n2, int n3, int n4) {
                if (this.e != null && n2 == this.c && n3 == this.d) {
                    this.e.a(n4);
                    return;
                }
                this.e = new android.support.v4.media.g(n2, n3, n4){

                    @Override
                    public void b(final int n2) {
                        d.this.d.post(new Runnable(){

                            @Override
                            public void run() {
                                if (d.this.f != null) {
                                    d.this.f.a(n2);
                                }
                            }
                        });
                    }

                    @Override
                    public void c(final int n2) {
                        d.this.d.post(new Runnable(){

                            @Override
                            public void run() {
                                if (d.this.f != null) {
                                    d.this.f.b(n2);
                                }
                            }
                        });
                    }

                };
                this.b.a(this.e);
            }

        }

        private final class c
        extends c.a {
            c() {
            }

            @Override
            public void a(android.support.v7.d.c c2, android.support.v7.d.d d2) {
                d.this.a(c2, d2);
            }
        }

        private final class d
        implements n.d {
            private final n b;
            private boolean c;

            public d(Object object) {
                this.b = n.a(d.this.a, object);
                this.b.a(this);
                this.c();
            }

            public Object a() {
                return this.b.a();
            }

            @Override
            public void a(int n2) {
                if (!this.c && d.this.f != null) {
                    d.this.f.a(n2);
                }
            }

            public void b() {
                this.c = true;
                this.b.a((n.d)null);
            }

            @Override
            public void b(int n2) {
                if (!this.c && d.this.f != null) {
                    d.this.f.b(n2);
                }
            }

            public void c() {
                this.b.a(d.this.c);
            }
        }

    }

    public static final class e {
        private final android.support.v7.d.c a;
        private final List<g> b = new ArrayList<g>();
        private final c.c c;
        private android.support.v7.d.d d;

        e(android.support.v7.d.c c2) {
            this.a = c2;
            this.c = c2.c();
        }

        int a(String string2) {
            int n2 = this.b.size();
            for (int i2 = 0; i2 < n2; ++i2) {
                if (!this.b.get(i2).c.equals(string2)) continue;
                return i2;
            }
            return -1;
        }

        public android.support.v7.d.c a() {
            g.d();
            return this.a;
        }

        boolean a(android.support.v7.d.d d2) {
            if (this.d != d2) {
                this.d = d2;
                return true;
            }
            return false;
        }

        public String b() {
            return this.c.a();
        }

        public ComponentName c() {
            return this.c.b();
        }

        public String toString() {
            StringBuilder stringBuilder = new StringBuilder();
            stringBuilder.append("MediaRouter.RouteProviderInfo{ packageName=");
            stringBuilder.append(this.b());
            stringBuilder.append(" }");
            return stringBuilder.toString();
        }
    }

    public static class f
    extends g {
        private List<g> b = new ArrayList<g>();

        f(e e2, String string2, String string3) {
            super(e2, string2, string3);
        }

        @Override
        int a(android.support.v7.d.a a2) {
            Object object = this.a;
            int n2 = 0;
            int n3 = 0;
            int n4 = n2;
            if (object != a2) {
                this.a = a2;
                n4 = n2;
                if (a2 != null) {
                    Object object2 = a2.b();
                    object = new ArrayList();
                    if (object2.size() != this.b.size()) {
                        n3 = 1;
                    }
                    object2 = object2.iterator();
                    while (object2.hasNext()) {
                        Object object3 = (String)object2.next();
                        object3 = g.b.b(this.b(), (String)object3);
                        if ((object3 = g.b.a((String)object3)) == null) continue;
                        object.add(object3);
                        if (n3 != 0 || this.b.contains(object3)) continue;
                        n3 = 1;
                    }
                    n4 = n3;
                    if (n3 != 0) {
                        this.b = object;
                        n4 = n3;
                    }
                }
            }
            return super.b(a2) | n4;
        }

        public List<g> a() {
            return this.b;
        }

        @Override
        public String toString() {
            StringBuilder stringBuilder = new StringBuilder(super.toString());
            stringBuilder.append('[');
            int n2 = this.b.size();
            for (int i2 = 0; i2 < n2; ++i2) {
                if (i2 > 0) {
                    stringBuilder.append(", ");
                }
                stringBuilder.append(this.b.get(i2));
            }
            stringBuilder.append(']');
            return stringBuilder.toString();
        }
    }

    public static class g {
        android.support.v7.d.a a;
        private final e b;
        private final String c;
        private final String d;
        private String e;
        private String f;
        private Uri g;
        private boolean h;
        private boolean i;
        private int j;
        private boolean k;
        private final ArrayList<IntentFilter> l = new ArrayList();
        private int m;
        private int n;
        private int o;
        private int p;
        private int q;
        private int r;
        private Display s;
        private int t = -1;
        private Bundle u;
        private IntentSender v;

        g(e e2, String string2, String string3) {
            this.b = e2;
            this.c = string2;
            this.d = string3;
        }

        private static boolean d(g g2) {
            return TextUtils.equals((CharSequence)g2.r().c().a(), (CharSequence)"android");
        }

        int a(android.support.v7.d.a a2) {
            if (this.a != a2) {
                return this.b(a2);
            }
            return 0;
        }

        public void a(int n2) {
            g.d();
            g.b.a(this, Math.min(this.r, Math.max(0, n2)));
        }

        public boolean a(android.support.v7.d.f f2) {
            if (f2 != null) {
                g.d();
                return f2.a(this.l);
            }
            throw new IllegalArgumentException("selector must not be null");
        }

        public boolean a(String string2) {
            if (string2 != null) {
                g.d();
                int n2 = this.l.size();
                for (int i2 = 0; i2 < n2; ++i2) {
                    if (!this.l.get(i2).hasCategory(string2)) continue;
                    return true;
                }
                return false;
            }
            throw new IllegalArgumentException("category must not be null");
        }

        int b(android.support.v7.d.a a2) {
            this.a = a2;
            int n2 = 0;
            int n3 = 0;
            if (a2 != null) {
                n2 = n3;
                if (!g.a(this.e, a2.c())) {
                    this.e = a2.c();
                    n2 = 1;
                }
                n3 = n2;
                if (!g.a(this.f, a2.d())) {
                    this.f = a2.d();
                    n3 = n2 | 1;
                }
                n2 = n3;
                if (!g.a(this.g, a2.e())) {
                    this.g = a2.e();
                    n2 = n3 | 1;
                }
                n3 = n2;
                if (this.h != a2.f()) {
                    this.h = a2.f();
                    n3 = n2 | 1;
                }
                n2 = n3;
                if (this.i != a2.g()) {
                    this.i = a2.g();
                    n2 = n3 | 1;
                }
                n3 = n2;
                if (this.j != a2.h()) {
                    this.j = a2.h();
                    n3 = n2 | 1;
                }
                n2 = n3;
                if (!this.l.equals(a2.k())) {
                    this.l.clear();
                    this.l.addAll(a2.k());
                    n2 = n3 | 1;
                }
                n3 = n2;
                if (this.m != a2.m()) {
                    this.m = a2.m();
                    n3 = n2 | 1;
                }
                n2 = n3;
                if (this.n != a2.n()) {
                    this.n = a2.n();
                    n2 = n3 | 1;
                }
                n3 = n2;
                if (this.o != a2.o()) {
                    this.o = a2.o();
                    n3 = n2 | 1;
                }
                n2 = n3;
                if (this.p != a2.r()) {
                    this.p = a2.r();
                    n2 = n3 | 3;
                }
                n3 = n2;
                if (this.q != a2.p()) {
                    this.q = a2.p();
                    n3 = n2 | 3;
                }
                n2 = n3;
                if (this.r != a2.q()) {
                    this.r = a2.q();
                    n2 = n3 | 3;
                }
                n3 = n2;
                if (this.t != a2.s()) {
                    this.t = a2.s();
                    this.s = null;
                    n3 = n2 | 5;
                }
                n2 = n3;
                if (!g.a(this.u, a2.t())) {
                    this.u = a2.t();
                    n2 = n3 | 1;
                }
                n3 = n2;
                if (!g.a(this.v, a2.j())) {
                    this.v = a2.j();
                    n3 = n2 | 1;
                }
                n2 = n3;
                if (this.k != a2.i()) {
                    this.k = a2.i();
                    n2 = n3 | 5;
                }
            }
            return n2;
        }

        public e b() {
            return this.b;
        }

        public void b(int n2) {
            g.d();
            if (n2 != 0) {
                g.b.b(this, n2);
            }
        }

        public String c() {
            return this.d;
        }

        public String d() {
            return this.e;
        }

        public String e() {
            return this.f;
        }

        public boolean f() {
            g.d();
            if (g.b.e() == this) {
                return true;
            }
            return false;
        }

        public boolean g() {
            g.d();
            if (g.b.c() == this) {
                return true;
            }
            return false;
        }

        public int h() {
            return this.m;
        }

        public int i() {
            return this.n;
        }

        public boolean j() {
            boolean bl2 = this.g();
            boolean bl3 = true;
            if (!bl2) {
                if (this.o == 3) {
                    return true;
                }
                if (g.d(this) && this.a("android.media.intent.category.LIVE_AUDIO") && !this.a("android.media.intent.category.LIVE_VIDEO")) {
                    return true;
                }
                bl3 = false;
            }
            return bl3;
        }

        boolean k() {
            if (this.a != null && this.h) {
                return true;
            }
            return false;
        }

        public int l() {
            return this.p;
        }

        public int m() {
            return this.q;
        }

        public int n() {
            return this.r;
        }

        public Bundle o() {
            return this.u;
        }

        public void p() {
            g.d();
            g.b.a(this);
        }

        String q() {
            return this.c;
        }

        public android.support.v7.d.c r() {
            return this.b.a();
        }

        public String toString() {
            StringBuilder stringBuilder = new StringBuilder();
            stringBuilder.append("MediaRouter.RouteInfo{ uniqueId=");
            stringBuilder.append(this.d);
            stringBuilder.append(", name=");
            stringBuilder.append(this.e);
            stringBuilder.append(", description=");
            stringBuilder.append(this.f);
            stringBuilder.append(", iconUri=");
            stringBuilder.append((Object)this.g);
            stringBuilder.append(", enabled=");
            stringBuilder.append(this.h);
            stringBuilder.append(", connecting=");
            stringBuilder.append(this.i);
            stringBuilder.append(", connectionState=");
            stringBuilder.append(this.j);
            stringBuilder.append(", canDisconnect=");
            stringBuilder.append(this.k);
            stringBuilder.append(", playbackType=");
            stringBuilder.append(this.m);
            stringBuilder.append(", playbackStream=");
            stringBuilder.append(this.n);
            stringBuilder.append(", deviceType=");
            stringBuilder.append(this.o);
            stringBuilder.append(", volumeHandling=");
            stringBuilder.append(this.p);
            stringBuilder.append(", volume=");
            stringBuilder.append(this.q);
            stringBuilder.append(", volumeMax=");
            stringBuilder.append(this.r);
            stringBuilder.append(", presentationDisplayId=");
            stringBuilder.append(this.t);
            stringBuilder.append(", extras=");
            stringBuilder.append((Object)this.u);
            stringBuilder.append(", settingsIntent=");
            stringBuilder.append((Object)this.v);
            stringBuilder.append(", providerPackageName=");
            stringBuilder.append(this.b.b());
            stringBuilder.append(" }");
            return stringBuilder.toString();
        }
    }

}


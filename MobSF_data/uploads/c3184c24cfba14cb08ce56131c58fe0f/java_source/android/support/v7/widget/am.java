/*
 * Decompiled with CFR 0_132.
 * 
 * Could not load the following classes:
 *  android.view.View
 */
package android.support.v7.widget;

import android.support.v4.e.e;
import android.support.v7.widget.RecyclerView;
import android.support.v7.widget.ad;
import android.support.v7.widget.f;
import android.view.View;
import java.lang.ref.WeakReference;
import java.util.ArrayList;
import java.util.Arrays;
import java.util.Collections;
import java.util.Comparator;

final class am
implements Runnable {
    static final ThreadLocal<am> a = new ThreadLocal();
    static Comparator<b> e = new Comparator<b>(){

        public int a(b b2, b b3) {
            RecyclerView recyclerView = b2.d;
            int n2 = 1;
            int n3 = recyclerView == null ? 1 : 0;
            int n4 = b3.d == null;
            if (n3 != n4) {
                if (b2.d == null) {
                    return 1;
                }
                return -1;
            }
            if (b2.a != b3.a) {
                n3 = n2;
                if (b2.a) {
                    n3 = -1;
                }
                return n3;
            }
            n3 = b3.b - b2.b;
            if (n3 != 0) {
                return n3;
            }
            n3 = b2.c - b3.c;
            if (n3 != 0) {
                return n3;
            }
            return 0;
        }

        @Override
        public /* synthetic */ int compare(Object object, Object object2) {
            return this.a((b)object, (b)object2);
        }
    };
    ArrayList<RecyclerView> b = new ArrayList();
    long c;
    long d;
    private ArrayList<b> f = new ArrayList();

    am() {
    }

    private RecyclerView.x a(RecyclerView recyclerView, int n2, long l2) {
        RecyclerView.x x2;
        block6 : {
            if (am.a(recyclerView, n2)) {
                return null;
            }
            RecyclerView.p p2 = recyclerView.d;
            recyclerView.l();
            x2 = p2.a(n2, false, l2);
            if (x2 == null) break block6;
            if (x2.p() && !x2.n()) {
                p2.a(x2.a);
                break block6;
            }
            p2.a(x2, false);
        }
        return x2;
        finally {
            recyclerView.b(false);
        }
    }

    private void a() {
        int n2;
        Object object;
        int n3;
        int n4 = this.b.size();
        int n5 = 0;
        for (n2 = 0; n2 < n4; ++n2) {
            object = this.b.get(n2);
            n3 = n5;
            if (object.getWindowVisibility() == 0) {
                object.B.a((RecyclerView)object, false);
                n3 = n5 + object.B.d;
            }
            n5 = n3;
        }
        this.f.ensureCapacity(n5);
        n2 = 0;
        for (n5 = 0; n5 < n4; ++n5) {
            RecyclerView recyclerView = this.b.get(n5);
            if (recyclerView.getWindowVisibility() != 0) continue;
            a a2 = recyclerView.B;
            int n6 = Math.abs(a2.a) + Math.abs(a2.b);
            for (n3 = 0; n3 < a2.d * 2; n3 += 2) {
                if (n2 >= this.f.size()) {
                    object = new b();
                    this.f.add((b)object);
                } else {
                    object = this.f.get(n2);
                }
                int n7 = a2.c[n3 + 1];
                boolean bl2 = n7 <= n6;
                object.a = bl2;
                object.b = n6;
                object.c = n7;
                object.d = recyclerView;
                object.e = a2.c[n3];
                ++n2;
            }
        }
        Collections.sort(this.f, e);
    }

    private void a(RecyclerView recyclerView, long l2) {
        if (recyclerView == null) {
            return;
        }
        if (recyclerView.w && recyclerView.f.c() != 0) {
            recyclerView.c();
        }
        a a2 = recyclerView.B;
        a2.a(recyclerView, true);
        if (a2.d != 0) {
            int n2;
            try {
                e.a("RV Nested Prefetch");
                recyclerView.C.a(recyclerView.l);
                n2 = 0;
            }
            catch (Throwable throwable) {
                e.a();
                throw throwable;
            }
            do {
                if (n2 >= a2.d * 2) break;
                this.a(recyclerView, a2.c[n2], l2);
                n2 += 2;
            } while (true);
            e.a();
            return;
        }
    }

    private void a(b object, long l2) {
        long l3 = object.a ? Long.MAX_VALUE : l2;
        object = this.a(object.d, object.e, l3);
        if (object != null && object.b != null && object.p() && !object.n()) {
            this.a(object.b.get(), l2);
        }
    }

    static boolean a(RecyclerView recyclerView, int n2) {
        int n3 = recyclerView.f.c();
        for (int i2 = 0; i2 < n3; ++i2) {
            RecyclerView.x x2 = RecyclerView.e(recyclerView.f.d(i2));
            if (x2.c != n2 || x2.n()) continue;
            return true;
        }
        return false;
    }

    private void b(long l2) {
        for (int i2 = 0; i2 < this.f.size(); ++i2) {
            b b2 = this.f.get(i2);
            if (b2.d == null) {
                return;
            }
            this.a(b2, l2);
            b2.a();
        }
    }

    void a(long l2) {
        this.a();
        this.b(l2);
    }

    public void a(RecyclerView recyclerView) {
        this.b.add(recyclerView);
    }

    void a(RecyclerView recyclerView, int n2, int n3) {
        if (recyclerView.isAttachedToWindow() && this.c == 0L) {
            this.c = recyclerView.getNanoTime();
            recyclerView.post((Runnable)this);
        }
        recyclerView.B.a(n2, n3);
    }

    public void b(RecyclerView recyclerView) {
        this.b.remove(recyclerView);
    }

    /*
     * Enabled aggressive block sorting
     * Enabled unnecessary exception pruning
     * Enabled aggressive exception aggregation
     */
    @Override
    public void run() {
        block5 : {
            int n2;
            long l2;
            try {
                e.a("RV Prefetch");
                boolean bl2 = this.b.isEmpty();
                if (bl2) break block5;
                n2 = this.b.size();
                l2 = 0L;
            }
            catch (Throwable throwable) {
                this.c = 0L;
                e.a();
                throw throwable;
            }
            for (int i2 = 0; i2 < n2; ++i2) {
                RecyclerView recyclerView = this.b.get(i2);
                long l3 = l2;
                if (recyclerView.getWindowVisibility() == 0) {
                    l3 = Math.max(recyclerView.getDrawingTime(), l2);
                }
                l2 = l3;
            }
        }
        this.c = 0L;
        e.a();
    }

    static class a
    implements RecyclerView.i.a {
        int a;
        int b;
        int[] c;
        int d;

        a() {
        }

        void a() {
            if (this.c != null) {
                Arrays.fill(this.c, -1);
            }
            this.d = 0;
        }

        void a(int n2, int n3) {
            this.a = n2;
            this.b = n3;
        }

        void a(RecyclerView recyclerView, boolean bl2) {
            this.d = 0;
            if (this.c != null) {
                Arrays.fill(this.c, -1);
            }
            RecyclerView.i i2 = recyclerView.m;
            if (recyclerView.l != null && i2 != null && i2.p()) {
                if (bl2) {
                    if (!recyclerView.e.d()) {
                        i2.a(recyclerView.l.a(), this);
                    }
                } else if (!recyclerView.v()) {
                    i2.a(this.a, this.b, recyclerView.C, this);
                }
                if (this.d > i2.x) {
                    i2.x = this.d;
                    i2.y = bl2;
                    recyclerView.d.b();
                }
            }
        }

        boolean a(int n2) {
            if (this.c != null) {
                int n3 = this.d;
                for (int i2 = 0; i2 < n3 * 2; i2 += 2) {
                    if (this.c[i2] != n2) continue;
                    return true;
                }
            }
            return false;
        }

        @Override
        public void b(int n2, int n3) {
            if (n2 >= 0) {
                if (n3 >= 0) {
                    int n4 = this.d * 2;
                    if (this.c == null) {
                        this.c = new int[4];
                        Arrays.fill(this.c, -1);
                    } else if (n4 >= this.c.length) {
                        int[] arrn = this.c;
                        this.c = new int[n4 * 2];
                        System.arraycopy(arrn, 0, this.c, 0, arrn.length);
                    }
                    this.c[n4] = n2;
                    this.c[n4 + 1] = n3;
                    ++this.d;
                    return;
                }
                throw new IllegalArgumentException("Pixel distance must be non-negative");
            }
            throw new IllegalArgumentException("Layout positions must be non-negative");
        }
    }

    static class b {
        public boolean a;
        public int b;
        public int c;
        public RecyclerView d;
        public int e;

        b() {
        }

        public void a() {
            this.a = false;
            this.b = 0;
            this.c = 0;
            this.d = null;
            this.e = 0;
        }
    }

}


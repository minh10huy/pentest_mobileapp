/*
 * Decompiled with CFR 0_132.
 * 
 * Could not load the following classes:
 *  android.net.NetworkInfo
 *  android.net.Uri
 */
package com.squareup.picasso;

import android.net.NetworkInfo;
import android.net.Uri;
import com.squareup.picasso.aa;
import com.squareup.picasso.j;
import com.squareup.picasso.q;
import com.squareup.picasso.t;
import com.squareup.picasso.w;
import com.squareup.picasso.y;
import d.aa;
import d.ac;
import d.ad;
import d.d;
import e.e;
import e.s;
import java.io.IOException;

class r
extends y {
    private final j a;
    private final aa b;

    r(j j2, aa aa2) {
        this.a = j2;
        this.b = aa2;
    }

    private static d.aa b(w object, int n2) {
        Object object2;
        if (n2 != 0) {
            if (q.c(n2)) {
                object2 = d.b;
            } else {
                object2 = new d.a();
                if (!q.a(n2)) {
                    object2.a();
                }
                if (!q.b(n2)) {
                    object2.b();
                }
                object2 = object2.d();
            }
        } else {
            object2 = null;
        }
        object = new aa.a().a(object.d.toString());
        if (object2 != null) {
            object.a((d)object2);
        }
        return object.a();
    }

    @Override
    int a() {
        return 2;
    }

    @Override
    public y.a a(w object, int n2) {
        Object object2 = r.b(object, n2);
        ac ac2 = this.a.a((d.aa)object2);
        object2 = ac2.h();
        if (ac2.d()) {
            object = ac2.k() == null ? t.d.c : t.d.b;
            if (object == t.d.b && object2.b() == 0L) {
                object2.close();
                throw new a("Received response with 0 content-length header.");
            }
            if (object == t.d.c && object2.b() > 0L) {
                this.b.a(object2.b());
            }
            return new y.a(object2.c(), (t.d)((Object)object));
        }
        object2.close();
        throw new b(ac2.c(), object.c);
    }

    @Override
    public boolean a(w object) {
        object = object.d.getScheme();
        if (!"http".equals(object) && !"https".equals(object)) {
            return false;
        }
        return true;
    }

    @Override
    boolean a(boolean bl2, NetworkInfo networkInfo) {
        if (networkInfo != null && !networkInfo.isConnected()) {
            return false;
        }
        return true;
    }

    @Override
    boolean b() {
        return true;
    }

    static class a
    extends IOException {
        a(String string2) {
            super(string2);
        }
    }

    static final class b
    extends IOException {
        final int a;
        final int b;

        b(int n2, int n3) {
            StringBuilder stringBuilder = new StringBuilder();
            stringBuilder.append("HTTP ");
            stringBuilder.append(n2);
            super(stringBuilder.toString());
            this.a = n2;
            this.b = n3;
        }
    }

}


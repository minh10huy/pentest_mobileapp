/*
 * Decompiled with CFR 0_132.
 * 
 * Could not load the following classes:
 *  android.content.Context
 *  android.content.res.Resources
 *  android.graphics.Bitmap
 *  android.graphics.Canvas
 *  android.graphics.ColorFilter
 *  android.graphics.Paint
 *  android.graphics.Path
 *  android.graphics.Rect
 *  android.graphics.drawable.Animatable
 *  android.graphics.drawable.BitmapDrawable
 *  android.graphics.drawable.Drawable
 *  android.os.SystemClock
 *  android.util.DisplayMetrics
 *  android.widget.ImageView
 */
package com.squareup.picasso;

import android.content.Context;
import android.content.res.Resources;
import android.graphics.Bitmap;
import android.graphics.Canvas;
import android.graphics.ColorFilter;
import android.graphics.Paint;
import android.graphics.Path;
import android.graphics.Rect;
import android.graphics.drawable.Animatable;
import android.graphics.drawable.BitmapDrawable;
import android.graphics.drawable.Drawable;
import android.os.SystemClock;
import android.util.DisplayMetrics;
import android.widget.ImageView;
import com.squareup.picasso.t;

final class u
extends BitmapDrawable {
    private static final Paint e = new Paint();
    Drawable a;
    long b;
    boolean c;
    int d = 255;
    private final boolean f;
    private final float g;
    private final t.d h;

    u(Context context, Bitmap bitmap, Drawable drawable2, t.d d2, boolean bl2, boolean bl3) {
        super(context.getResources(), bitmap);
        this.f = bl3;
        this.g = context.getResources().getDisplayMetrics().density;
        this.h = d2;
        boolean bl4 = d2 != t.d.a && !bl2;
        if (bl4) {
            this.a = drawable2;
            this.c = true;
            this.b = SystemClock.uptimeMillis();
        }
    }

    private static Path a(int n2, int n3, int n4) {
        Path path = new Path();
        float f2 = n2;
        float f3 = n3;
        path.moveTo(f2, f3);
        path.lineTo((float)(n2 + n4), f3);
        path.lineTo(f2, (float)(n3 + n4));
        return path;
    }

    private void a(Canvas canvas) {
        e.setColor(-1);
        canvas.drawPath(u.a(0, 0, (int)(this.g * 16.0f)), e);
        e.setColor(this.h.d);
        canvas.drawPath(u.a(0, 0, (int)(this.g * 15.0f)), e);
    }

    static void a(ImageView imageView, Context context, Bitmap bitmap, t.d d2, boolean bl2, boolean bl3) {
        Drawable drawable2 = imageView.getDrawable();
        if (drawable2 instanceof Animatable) {
            ((Animatable)drawable2).stop();
        }
        imageView.setImageDrawable((Drawable)new u(context, bitmap, drawable2, d2, bl2, bl3));
    }

    static void a(ImageView imageView, Drawable drawable2) {
        imageView.setImageDrawable(drawable2);
        if (imageView.getDrawable() instanceof Animatable) {
            ((Animatable)imageView.getDrawable()).start();
        }
    }

    /*
     * Unable to fully structure code
     * Enabled aggressive block sorting
     * Lifted jumps to return sites
     */
    public void draw(Canvas var1_1) {
        if (!this.c) ** GOTO lbl6
        var2_2 = (float)(SystemClock.uptimeMillis() - this.b) / 200.0f;
        if (var2_2 >= 1.0f) {
            this.c = false;
            this.a = null;
lbl6: // 2 sources:
            super.draw(var1_1);
        } else {
            if (this.a != null) {
                this.a.draw(var1_1);
            }
            super.setAlpha((int)((float)this.d * var2_2));
            super.draw(var1_1);
            super.setAlpha(this.d);
        }
        if (this.f == false) return;
        this.a(var1_1);
    }

    protected void onBoundsChange(Rect rect) {
        if (this.a != null) {
            this.a.setBounds(rect);
        }
        super.onBoundsChange(rect);
    }

    public void setAlpha(int n2) {
        this.d = n2;
        if (this.a != null) {
            this.a.setAlpha(n2);
        }
        super.setAlpha(n2);
    }

    public void setColorFilter(ColorFilter colorFilter) {
        if (this.a != null) {
            this.a.setColorFilter(colorFilter);
        }
        super.setColorFilter(colorFilter);
    }
}


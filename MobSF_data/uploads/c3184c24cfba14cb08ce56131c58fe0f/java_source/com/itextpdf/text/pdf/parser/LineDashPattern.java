/*
 * Decompiled with CFR 0_132.
 */
package com.itextpdf.text.pdf.parser;

import com.itextpdf.text.pdf.PdfArray;
import com.itextpdf.text.pdf.PdfNumber;

public class LineDashPattern {
    private DashArrayElem currentElem;
    private int currentIndex;
    private PdfArray dashArray;
    private float dashPhase;
    private int elemOrdinalNumber = 1;

    public LineDashPattern(PdfArray pdfArray, float f2) {
        this.dashArray = new PdfArray(pdfArray);
        this.dashPhase = f2;
        this.initFirst(f2);
    }

    private void initFirst(float f2) {
        if (this.dashArray.size() > 0) {
            while (f2 > 0.0f) {
                f2 -= this.dashArray.getAsNumber(this.currentIndex).floatValue();
                this.currentIndex = (this.currentIndex + 1) % this.dashArray.size();
                ++this.elemOrdinalNumber;
            }
            if (f2 < 0.0f) {
                --this.elemOrdinalNumber;
                --this.currentIndex;
                this.currentElem = new DashArrayElem(- f2, this.isEven(this.elemOrdinalNumber));
                return;
            }
            this.currentElem = new DashArrayElem(this.dashArray.getAsNumber(this.currentIndex).floatValue(), this.isEven(this.elemOrdinalNumber));
        }
    }

    private boolean isEven(int n2) {
        if (n2 % 2 == 0) {
            return true;
        }
        return false;
    }

    public PdfArray getDashArray() {
        return this.dashArray;
    }

    public float getDashPhase() {
        return this.dashPhase;
    }

    public boolean isSolid() {
        if (this.dashArray.size() % 2 != 0) {
            return false;
        }
        float f2 = 0.0f;
        for (int i2 = 1; i2 < this.dashArray.size(); i2 += 2) {
            f2 += this.dashArray.getAsNumber(i2).floatValue();
        }
        if (Float.compare(f2, 0.0f) == 0) {
            return true;
        }
        return false;
    }

    public DashArrayElem next() {
        DashArrayElem dashArrayElem = this.currentElem;
        if (this.dashArray.size() > 0) {
            int n2;
            this.currentIndex = (this.currentIndex + 1) % this.dashArray.size();
            float f2 = this.dashArray.getAsNumber(this.currentIndex).floatValue();
            this.elemOrdinalNumber = n2 = this.elemOrdinalNumber + 1;
            this.currentElem = new DashArrayElem(f2, this.isEven(n2));
        }
        return dashArrayElem;
    }

    public void reset() {
        this.currentIndex = 0;
        this.elemOrdinalNumber = 1;
        this.initFirst(this.dashPhase);
    }

    public void setDashArray(PdfArray pdfArray) {
        this.dashArray = pdfArray;
    }

    public void setDashPhase(float f2) {
        this.dashPhase = f2;
    }

    public class DashArrayElem {
        private boolean isGap;
        private float val;

        public DashArrayElem(float f2, boolean bl2) {
            this.val = f2;
            this.isGap = bl2;
        }

        public float getVal() {
            return this.val;
        }

        public boolean isGap() {
            return this.isGap;
        }

        public void setGap(boolean bl2) {
            this.isGap = bl2;
        }

        public void setVal(float f2) {
            this.val = f2;
        }
    }

}


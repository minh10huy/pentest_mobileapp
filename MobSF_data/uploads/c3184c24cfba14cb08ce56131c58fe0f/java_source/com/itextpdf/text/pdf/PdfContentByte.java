/*
 * Decompiled with CFR 0_132.
 */
package com.itextpdf.text.pdf;

import com.itextpdf.awt.geom.AffineTransform;
import com.itextpdf.text.AccessibleElementId;
import com.itextpdf.text.BaseColor;
import com.itextpdf.text.DocumentException;
import com.itextpdf.text.ExceptionConverter;
import com.itextpdf.text.Image;
import com.itextpdf.text.Rectangle;
import com.itextpdf.text.error_messages.MessageLocalization;
import com.itextpdf.text.exceptions.IllegalPdfSyntaxException;
import com.itextpdf.text.pdf.BaseFont;
import com.itextpdf.text.pdf.ByteBuffer;
import com.itextpdf.text.pdf.CMYKColor;
import com.itextpdf.text.pdf.ColorDetails;
import com.itextpdf.text.pdf.DeviceNColor;
import com.itextpdf.text.pdf.ExtendedColor;
import com.itextpdf.text.pdf.FontDetails;
import com.itextpdf.text.pdf.GrayColor;
import com.itextpdf.text.pdf.ICachedColorSpace;
import com.itextpdf.text.pdf.LabColor;
import com.itextpdf.text.pdf.PageResources;
import com.itextpdf.text.pdf.PatternColor;
import com.itextpdf.text.pdf.PdfAction;
import com.itextpdf.text.pdf.PdfAnnotation;
import com.itextpdf.text.pdf.PdfAppearance;
import com.itextpdf.text.pdf.PdfArray;
import com.itextpdf.text.pdf.PdfArtifact;
import com.itextpdf.text.pdf.PdfDestination;
import com.itextpdf.text.pdf.PdfDeviceNColor;
import com.itextpdf.text.pdf.PdfDictionary;
import com.itextpdf.text.pdf.PdfDocument;
import com.itextpdf.text.pdf.PdfFormField;
import com.itextpdf.text.pdf.PdfGState;
import com.itextpdf.text.pdf.PdfIndirectObject;
import com.itextpdf.text.pdf.PdfIndirectReference;
import com.itextpdf.text.pdf.PdfLabColor;
import com.itextpdf.text.pdf.PdfLayer;
import com.itextpdf.text.pdf.PdfLayerMembership;
import com.itextpdf.text.pdf.PdfName;
import com.itextpdf.text.pdf.PdfNumber;
import com.itextpdf.text.pdf.PdfOCG;
import com.itextpdf.text.pdf.PdfObject;
import com.itextpdf.text.pdf.PdfOutline;
import com.itextpdf.text.pdf.PdfPSXObject;
import com.itextpdf.text.pdf.PdfPatternPainter;
import com.itextpdf.text.pdf.PdfShading;
import com.itextpdf.text.pdf.PdfShadingPattern;
import com.itextpdf.text.pdf.PdfSpotColor;
import com.itextpdf.text.pdf.PdfStream;
import com.itextpdf.text.pdf.PdfStructureElement;
import com.itextpdf.text.pdf.PdfStructureTreeRoot;
import com.itextpdf.text.pdf.PdfTemplate;
import com.itextpdf.text.pdf.PdfTextArray;
import com.itextpdf.text.pdf.PdfWriter;
import com.itextpdf.text.pdf.ShadingColor;
import com.itextpdf.text.pdf.SpotColor;
import com.itextpdf.text.pdf.StringUtils;
import com.itextpdf.text.pdf.interfaces.IAccessibleElement;
import java.io.OutputStream;
import java.io.Serializable;
import java.util.ArrayList;
import java.util.HashMap;
import java.util.Iterator;
import java.util.Map;
import java.util.Set;

public class PdfContentByte {
    public static final int ALIGN_CENTER = 1;
    public static final int ALIGN_LEFT = 0;
    public static final int ALIGN_RIGHT = 2;
    public static final int LINE_CAP_BUTT = 0;
    public static final int LINE_CAP_PROJECTING_SQUARE = 2;
    public static final int LINE_CAP_ROUND = 1;
    public static final int LINE_JOIN_BEVEL = 2;
    public static final int LINE_JOIN_MITER = 0;
    public static final int LINE_JOIN_ROUND = 1;
    public static final int TEXT_RENDER_MODE_CLIP = 7;
    public static final int TEXT_RENDER_MODE_FILL = 0;
    public static final int TEXT_RENDER_MODE_FILL_CLIP = 4;
    public static final int TEXT_RENDER_MODE_FILL_STROKE = 2;
    public static final int TEXT_RENDER_MODE_FILL_STROKE_CLIP = 6;
    public static final int TEXT_RENDER_MODE_INVISIBLE = 3;
    public static final int TEXT_RENDER_MODE_STROKE = 1;
    public static final int TEXT_RENDER_MODE_STROKE_CLIP = 5;
    private static HashMap<PdfName, String> abrev;
    private static final float[] unitRect;
    protected ByteBuffer content = new ByteBuffer();
    protected PdfContentByte duplicatedFrom = null;
    private boolean inText = false;
    protected ArrayList<Integer> layerDepth;
    protected int markedContentSize = 0;
    private int mcDepth = 0;
    private ArrayList<IAccessibleElement> mcElements = new ArrayList();
    protected PdfDocument pdf;
    protected int separator = 10;
    protected GraphicState state = new GraphicState();
    protected ArrayList<GraphicState> stateList = new ArrayList();
    private boolean suppressTagging = false;
    protected PdfWriter writer;

    static {
        unitRect = new float[]{0.0f, 0.0f, 0.0f, 1.0f, 1.0f, 0.0f, 1.0f, 1.0f};
        abrev = new HashMap();
        abrev.put(PdfName.BITSPERCOMPONENT, "/BPC ");
        abrev.put(PdfName.COLORSPACE, "/CS ");
        abrev.put(PdfName.DECODE, "/D ");
        abrev.put(PdfName.DECODEPARMS, "/DP ");
        abrev.put(PdfName.FILTER, "/F ");
        abrev.put(PdfName.HEIGHT, "/H ");
        abrev.put(PdfName.IMAGEMASK, "/IM ");
        abrev.put(PdfName.INTENT, "/Intent ");
        abrev.put(PdfName.INTERPOLATE, "/I ");
        abrev.put(PdfName.WIDTH, "/W ");
    }

    public PdfContentByte(PdfWriter pdfWriter) {
        if (pdfWriter != null) {
            this.writer = pdfWriter;
            this.pdf = this.writer.getPdfDocument();
        }
    }

    private void HelperCMYK(float f2, float f3, float f4, float f5) {
        float f6;
        if (f2 < 0.0f) {
            f6 = 0.0f;
        } else {
            f6 = f2;
            if (f2 > 1.0f) {
                f6 = 1.0f;
            }
        }
        if (f3 < 0.0f) {
            f2 = 0.0f;
        } else {
            f2 = f3;
            if (f3 > 1.0f) {
                f2 = 1.0f;
            }
        }
        if (f4 < 0.0f) {
            f3 = 0.0f;
        } else {
            f3 = f4;
            if (f4 > 1.0f) {
                f3 = 1.0f;
            }
        }
        if (f5 < 0.0f) {
            f4 = 0.0f;
        } else {
            f4 = f5;
            if (f5 > 1.0f) {
                f4 = 1.0f;
            }
        }
        this.content.append(f6).append(' ').append(f2).append(' ').append(f3).append(' ').append(f4);
    }

    private void HelperRGB(float f2, float f3, float f4) {
        float f5;
        if (f2 < 0.0f) {
            f5 = 0.0f;
        } else {
            f5 = f2;
            if (f2 > 1.0f) {
                f5 = 1.0f;
            }
        }
        if (f3 < 0.0f) {
            f2 = 0.0f;
        } else {
            f2 = f3;
            if (f3 > 1.0f) {
                f2 = 1.0f;
            }
        }
        if (f4 < 0.0f) {
            f3 = 0.0f;
        } else {
            f3 = f4;
            if (f4 > 1.0f) {
                f3 = 1.0f;
            }
        }
        this.content.append(f5).append(' ').append(f2).append(' ').append(f3);
    }

    private void addTemplate(PdfTemplate pdfTemplate, double d2, double d3, double d4, double d5, double d6, double d7, boolean bl2, boolean bl3) {
        this.checkWriter();
        this.checkNoPattern(pdfTemplate);
        PdfWriter.checkPdfIsoConformance(this.writer, 20, pdfTemplate);
        PdfName pdfName = this.writer.addDirectTemplateSimple(pdfTemplate, null);
        pdfName = this.getPageResources().addXObject(pdfName, pdfTemplate.getIndirectReference());
        if (this.isTagged() && bl2) {
            if (this.inText) {
                this.endText();
            }
            if (!(pdfTemplate.isContentTagged() || pdfTemplate.getPageReference() != null && bl3)) {
                pdfTemplate.setPageReference(this.writer.getCurrentPage());
                if (bl3) {
                    pdfTemplate.setContentTagged(true);
                    this.ensureDocumentTagIsOpen();
                    ArrayList<IAccessibleElement> arrayList = this.getMcElements();
                    if (arrayList != null && arrayList.size() > 0) {
                        pdfTemplate.getMcElements().add(arrayList.get(arrayList.size() - 1));
                    }
                } else {
                    this.openMCBlock(pdfTemplate);
                }
            } else {
                throw new RuntimeException(MessageLocalization.getComposedMessage("template.with.tagged.could.not.be.used.more.than.once", new Object[0]));
            }
        }
        this.content.append("q ");
        this.content.append(d2).append(' ');
        this.content.append(d3).append(' ');
        this.content.append(d4).append(' ');
        this.content.append(d5).append(' ');
        this.content.append(d6).append(' ');
        this.content.append(d7).append(" cm ");
        this.content.append(pdfName.getBytes()).append(" Do Q").append_i(this.separator);
        if (this.isTagged() && bl2 && !bl3) {
            this.closeMCBlock(pdfTemplate);
            pdfTemplate.setId(null);
        }
    }

    private void beginLayer2(PdfOCG object) {
        PdfName pdfName = (PdfName)this.writer.addSimpleProperty(object, object.getRef())[0];
        object = this.getPageResources().addProperty(pdfName, object.getRef());
        this.content.append("/OC ").append(object.getBytes()).append(" BDC").append_i(this.separator);
    }

    /*
     * Enabled force condition propagation
     * Lifted jumps to return sites
     */
    private void beginMarkedContentSequence(PdfStructureElement pdfStructureElement, String string2) {
        PdfObject pdfObject = pdfStructureElement.get(PdfName.K);
        Object object = this.pdf.getStructParentIndexAndNextMarkPoint(this.getCurrentPage());
        int n2 = object[0];
        int n3 = object[1];
        if (pdfObject != null) {
            if (pdfObject.isNumber()) {
                object = new PdfArray();
                object.add(pdfObject);
                pdfStructureElement.put(PdfName.K, (PdfObject)object);
            } else {
                if (!pdfObject.isArray()) throw new IllegalArgumentException(MessageLocalization.getComposedMessage("unknown.object.at.k.1", pdfObject.getClass().toString()));
                object = (PdfArray)pdfObject;
            }
            if (object.getAsNumber(0) != null) {
                pdfObject = new PdfDictionary(PdfName.MCR);
                pdfObject.put(PdfName.PG, this.getCurrentPage());
                pdfObject.put(PdfName.MCID, new PdfNumber(n3));
                object.add(pdfObject);
            }
            pdfStructureElement.setPageMark(this.pdf.getStructParentIndex(this.getCurrentPage()), -1);
        } else {
            pdfStructureElement.setPageMark(n2, n3);
            pdfStructureElement.put(PdfName.PG, this.getCurrentPage());
        }
        this.setMcDepth(this.getMcDepth() + 1);
        n2 = this.content.size();
        this.content.append(pdfStructureElement.get(PdfName.S).getBytes()).append(" <</MCID ").append(n3);
        if (string2 != null) {
            this.content.append("/E (").append(string2).append(")");
        }
        this.content.append(">> BDC").append_i(this.separator);
        this.markedContentSize += this.content.size() - n2;
    }

    public static ArrayList<double[]> bezierArc(double d2, double d3, double d4, double d5, double d6, double d7) {
        int n2;
        double d8;
        if (d2 > d4) {
            d8 = d2;
        } else {
            d8 = d4;
            d4 = d2;
        }
        if (d5 <= d3) {
            d2 = d5;
            d5 = d3;
            d3 = d2;
        }
        if (Math.abs(d7) <= 90.0) {
            d2 = d7;
            n2 = 1;
        } else {
            n2 = (int)Math.ceil(Math.abs(d7) / 90.0);
            d2 = d7 / (double)n2;
        }
        d7 = (d4 + d8) / 2.0;
        double d9 = (d5 + d3) / 2.0;
        d4 = (d8 - d4) / 2.0;
        d5 = (d3 - d5) / 2.0;
        d3 = d2 * 3.141592653589793 / 360.0;
        d3 = Math.abs((1.0 - Math.cos(d3)) * 1.3333333333333333 / Math.sin(d3));
        ArrayList<double[]> arrayList = new ArrayList<double[]>();
        int n3 = 0;
        while (n3 < n2) {
            double d10 = (d6 + (double)n3 * d2) * 3.141592653589793 / 180.0;
            double d11 = (d6 + (double)(++n3) * d2) * 3.141592653589793 / 180.0;
            d8 = Math.cos(d10);
            double d12 = Math.cos(d11);
            d10 = Math.sin(d10);
            d11 = Math.sin(d11);
            if (d2 > 0.0) {
                arrayList.add(new double[]{d7 + d4 * d8, d9 - d5 * d10, d7 + (d8 - d3 * d10) * d4, d9 - (d10 + d8 * d3) * d5, (d12 + d3 * d11) * d4 + d7, d9 - (d11 - d3 * d12) * d5, d7 + d12 * d4, d9 - d11 * d5});
                continue;
            }
            arrayList.add(new double[]{d7 + d4 * d8, d9 - d5 * d10, d7 + (d8 + d3 * d10) * d4, d9 - (d10 - d8 * d3) * d5, (d12 - d3 * d11) * d4 + d7, d9 - (d3 * d12 + d11) * d5, d7 + d12 * d4, d9 - d11 * d5});
        }
        return arrayList;
    }

    public static ArrayList<double[]> bezierArc(float f2, float f3, float f4, float f5, float f6, float f7) {
        return PdfContentByte.bezierArc((double)f2, (double)f3, (double)f4, (double)f5, (double)f6, (double)f7);
    }

    private void closeMCBlockInt(IAccessibleElement iAccessibleElement) {
        if (this.isTagged() && iAccessibleElement.getRole() != null) {
            PdfStructureElement pdfStructureElement = this.pdf.getStructElement(iAccessibleElement.getId());
            if (pdfStructureElement != null) {
                pdfStructureElement.writeAttributes(iAccessibleElement);
            }
            if (this.writer.needToBeMarkedInContent(iAccessibleElement)) {
                boolean bl2 = this.inText;
                if (this.inText) {
                    this.endText();
                }
                this.endMarkedContentSequence();
                if (bl2) {
                    this.beginText(true);
                }
            }
        }
    }

    private boolean compareColors(BaseColor baseColor, BaseColor baseColor2) {
        if (baseColor == null && baseColor2 == null) {
            return true;
        }
        if (baseColor != null && baseColor2 != null) {
            if (baseColor instanceof ExtendedColor) {
                return baseColor.equals(baseColor2);
            }
            return baseColor2.equals(baseColor);
        }
        return false;
    }

    private void ensureDocumentTagIsOpen() {
        if (this.pdf.openMCDocument) {
            this.pdf.openMCDocument = false;
            this.writer.getDirectContentUnder().openMCBlock(this.pdf);
        }
    }

    private float getEffectiveStringWidth(String string2, boolean bl2, float f2) {
        BaseFont baseFont = this.state.fontDetails.getBaseFont();
        float f3 = bl2 ? baseFont.getWidthPointKerned(string2, this.state.size) : baseFont.getWidthPoint(string2, this.state.size);
        float f4 = f3;
        if (this.state.charSpace != 0.0f) {
            f4 = f3;
            if (string2.length() > 0) {
                f4 = f3 + this.state.charSpace * (float)string2.length();
            }
        }
        f3 = f4;
        if (this.state.wordSpace != 0.0f) {
            f3 = f4;
            if (!baseFont.isVertical()) {
                int n2 = 0;
                do {
                    f3 = f4;
                    if (n2 >= string2.length()) break;
                    f3 = f4;
                    if (string2.charAt(n2) == ' ') {
                        f3 = f4 + this.state.wordSpace;
                    }
                    ++n2;
                    f4 = f3;
                } while (true);
            }
        }
        f2 = f4 = f3 - f2 / 1000.0f * this.state.size;
        if ((double)this.state.scale != 100.0) {
            f2 = f4 * this.state.scale / 100.0f;
        }
        return f2;
    }

    public static PdfTextArray getKernArray(String arrc, BaseFont baseFont) {
        PdfTextArray pdfTextArray = new PdfTextArray();
        StringBuffer stringBuffer = new StringBuffer();
        int n2 = arrc.length() - 1;
        arrc = arrc.toCharArray();
        if (n2 >= 0) {
            stringBuffer.append(arrc, 0, 1);
        }
        int n3 = 0;
        while (n3 < n2) {
            int n4 = n3 + 1;
            char c2 = arrc[n4];
            if ((n3 = baseFont.getKerning(arrc[n3], c2)) == 0) {
                stringBuffer.append(c2);
            } else {
                pdfTextArray.add(stringBuffer.toString());
                stringBuffer.setLength(0);
                stringBuffer.append(arrc, n4, 1);
                pdfTextArray.add(- n3);
            }
            n3 = n4;
        }
        pdfTextArray.add(stringBuffer.toString());
        return pdfTextArray;
    }

    private PdfDictionary getParentStructureElement() {
        PdfDictionary pdfDictionary = this.getMcElements().size() > 0 ? this.pdf.getStructElement(this.getMcElements().get(this.getMcElements().size() - 1).getId()) : null;
        PdfStructureTreeRoot pdfStructureTreeRoot = pdfDictionary;
        if (pdfDictionary == null) {
            pdfStructureTreeRoot = this.writer.getStructureTreeRoot();
        }
        return pdfStructureTreeRoot;
    }

    /*
     * Enabled aggressive block sorting
     */
    private PdfStructureElement openMCBlockInt(IAccessibleElement iAccessibleElement) {
        Object object;
        boolean bl2 = this.isTagged();
        PdfDictionary pdfDictionary = null;
        if (!bl2) return null;
        Object object2 = this.getMcElements().size() > 0 ? this.getMcElements().get(this.getMcElements().size() - 1) : null;
        this.writer.checkElementRole(iAccessibleElement, (IAccessibleElement)object2);
        if (iAccessibleElement.getRole() == null) return null;
        if (!PdfName.ARTIFACT.equals(iAccessibleElement.getRole())) {
            object2 = object = this.pdf.getStructElement(iAccessibleElement.getId());
            if (object == null) {
                object2 = new PdfStructureElement(this.getParentStructureElement(), iAccessibleElement.getRole(), iAccessibleElement.getId());
            }
        } else {
            object2 = null;
        }
        if (PdfName.ARTIFACT.equals(iAccessibleElement.getRole())) {
            Object object3 = iAccessibleElement.getAccessibleAttributes();
            object = pdfDictionary;
            if (object3 != null) {
                object = pdfDictionary;
                if (!object3.isEmpty()) {
                    pdfDictionary = new PdfDictionary();
                    object3 = object3.entrySet().iterator();
                    do {
                        object = pdfDictionary;
                        if (!object3.hasNext()) break;
                        object = (Map.Entry)object3.next();
                        pdfDictionary.put((PdfName)object.getKey(), (PdfObject)object.getValue());
                    } while (true);
                }
            }
            bl2 = this.inText;
            if (this.inText) {
                this.endText();
            }
            this.beginMarkedContentSequence(iAccessibleElement.getRole(), (PdfDictionary)object, true);
            object = object2;
            if (!bl2) return object;
        } else {
            object = object2;
            if (!this.writer.needToBeMarkedInContent(iAccessibleElement)) return object;
            bl2 = this.inText;
            if (this.inText) {
                this.endText();
            }
            if (iAccessibleElement.getAccessibleAttributes() != null && iAccessibleElement.getAccessibleAttribute(PdfName.E) != null) {
                this.beginMarkedContentSequence((PdfStructureElement)object2, iAccessibleElement.getAccessibleAttribute(PdfName.E).toString());
                iAccessibleElement.setAccessibleAttribute(PdfName.E, null);
            } else {
                this.beginMarkedContentSequence((PdfStructureElement)object2);
            }
            object = object2;
            if (!bl2) return object;
        }
        this.beginText(true);
        return object2;
    }

    private void saveColor(BaseColor baseColor, boolean bl2) {
        if (bl2) {
            this.state.colorFill = baseColor;
            return;
        }
        this.state.colorStroke = baseColor;
    }

    private void showText2(String string2) {
        if (this.state.fontDetails != null) {
            StringUtils.escapeString(this.state.fontDetails.convertToBytes(string2), this.content);
            return;
        }
        throw new NullPointerException(MessageLocalization.getComposedMessage("font.and.size.must.be.set.before.writing.any.text", new Object[0]));
    }

    private void showTextAligned(int n2, String string2, float f2, float f3, float f4, boolean bl2) {
        block11 : {
            float f5;
            float f6;
            block14 : {
                block12 : {
                    block13 : {
                        if (this.state.fontDetails == null) break block11;
                        if (f4 != 0.0f) break block12;
                        switch (n2) {
                            default: {
                                break block13;
                            }
                            case 2: {
                                f4 = this.getEffectiveStringWidth(string2, bl2);
                                break;
                            }
                            case 1: {
                                f4 = this.getEffectiveStringWidth(string2, bl2) / 2.0f;
                            }
                        }
                        f2 -= f4;
                    }
                    this.setTextMatrix(f2, f3);
                    if (bl2) {
                        this.showTextKerned(string2);
                        return;
                    }
                    this.showText(string2);
                    return;
                }
                double d2 = (double)f4 * 3.141592653589793 / 180.0;
                f5 = (float)Math.cos(d2);
                f6 = (float)Math.sin(d2);
                switch (n2) {
                    default: {
                        break block14;
                    }
                    case 2: {
                        f4 = this.getEffectiveStringWidth(string2, bl2);
                        break;
                    }
                    case 1: {
                        f4 = this.getEffectiveStringWidth(string2, bl2) / 2.0f;
                    }
                }
                f3 -= f4 * f6;
                f2 -= f4 * f5;
            }
            this.setTextMatrix(f5, f6, - f6, f5, f2, f3);
            if (bl2) {
                this.showTextKerned(string2);
            } else {
                this.showText(string2);
            }
            this.setTextMatrix(0.0f, 0.0f);
            return;
        }
        throw new NullPointerException(MessageLocalization.getComposedMessage("font.and.size.must.be.set.before.writing.any.text", new Object[0]));
    }

    public void add(PdfContentByte pdfContentByte) {
        if (pdfContentByte.writer != null && this.writer != pdfContentByte.writer) {
            throw new RuntimeException(MessageLocalization.getComposedMessage("inconsistent.writers.are.you.mixing.two.documents", new Object[0]));
        }
        this.content.append(pdfContentByte.content);
        this.markedContentSize += pdfContentByte.markedContentSize;
    }

    void addAnnotation(PdfAnnotation pdfAnnotation) {
        int n2 = this.isTagged() && pdfAnnotation.getRole() != null && (!(pdfAnnotation instanceof PdfFormField) || ((PdfFormField)pdfAnnotation).getKids() == null) ? 1 : 0;
        if (n2 != 0) {
            this.openMCBlock(pdfAnnotation);
        }
        this.writer.addAnnotation(pdfAnnotation);
        if (n2 != 0) {
            PdfStructureElement pdfStructureElement = this.pdf.getStructElement(pdfAnnotation.getId());
            if (pdfStructureElement != null) {
                n2 = this.pdf.getStructParentIndex(pdfAnnotation);
                pdfAnnotation.put(PdfName.STRUCTPARENT, new PdfNumber(n2));
                pdfStructureElement.setAnnotation(pdfAnnotation, this.getCurrentPage());
                this.writer.getStructureTreeRoot().setAnnotationMark(n2, pdfStructureElement.getReference());
            }
            this.closeMCBlock(pdfAnnotation);
        }
    }

    public void addAnnotation(PdfAnnotation pdfAnnotation, boolean bl2) {
        if (bl2 && this.state.CTM.getType() != 0) {
            pdfAnnotation.applyCTM(this.state.CTM);
        }
        this.addAnnotation(pdfAnnotation);
    }

    public PdfName addFormXObj(PdfStream object, PdfName pdfName, double d2, double d3, double d4, double d5, double d6, double d7) {
        this.checkWriter();
        PdfWriter.checkPdfIsoConformance(this.writer, 9, object);
        pdfName = this.getPageResources().addXObject(pdfName, this.writer.addToBody((PdfObject)object).getIndirectReference());
        if (this.isTagged()) {
            if (this.inText) {
                this.endText();
            }
            object = new PdfArtifact();
            this.openMCBlock((IAccessibleElement)object);
        } else {
            object = null;
        }
        this.content.append("q ");
        this.content.append(d2).append(' ');
        this.content.append(d3).append(' ');
        this.content.append(d4).append(' ');
        this.content.append(d5).append(' ');
        this.content.append(d6).append(' ');
        this.content.append(d7).append(" cm ");
        this.content.append(pdfName.getBytes()).append(" Do Q").append_i(this.separator);
        if (this.isTagged()) {
            this.closeMCBlock((IAccessibleElement)object);
        }
        return pdfName;
    }

    public PdfName addFormXObj(PdfStream pdfStream, PdfName pdfName, float f2, float f3, float f4, float f5, float f6, float f7) {
        return this.addFormXObj(pdfStream, pdfName, (double)f2, (double)f3, (double)f4, (double)f5, (double)f6, (double)f7);
    }

    public void addImage(Image image) {
        this.addImage(image, false);
    }

    public void addImage(Image image, double d2, double d3, double d4, double d5, double d6, double d7) {
        this.addImage(image, d2, d3, d4, d5, d6, d7, false);
    }

    public void addImage(Image image, double d2, double d3, double d4, double d5, double d6, double d7, boolean bl2) {
        this.addImage(image, d2, d3, d4, d5, d6, d7, bl2, false);
    }

    /*
     * Exception decompiling
     */
    protected void addImage(Image var1_1, double var2_2, double var4_3, double var6_4, double var8_5, double var10_6, double var12_7, boolean var14_8, boolean var15_9) {
        // This method has failed to decompile.  When submitting a bug report, please provide this stack trace, and (if you hold appropriate legal rights) the relevant class file.
        // org.benf.cfr.reader.util.ConfusedCFRException: Tried to end blocks [0[TRYBLOCK]], but top level block is 19[UNCONDITIONALDOLOOP]
        // org.benf.cfr.reader.bytecode.analysis.opgraph.Op04StructuredStatement.processEndingBlocks(Op04StructuredStatement.java:416)
        // org.benf.cfr.reader.bytecode.analysis.opgraph.Op04StructuredStatement.buildNestedBlocks(Op04StructuredStatement.java:468)
        // org.benf.cfr.reader.bytecode.analysis.opgraph.Op03SimpleStatement.createInitialStructuredBlock(Op03SimpleStatement.java:2960)
        // org.benf.cfr.reader.bytecode.CodeAnalyser.getAnalysisInner(CodeAnalyser.java:818)
        // org.benf.cfr.reader.bytecode.CodeAnalyser.getAnalysisOrWrapFail(CodeAnalyser.java:196)
        // org.benf.cfr.reader.bytecode.CodeAnalyser.getAnalysis(CodeAnalyser.java:141)
        // org.benf.cfr.reader.entities.attributes.AttributeCode.analyse(AttributeCode.java:95)
        // org.benf.cfr.reader.entities.Method.analyse(Method.java:372)
        // org.benf.cfr.reader.entities.ClassFile.analyseMid(ClassFile.java:867)
        // org.benf.cfr.reader.entities.ClassFile.analyseTop(ClassFile.java:768)
        // org.benf.cfr.reader.Main.doJar(Main.java:141)
        // org.benf.cfr.reader.Main.main(Main.java:242)
        throw new IllegalStateException("Decompilation failed");
    }

    public void addImage(Image image, float f2, float f3, float f4, float f5, float f6, float f7) {
        this.addImage(image, f2, f3, f4, f5, f6, f7, false);
    }

    public void addImage(Image image, float f2, float f3, float f4, float f5, float f6, float f7, boolean bl2) {
        this.addImage(image, (double)f2, (double)f3, (double)f4, (double)f5, (double)f6, (double)f7, bl2);
    }

    public void addImage(Image image, AffineTransform affineTransform) {
        double[] arrd = new double[6];
        affineTransform.getMatrix(arrd);
        this.addImage(image, arrd[0], arrd[1], arrd[2], arrd[3], arrd[4], arrd[5], false);
    }

    public void addImage(Image image, boolean bl2) {
        if (image.hasAbsoluteY()) {
            float[] arrf = image.matrix();
            arrf[4] = image.getAbsoluteX() - arrf[4];
            arrf[5] = image.getAbsoluteY() - arrf[5];
            this.addImage(image, arrf[0], arrf[1], arrf[2], arrf[3], arrf[4], arrf[5], bl2);
            return;
        }
        throw new DocumentException(MessageLocalization.getComposedMessage("the.image.must.have.absolute.positioning", new Object[0]));
    }

    public void addOutline(PdfOutline pdfOutline, String string2) {
        this.checkWriter();
        this.pdf.addOutline(pdfOutline, string2);
    }

    public void addPSXObject(PdfPSXObject object) {
        if (this.inText && this.isTagged()) {
            this.endText();
        }
        this.checkWriter();
        PdfName pdfName = this.writer.addDirectTemplateSimple((PdfTemplate)object, null);
        object = this.getPageResources().addXObject(pdfName, object.getIndirectReference());
        this.content.append(object.getBytes()).append(" Do").append_i(this.separator);
    }

    public void addTemplate(PdfTemplate pdfTemplate, double d2, double d3) {
        this.addTemplate(pdfTemplate, 1.0, 0.0, 0.0, 1.0, d2, d3);
    }

    public void addTemplate(PdfTemplate pdfTemplate, double d2, double d3, double d4, double d5, double d6, double d7) {
        this.addTemplate(pdfTemplate, d2, d3, d4, d5, d6, d7, false);
    }

    public void addTemplate(PdfTemplate pdfTemplate, double d2, double d3, double d4, double d5, double d6, double d7, boolean bl2) {
        this.addTemplate(pdfTemplate, d2, d3, d4, d5, d6, d7, true, bl2);
    }

    public void addTemplate(PdfTemplate pdfTemplate, double d2, double d3, boolean bl2) {
        this.addTemplate(pdfTemplate, 1.0, 0.0, 0.0, 1.0, d2, d3, bl2);
    }

    public void addTemplate(PdfTemplate pdfTemplate, float f2, float f3) {
        this.addTemplate(pdfTemplate, 1.0f, 0.0f, 0.0f, 1.0f, f2, f3);
    }

    public void addTemplate(PdfTemplate pdfTemplate, float f2, float f3, float f4, float f5, float f6, float f7) {
        this.addTemplate(pdfTemplate, f2, f3, f4, f5, f6, f7, false);
    }

    public void addTemplate(PdfTemplate pdfTemplate, float f2, float f3, float f4, float f5, float f6, float f7, boolean bl2) {
        this.addTemplate(pdfTemplate, (double)f2, (double)f3, (double)f4, (double)f5, (double)f6, (double)f7, bl2);
    }

    public void addTemplate(PdfTemplate pdfTemplate, float f2, float f3, boolean bl2) {
        this.addTemplate(pdfTemplate, 1.0f, 0.0f, 0.0f, 1.0f, f2, f3, bl2);
    }

    public void addTemplate(PdfTemplate pdfTemplate, AffineTransform affineTransform) {
        this.addTemplate(pdfTemplate, affineTransform, false);
    }

    public void addTemplate(PdfTemplate pdfTemplate, AffineTransform affineTransform, boolean bl2) {
        double[] arrd = new double[6];
        affineTransform.getMatrix(arrd);
        this.addTemplate(pdfTemplate, arrd[0], arrd[1], arrd[2], arrd[3], arrd[4], arrd[5], bl2);
    }

    void addTemplateReference(PdfIndirectReference pdfObject, PdfName pdfName, double d2, double d3, double d4, double d5, double d6, double d7) {
        if (this.inText && this.isTagged()) {
            this.endText();
        }
        this.checkWriter();
        pdfObject = this.getPageResources().addXObject(pdfName, (PdfIndirectReference)pdfObject);
        this.content.append("q ");
        this.content.append(d2).append(' ');
        this.content.append(d3).append(' ');
        this.content.append(d4).append(' ');
        this.content.append(d5).append(' ');
        this.content.append(d6).append(' ');
        this.content.append(d7).append(" cm ");
        this.content.append(pdfObject.getBytes()).append(" Do Q").append_i(this.separator);
    }

    void addTemplateReference(PdfIndirectReference pdfIndirectReference, PdfName pdfName, float f2, float f3, float f4, float f5, float f6, float f7) {
        this.addTemplateReference(pdfIndirectReference, pdfName, (double)f2, (double)f3, (double)f4, (double)f5, (double)f6, (double)f7);
    }

    public void arc(double d2, double d3, double d4, double d5, double d6, double d7) {
        ArrayList<double[]> arrayList = PdfContentByte.bezierArc(d2, d3, d4, d5, d6, d7);
        if (arrayList.isEmpty()) {
            return;
        }
        double[] arrd = arrayList.get(0);
        this.moveTo(arrd[0], arrd[1]);
        for (int i2 = 0; i2 < arrayList.size(); ++i2) {
            arrd = arrayList.get(i2);
            this.curveTo(arrd[2], arrd[3], arrd[4], arrd[5], arrd[6], arrd[7]);
        }
    }

    public void arc(float f2, float f3, float f4, float f5, float f6, float f7) {
        this.arc((double)f2, (double)f3, (double)f4, (double)f5, (double)f6, (double)f7);
    }

    public void beginLayer(PdfOCG pdfOCG) {
        boolean bl2 = pdfOCG instanceof PdfLayer;
        int n2 = 0;
        if (bl2 && ((PdfLayer)pdfOCG).getTitle() != null) {
            throw new IllegalArgumentException(MessageLocalization.getComposedMessage("a.title.is.not.a.layer", new Object[0]));
        }
        if (this.layerDepth == null) {
            this.layerDepth = new ArrayList();
        }
        if (pdfOCG instanceof PdfLayerMembership) {
            this.layerDepth.add(1);
            this.beginLayer2(pdfOCG);
            return;
        }
        for (pdfOCG = (PdfLayer)pdfOCG; pdfOCG != null; pdfOCG = pdfOCG.getParent()) {
            int n3 = n2;
            if (pdfOCG.getTitle() == null) {
                this.beginLayer2(pdfOCG);
                n3 = n2 + 1;
            }
            n2 = n3;
        }
        this.layerDepth.add(n2);
    }

    public void beginMarkedContentSequence(PdfName pdfName) {
        this.beginMarkedContentSequence(pdfName, null, false);
    }

    /*
     * Enabled aggressive block sorting
     * Enabled unnecessary exception pruning
     * Enabled aggressive exception aggregation
     */
    public void beginMarkedContentSequence(PdfName object, PdfDictionary object2, boolean bl2) {
        int n2 = this.content.size();
        if (object2 == null) {
            object = this.content.append(object.getBytes());
            object2 = " BMC";
        } else {
            this.content.append(object.getBytes()).append(' ');
            if (bl2) {
                try {
                    object2.toPdf(this.writer, this.content);
                }
                catch (Exception exception) {
                    throw new ExceptionConverter(exception);
                }
            } else {
                PdfIndirectReference pdfIndirectReference;
                if (this.writer.propertyExists(object2)) {
                    object = this.writer;
                    pdfIndirectReference = null;
                } else {
                    object = this.writer;
                    pdfIndirectReference = this.writer.getPdfIndirectReference();
                }
                object = object.addSimpleProperty(object2, pdfIndirectReference);
                object2 = (PdfName)object[0];
                object = this.getPageResources().addProperty((PdfName)object2, (PdfIndirectReference)object[1]);
                this.content.append(object.getBytes());
            }
            object = this.content;
            object2 = " BDC";
        }
        object.append((String)object2).append_i(this.separator);
        this.setMcDepth(this.getMcDepth() + 1);
        this.markedContentSize += this.content.size() - n2;
    }

    public void beginMarkedContentSequence(PdfStructureElement pdfStructureElement) {
        this.beginMarkedContentSequence(pdfStructureElement, null);
    }

    public void beginText() {
        this.beginText(false);
    }

    /*
     * Enabled aggressive block sorting
     */
    protected void beginText(boolean bl2) {
        float f2;
        if (this.inText) {
            if (this.isTagged()) {
                return;
            }
            throw new IllegalPdfSyntaxException(MessageLocalization.getComposedMessage("unbalanced.begin.end.text.operators", new Object[0]));
        }
        this.inText = true;
        this.content.append("BT").append_i(this.separator);
        if (bl2) {
            float f3 = this.state.xTLM;
            f2 = this.state.tx;
            this.setTextMatrix(this.state.aTLM, this.state.bTLM, this.state.cTLM, this.state.dTLM, this.state.tx, this.state.yTLM);
            this.state.xTLM = f3;
        } else {
            GraphicState graphicState = this.state;
            f2 = 0.0f;
            graphicState.xTLM = 0.0f;
            this.state.yTLM = 0.0f;
        }
        this.state.tx = f2;
    }

    void checkNoPattern(PdfTemplate pdfTemplate) {
        if (pdfTemplate.getType() != 3) {
            return;
        }
        throw new RuntimeException(MessageLocalization.getComposedMessage("invalid.use.of.a.pattern.a.template.was.expected", new Object[0]));
    }

    /*
     * Unable to fully structure code
     * Enabled aggressive block sorting
     * Lifted jumps to return sites
     */
    protected void checkState() {
        block9 : {
            block8 : {
                block7 : {
                    var1_1 = this.state.textRenderMode;
                    var2_2 = false;
                    if (var1_1 != 0) break block7;
                    var1_1 = 0;
                    ** GOTO lbl12
                }
                if (this.state.textRenderMode == 1) {
                    var1_1 = 1;
                } else if (this.state.textRenderMode == 2) {
                    var1_1 = 1;
lbl12: // 2 sources:
                    var2_2 = true;
                } else {
                    var1_1 = 0;
                }
                if (!var2_2) break block8;
                PdfWriter.checkPdfIsoConformance(this.writer, 1, this.state.colorFill);
                if (var1_1 == 0) break block9;
            }
            PdfWriter.checkPdfIsoConformance(this.writer, 1, this.state.colorStroke);
        }
        PdfWriter.checkPdfIsoConformance(this.writer, 6, this.state.extGState);
    }

    protected void checkWriter() {
        if (this.writer != null) {
            return;
        }
        throw new NullPointerException(MessageLocalization.getComposedMessage("the.writer.in.pdfcontentbyte.is.null", new Object[0]));
    }

    public void circle(double d2, double d3, double d4) {
        double d5 = d2 + d4;
        this.moveTo(d5, d3);
        double d6 = d4 * (double)0.5523f;
        double d7 = d3 + d6;
        double d8 = d2 + d6;
        double d9 = d3 + d4;
        this.curveTo(d5, d7, d8, d9, d2, d9);
        double d10 = d2 - d6;
        double d11 = d2 - d4;
        this.curveTo(d10, d9, d11, d7, d11, d3);
        d6 = d3 - d6;
        d4 = d3 - d4;
        this.curveTo(d11, d6, d10, d4, d2, d4);
        this.curveTo(d8, d4, d5, d6, d5, d3);
    }

    public void circle(float f2, float f3, float f4) {
        this.circle((double)f2, (double)f3, (double)f4);
    }

    public void clip() {
        if (this.inText && this.isTagged()) {
            this.endText();
        }
        this.content.append("W").append_i(this.separator);
    }

    public void closeMCBlock(IAccessibleElement iAccessibleElement) {
        if (this.isTagged() && iAccessibleElement != null && this.getMcElements().contains(iAccessibleElement)) {
            this.closeMCBlockInt(iAccessibleElement);
            this.getMcElements().remove(iAccessibleElement);
        }
    }

    public void closePath() {
        if (this.inText) {
            if (this.isTagged()) {
                this.endText();
            } else {
                throw new IllegalPdfSyntaxException(MessageLocalization.getComposedMessage("path.construction.operator.inside.text.object", new Object[0]));
            }
        }
        this.content.append("h").append_i(this.separator);
    }

    public void closePathEoFillStroke() {
        if (this.inText) {
            if (this.isTagged()) {
                this.endText();
            } else {
                throw new IllegalPdfSyntaxException(MessageLocalization.getComposedMessage("path.construction.operator.inside.text.object", new Object[0]));
            }
        }
        PdfWriter.checkPdfIsoConformance(this.writer, 1, this.state.colorFill);
        PdfWriter.checkPdfIsoConformance(this.writer, 1, this.state.colorStroke);
        PdfWriter.checkPdfIsoConformance(this.writer, 6, this.state.extGState);
        this.content.append("b*").append_i(this.separator);
    }

    public void closePathFillStroke() {
        if (this.inText) {
            if (this.isTagged()) {
                this.endText();
            } else {
                throw new IllegalPdfSyntaxException(MessageLocalization.getComposedMessage("path.construction.operator.inside.text.object", new Object[0]));
            }
        }
        PdfWriter.checkPdfIsoConformance(this.writer, 1, this.state.colorFill);
        PdfWriter.checkPdfIsoConformance(this.writer, 1, this.state.colorStroke);
        PdfWriter.checkPdfIsoConformance(this.writer, 6, this.state.extGState);
        this.content.append("b").append_i(this.separator);
    }

    public void closePathStroke() {
        if (this.inText) {
            if (this.isTagged()) {
                this.endText();
            } else {
                throw new IllegalPdfSyntaxException(MessageLocalization.getComposedMessage("path.construction.operator.inside.text.object", new Object[0]));
            }
        }
        PdfWriter.checkPdfIsoConformance(this.writer, 1, this.state.colorStroke);
        PdfWriter.checkPdfIsoConformance(this.writer, 6, this.state.extGState);
        this.content.append("s").append_i(this.separator);
    }

    public void concatCTM(double d2, double d3, double d4, double d5, double d6, double d7) {
        if (this.inText && this.isTagged()) {
            this.endText();
        }
        this.state.CTM.concatenate(new AffineTransform(d2, d3, d4, d5, d6, d7));
        this.content.append(d2).append(' ').append(d3).append(' ').append(d4).append(' ');
        this.content.append(d5).append(' ').append(d6).append(' ').append(d7).append(" cm").append_i(this.separator);
    }

    public void concatCTM(float f2, float f3, float f4, float f5, float f6, float f7) {
        this.concatCTM((double)f2, (double)f3, (double)f4, (double)f5, (double)f6, (double)f7);
    }

    public void concatCTM(AffineTransform affineTransform) {
        double[] arrd = new double[6];
        affineTransform.getMatrix(arrd);
        this.concatCTM(arrd[0], arrd[1], arrd[2], arrd[3], arrd[4], arrd[5]);
    }

    public PdfAppearance createAppearance(float f2, float f3) {
        return this.createAppearance(f2, f3, null);
    }

    PdfAppearance createAppearance(float f2, float f3, PdfName pdfName) {
        this.checkWriter();
        PdfAppearance pdfAppearance = new PdfAppearance(this.writer);
        pdfAppearance.setWidth(f2);
        pdfAppearance.setHeight(f3);
        this.writer.addDirectTemplateSimple(pdfAppearance, pdfName);
        return pdfAppearance;
    }

    public PdfPatternPainter createPattern(float f2, float f3) {
        return this.createPattern(f2, f3, f2, f3);
    }

    public PdfPatternPainter createPattern(float f2, float f3, float f4, float f5) {
        this.checkWriter();
        if (f4 != 0.0f && f5 != 0.0f) {
            PdfPatternPainter pdfPatternPainter = new PdfPatternPainter(this.writer);
            pdfPatternPainter.setWidth(f2);
            pdfPatternPainter.setHeight(f3);
            pdfPatternPainter.setXStep(f4);
            pdfPatternPainter.setYStep(f5);
            this.writer.addSimplePattern(pdfPatternPainter);
            return pdfPatternPainter;
        }
        throw new RuntimeException(MessageLocalization.getComposedMessage("xstep.or.ystep.can.not.be.zero", new Object[0]));
    }

    public PdfPatternPainter createPattern(float f2, float f3, float f4, float f5, BaseColor object) {
        this.checkWriter();
        if (f4 != 0.0f && f5 != 0.0f) {
            object = new PdfPatternPainter(this.writer, (BaseColor)object);
            object.setWidth(f2);
            object.setHeight(f3);
            object.setXStep(f4);
            object.setYStep(f5);
            this.writer.addSimplePattern((PdfPatternPainter)object);
            return object;
        }
        throw new RuntimeException(MessageLocalization.getComposedMessage("xstep.or.ystep.can.not.be.zero", new Object[0]));
    }

    public PdfPatternPainter createPattern(float f2, float f3, BaseColor baseColor) {
        return this.createPattern(f2, f3, f2, f3, baseColor);
    }

    public PdfTemplate createTemplate(float f2, float f3) {
        return this.createTemplate(f2, f3, null);
    }

    PdfTemplate createTemplate(float f2, float f3, PdfName pdfName) {
        this.checkWriter();
        PdfTemplate pdfTemplate = new PdfTemplate(this.writer);
        pdfTemplate.setWidth(f2);
        pdfTemplate.setHeight(f3);
        this.writer.addDirectTemplateSimple(pdfTemplate, pdfName);
        return pdfTemplate;
    }

    public void curveFromTo(double d2, double d3, double d4, double d5) {
        if (this.inText) {
            if (this.isTagged()) {
                this.endText();
            } else {
                throw new IllegalPdfSyntaxException(MessageLocalization.getComposedMessage("path.construction.operator.inside.text.object", new Object[0]));
            }
        }
        this.content.append(d2).append(' ').append(d3).append(' ').append(d4).append(' ').append(d5).append(" y").append_i(this.separator);
    }

    public void curveFromTo(float f2, float f3, float f4, float f5) {
        this.curveFromTo((double)f2, (double)f3, (double)f4, (double)f5);
    }

    public void curveTo(double d2, double d3, double d4, double d5) {
        if (this.inText) {
            if (this.isTagged()) {
                this.endText();
            } else {
                throw new IllegalPdfSyntaxException(MessageLocalization.getComposedMessage("path.construction.operator.inside.text.object", new Object[0]));
            }
        }
        this.content.append(d2).append(' ').append(d3).append(' ').append(d4).append(' ').append(d5).append(" v").append_i(this.separator);
    }

    public void curveTo(double d2, double d3, double d4, double d5, double d6, double d7) {
        if (this.inText) {
            if (this.isTagged()) {
                this.endText();
            } else {
                throw new IllegalPdfSyntaxException(MessageLocalization.getComposedMessage("path.construction.operator.inside.text.object", new Object[0]));
            }
        }
        this.content.append(d2).append(' ').append(d3).append(' ').append(d4).append(' ').append(d5).append(' ').append(d6).append(' ').append(d7).append(" c").append_i(this.separator);
    }

    public void curveTo(float f2, float f3, float f4, float f5) {
        this.curveTo((double)f2, (double)f3, (double)f4, (double)f5);
    }

    public void curveTo(float f2, float f3, float f4, float f5, float f6, float f7) {
        this.curveTo((double)f2, (double)f3, (double)f4, (double)f5, (double)f6, (double)f7);
    }

    public void drawButton(double d2, double d3, double d4, double d5, String string2, BaseFont baseFont, float f2) {
        double d6;
        if (d2 > d4) {
            d6 = d2;
            d2 = d4;
            d4 = d6;
        }
        if (d3 > d5) {
            d6 = d3;
            d3 = d5;
            d5 = d6;
        }
        this.saveState();
        this.setColorStroke(new BaseColor(0, 0, 0));
        this.setLineWidth(1.0f);
        this.setLineCap(0);
        d6 = d4 - d2;
        double d7 = d5 - d3;
        this.rectangle(d2, d3, d6, d7);
        this.stroke();
        this.setLineWidth(1.0f);
        this.setLineCap(0);
        this.setColorFill(new BaseColor(192, 192, 192));
        this.rectangle(d2 + 0.5, d3 + 0.5, d6 - 1.0, d7 - 1.0);
        this.fill();
        this.setColorStroke(new BaseColor(255, 255, 255));
        this.setLineWidth(1.0f);
        this.setLineCap(0);
        double d8 = d2 + 1.0;
        double d9 = d3 + 1.0;
        this.moveTo(d8, d9);
        this.lineTo(d8, d5 -= 1.0);
        this.lineTo(d4 -= 1.0, d5);
        this.stroke();
        this.setColorStroke(new BaseColor(160, 160, 160));
        this.setLineWidth(1.0f);
        this.setLineCap(0);
        this.moveTo(d8, d9);
        this.lineTo(d4, d9);
        this.lineTo(d4, d5);
        this.stroke();
        this.resetRGBColorFill();
        this.beginText();
        this.setFontAndSize(baseFont, f2);
        this.showTextAligned(1, string2, (float)(d2 + d6 / 2.0), (float)(d3 + (d7 - (double)f2) / 2.0), 0.0f);
        this.endText();
        this.restoreState();
    }

    public void drawButton(float f2, float f3, float f4, float f5, String string2, BaseFont baseFont, float f6) {
        this.drawButton((double)f2, (double)f3, (double)f4, (double)f5, string2, baseFont, f6);
    }

    public void drawRadioField(double d2, double d3, double d4, double d5, boolean bl2) {
        double d6;
        if (d2 > d4) {
            d6 = d2;
            d2 = d4;
            d4 = d6;
        }
        if (d3 > d5) {
            d6 = d3;
        } else {
            d6 = d5;
            d5 = d3;
        }
        this.saveState();
        this.setLineWidth(1.0f);
        this.setLineCap(1);
        this.setColorStroke(new BaseColor(192, 192, 192));
        this.arc(d2 + 1.0, d5 + 1.0, d4 - 1.0, d6 - 1.0, 0.0, 360.0);
        this.stroke();
        this.setLineWidth(1.0f);
        this.setLineCap(1);
        this.setColorStroke(new BaseColor(160, 160, 160));
        this.arc(d2 + 0.5, d5 + 0.5, d4 - 0.5, d6 - 0.5, 45.0, 180.0);
        this.stroke();
        this.setLineWidth(1.0f);
        this.setLineCap(1);
        this.setColorStroke(new BaseColor(0, 0, 0));
        this.arc(d2 + 1.5, d5 + 1.5, d4 - 1.5, d6 - 1.5, 45.0, 180.0);
        this.stroke();
        if (bl2) {
            this.setLineWidth(1.0f);
            this.setLineCap(1);
            this.setColorFill(new BaseColor(0, 0, 0));
            this.arc(d2 + 4.0, d5 + 4.0, d4 - 4.0, d6 - 4.0, 0.0, 360.0);
            this.fill();
        }
        this.restoreState();
    }

    public void drawRadioField(float f2, float f3, float f4, float f5, boolean bl2) {
        this.drawRadioField((double)f2, (double)f3, (double)f4, (double)f5, bl2);
    }

    public void drawTextField(double d2, double d3, double d4, double d5) {
        double d6;
        if (d2 <= d4) {
            d6 = d2;
            d2 = d4;
            d4 = d6;
        }
        if (d3 > d5) {
            d6 = d3;
            d3 = d5;
            d5 = d6;
        }
        this.saveState();
        this.setColorStroke(new BaseColor(192, 192, 192));
        this.setLineWidth(1.0f);
        this.setLineCap(0);
        d6 = d2 - d4;
        double d7 = d5 - d3;
        this.rectangle(d4, d3, d6, d7);
        this.stroke();
        this.setLineWidth(1.0f);
        this.setLineCap(0);
        this.setColorFill(new BaseColor(255, 255, 255));
        this.rectangle(d4 + 0.5, d3 + 0.5, d6 - 1.0, d7 - 1.0);
        this.fill();
        this.setColorStroke(new BaseColor(192, 192, 192));
        this.setLineWidth(1.0f);
        this.setLineCap(0);
        d6 = d4 + 1.0;
        double d8 = d3 + 1.5;
        this.moveTo(d6, d8);
        d7 = d2 - 1.5;
        this.lineTo(d7, d8);
        d8 = d5 - 1.0;
        this.lineTo(d7, d8);
        this.stroke();
        this.setColorStroke(new BaseColor(160, 160, 160));
        this.setLineWidth(1.0f);
        this.setLineCap(0);
        this.moveTo(d6, d3 + 1.0);
        this.lineTo(d6, d8);
        this.lineTo(d2 - 1.0, d8);
        this.stroke();
        this.setColorStroke(new BaseColor(0, 0, 0));
        this.setLineWidth(1.0f);
        this.setLineCap(0);
        this.moveTo(d4 += 2.0, d3 + 2.0);
        d3 = d5 - 2.0;
        this.lineTo(d4, d3);
        this.lineTo(d2 - 2.0, d3);
        this.stroke();
        this.restoreState();
    }

    public void drawTextField(float f2, float f3, float f4, float f5) {
        this.drawTextField((double)f2, (double)f3, (double)f4, (double)f5);
    }

    public void ellipse(double d2, double d3, double d4, double d5) {
        this.arc(d2, d3, d4, d5, 0.0, 360.0);
    }

    public void ellipse(float f2, float f3, float f4, float f5) {
        this.ellipse((double)f2, (double)f3, (double)f4, (double)f5);
    }

    public void endLayer() {
        if (this.layerDepth != null && !this.layerDepth.isEmpty()) {
            this.layerDepth.remove(this.layerDepth.size() - 1);
            for (int i2 = this.layerDepth.get((int)(this.layerDepth.size() - 1)).intValue(); i2 > 0; --i2) {
                this.content.append("EMC").append_i(this.separator);
            }
            return;
        }
        throw new IllegalPdfSyntaxException(MessageLocalization.getComposedMessage("unbalanced.layer.operators", new Object[0]));
    }

    public void endMarkedContentSequence() {
        if (this.getMcDepth() != 0) {
            int n2 = this.content.size();
            this.setMcDepth(this.getMcDepth() - 1);
            this.content.append("EMC").append_i(this.separator);
            this.markedContentSize += this.content.size() - n2;
            return;
        }
        throw new IllegalPdfSyntaxException(MessageLocalization.getComposedMessage("unbalanced.begin.end.marked.content.operators", new Object[0]));
    }

    public void endText() {
        if (!this.inText) {
            if (this.isTagged()) {
                return;
            }
            throw new IllegalPdfSyntaxException(MessageLocalization.getComposedMessage("unbalanced.begin.end.text.operators", new Object[0]));
        }
        this.inText = false;
        this.content.append("ET").append_i(this.separator);
    }

    public void eoClip() {
        if (this.inText && this.isTagged()) {
            this.endText();
        }
        this.content.append("W*").append_i(this.separator);
    }

    public void eoFill() {
        if (this.inText) {
            if (this.isTagged()) {
                this.endText();
            } else {
                throw new IllegalPdfSyntaxException(MessageLocalization.getComposedMessage("path.construction.operator.inside.text.object", new Object[0]));
            }
        }
        PdfWriter.checkPdfIsoConformance(this.writer, 1, this.state.colorFill);
        PdfWriter.checkPdfIsoConformance(this.writer, 6, this.state.extGState);
        this.content.append("f*").append_i(this.separator);
    }

    public void eoFillStroke() {
        if (this.inText) {
            if (this.isTagged()) {
                this.endText();
            } else {
                throw new IllegalPdfSyntaxException(MessageLocalization.getComposedMessage("path.construction.operator.inside.text.object", new Object[0]));
            }
        }
        PdfWriter.checkPdfIsoConformance(this.writer, 1, this.state.colorFill);
        PdfWriter.checkPdfIsoConformance(this.writer, 1, this.state.colorStroke);
        PdfWriter.checkPdfIsoConformance(this.writer, 6, this.state.extGState);
        this.content.append("B*").append_i(this.separator);
    }

    public void fill() {
        if (this.inText) {
            if (this.isTagged()) {
                this.endText();
            } else {
                throw new IllegalPdfSyntaxException(MessageLocalization.getComposedMessage("path.construction.operator.inside.text.object", new Object[0]));
            }
        }
        PdfWriter.checkPdfIsoConformance(this.writer, 1, this.state.colorFill);
        PdfWriter.checkPdfIsoConformance(this.writer, 6, this.state.extGState);
        this.content.append("f").append_i(this.separator);
    }

    public void fillStroke() {
        if (this.inText) {
            if (this.isTagged()) {
                this.endText();
            } else {
                throw new IllegalPdfSyntaxException(MessageLocalization.getComposedMessage("path.construction.operator.inside.text.object", new Object[0]));
            }
        }
        PdfWriter.checkPdfIsoConformance(this.writer, 1, this.state.colorFill);
        PdfWriter.checkPdfIsoConformance(this.writer, 1, this.state.colorStroke);
        PdfWriter.checkPdfIsoConformance(this.writer, 6, this.state.extGState);
        this.content.append("B").append_i(this.separator);
    }

    public float getCharacterSpacing() {
        return this.state.charSpace;
    }

    protected PdfIndirectReference getCurrentPage() {
        return this.writer.getCurrentPage();
    }

    public PdfContentByte getDuplicate() {
        PdfContentByte pdfContentByte = new PdfContentByte(this.writer);
        pdfContentByte.duplicatedFrom = this;
        return pdfContentByte;
    }

    public PdfContentByte getDuplicate(boolean bl2) {
        PdfContentByte pdfContentByte = this.getDuplicate();
        if (bl2) {
            pdfContentByte.state = this.state;
            pdfContentByte.stateList = this.stateList;
        }
        return pdfContentByte;
    }

    public float getEffectiveStringWidth(String string2, boolean bl2) {
        BaseFont baseFont = this.state.fontDetails.getBaseFont();
        float f2 = bl2 ? baseFont.getWidthPointKerned(string2, this.state.size) : baseFont.getWidthPoint(string2, this.state.size);
        float f3 = f2;
        if (this.state.charSpace != 0.0f) {
            f3 = f2;
            if (string2.length() > 1) {
                f3 = f2 + this.state.charSpace * (float)(string2.length() - 1);
            }
        }
        f2 = f3;
        if (this.state.wordSpace != 0.0f) {
            f2 = f3;
            if (!baseFont.isVertical()) {
                int n2 = 0;
                do {
                    f2 = f3;
                    if (n2 >= string2.length() - 1) break;
                    f2 = f3;
                    if (string2.charAt(n2) == ' ') {
                        f2 = f3 + this.state.wordSpace;
                    }
                    ++n2;
                    f3 = f2;
                } while (true);
            }
        }
        f3 = f2;
        if ((double)this.state.scale != 100.0) {
            f3 = f2 * this.state.scale / 100.0f;
        }
        return f3;
    }

    public float getHorizontalScaling() {
        return this.state.scale;
    }

    protected boolean getInText() {
        return this.inText;
    }

    public ByteBuffer getInternalBuffer() {
        return this.content;
    }

    public float getLeading() {
        return this.state.leading;
    }

    protected int getMcDepth() {
        if (this.duplicatedFrom != null) {
            return this.duplicatedFrom.getMcDepth();
        }
        return this.mcDepth;
    }

    protected ArrayList<IAccessibleElement> getMcElements() {
        if (this.duplicatedFrom != null) {
            return this.duplicatedFrom.getMcElements();
        }
        return this.mcElements;
    }

    PageResources getPageResources() {
        return this.pdf.getPageResources();
    }

    public PdfDocument getPdfDocument() {
        return this.pdf;
    }

    public PdfWriter getPdfWriter() {
        return this.writer;
    }

    public PdfOutline getRootOutline() {
        this.checkWriter();
        return this.pdf.getRootOutline();
    }

    public float getWordSpacing() {
        return this.state.wordSpace;
    }

    public float getXTLM() {
        return this.state.xTLM;
    }

    public float getYTLM() {
        return this.state.yTLM;
    }

    public void inheritGraphicState(PdfContentByte pdfContentByte) {
        this.state = pdfContentByte.state;
        this.stateList = pdfContentByte.stateList;
    }

    public boolean isTagged() {
        if (this.writer != null && this.writer.isTagged() && !this.isTaggingSuppressed()) {
            return true;
        }
        return false;
    }

    public boolean isTaggingSuppressed() {
        return this.suppressTagging;
    }

    public void lineTo(double d2, double d3) {
        if (this.inText) {
            if (this.isTagged()) {
                this.endText();
            } else {
                throw new IllegalPdfSyntaxException(MessageLocalization.getComposedMessage("path.construction.operator.inside.text.object", new Object[0]));
            }
        }
        this.content.append(d2).append(' ').append(d3).append(" l").append_i(this.separator);
    }

    public void lineTo(float f2, float f3) {
        this.lineTo((double)f2, (double)f3);
    }

    public boolean localDestination(String string2, PdfDestination pdfDestination) {
        return this.pdf.localDestination(string2, pdfDestination);
    }

    public void localGoto(String string2, float f2, float f3, float f4, float f5) {
        this.pdf.localGoto(string2, f2, f3, f4, f5);
    }

    public void moveText(float f2, float f3) {
        if (!this.inText && this.isTagged()) {
            this.beginText(true);
        }
        GraphicState graphicState = this.state;
        graphicState.xTLM += f2;
        graphicState = this.state;
        graphicState.yTLM += f3;
        if (this.isTagged() && this.state.xTLM != this.state.tx) {
            this.setTextMatrix(this.state.aTLM, this.state.bTLM, this.state.cTLM, this.state.dTLM, this.state.xTLM, this.state.yTLM);
            return;
        }
        this.content.append(f2).append(' ').append(f3).append(" Td").append_i(this.separator);
    }

    public void moveTextWithLeading(float f2, float f3) {
        if (!this.inText && this.isTagged()) {
            this.beginText(true);
        }
        GraphicState graphicState = this.state;
        graphicState.xTLM += f2;
        graphicState = this.state;
        graphicState.yTLM += f3;
        this.state.leading = - f3;
        if (this.isTagged() && this.state.xTLM != this.state.tx) {
            this.setTextMatrix(this.state.aTLM, this.state.bTLM, this.state.cTLM, this.state.dTLM, this.state.xTLM, this.state.yTLM);
            return;
        }
        this.content.append(f2).append(' ').append(f3).append(" TD").append_i(this.separator);
    }

    public void moveTo(double d2, double d3) {
        if (this.inText) {
            if (this.isTagged()) {
                this.endText();
            } else {
                throw new IllegalPdfSyntaxException(MessageLocalization.getComposedMessage("path.construction.operator.inside.text.object", new Object[0]));
            }
        }
        this.content.append(d2).append(' ').append(d3).append(" m").append_i(this.separator);
    }

    public void moveTo(float f2, float f3) {
        this.moveTo((double)f2, (double)f3);
    }

    public void newPath() {
        if (this.inText) {
            if (this.isTagged()) {
                this.endText();
            } else {
                throw new IllegalPdfSyntaxException(MessageLocalization.getComposedMessage("path.construction.operator.inside.text.object", new Object[0]));
            }
        }
        this.content.append("n").append_i(this.separator);
    }

    public void newlineShowText(float f2, float f3, String string2) {
        this.checkState();
        if (!this.inText && this.isTagged()) {
            this.beginText(true);
        }
        GraphicState graphicState = this.state;
        graphicState.yTLM -= this.state.leading;
        this.content.append(f2).append(' ').append(f3);
        this.showText2(string2);
        this.content.append("\"").append_i(this.separator);
        this.state.charSpace = f3;
        this.state.wordSpace = f2;
        this.state.tx = this.state.xTLM;
        this.updateTx(string2, 0.0f);
    }

    public void newlineShowText(String string2) {
        this.checkState();
        if (!this.inText && this.isTagged()) {
            this.beginText(true);
        }
        GraphicState graphicState = this.state;
        graphicState.yTLM -= this.state.leading;
        this.showText2(string2);
        this.content.append("'").append_i(this.separator);
        this.state.tx = this.state.xTLM;
        this.updateTx(string2, 0.0f);
    }

    public void newlineText() {
        if (!this.inText && this.isTagged()) {
            this.beginText(true);
        }
        if (this.isTagged() && this.state.xTLM != this.state.tx) {
            this.setTextMatrix(this.state.aTLM, this.state.bTLM, this.state.cTLM, this.state.dTLM, this.state.xTLM, this.state.yTLM);
        }
        GraphicState graphicState = this.state;
        graphicState.yTLM -= this.state.leading;
        this.content.append("T*").append_i(this.separator);
    }

    public void openMCBlock(IAccessibleElement iAccessibleElement) {
        if (this.isTagged()) {
            this.ensureDocumentTagIsOpen();
            if (iAccessibleElement != null && !this.getMcElements().contains(iAccessibleElement)) {
                PdfStructureElement pdfStructureElement = this.openMCBlockInt(iAccessibleElement);
                this.getMcElements().add(iAccessibleElement);
                if (pdfStructureElement != null) {
                    this.pdf.saveStructElement(iAccessibleElement.getId(), pdfStructureElement);
                }
            }
        }
    }

    void outputColorNumbers(BaseColor object, float f2) {
        PdfWriter.checkPdfIsoConformance(this.writer, 1, object);
        switch (ExtendedColor.getType((BaseColor)object)) {
            default: {
                throw new RuntimeException(MessageLocalization.getComposedMessage("invalid.color.type", new Object[0]));
            }
            case 3: {
                this.content.append(f2);
                return;
            }
            case 2: {
                CMYKColor cMYKColor = (CMYKColor)object;
                this.content.append(cMYKColor.getCyan()).append(' ').append(cMYKColor.getMagenta());
                object = this.content.append(' ').append(cMYKColor.getYellow()).append(' ');
                f2 = cMYKColor.getBlack();
                break;
            }
            case 1: {
                ByteBuffer byteBuffer = this.content;
                f2 = ((GrayColor)object).getGray();
                object = byteBuffer;
                break;
            }
            case 0: {
                this.content.append((float)object.getRed() / 255.0f);
                this.content.append(' ');
                this.content.append((float)object.getGreen() / 255.0f);
                this.content.append(' ');
                ByteBuffer byteBuffer = this.content;
                f2 = (float)object.getBlue() / 255.0f;
                object = byteBuffer;
            }
        }
        object.append(f2);
    }

    public void paintShading(PdfShading object) {
        this.writer.addSimpleShading((PdfShading)object);
        PageResources pageResources = this.getPageResources();
        PdfName pdfName = pageResources.addShading(object.getShadingName(), object.getShadingReference());
        this.content.append(pdfName.getBytes()).append(" sh").append_i(this.separator);
        object = object.getColorDetails();
        if (object != null) {
            pageResources.addColor(object.getColorSpaceName(), object.getIndirectReference());
        }
    }

    public void paintShading(PdfShadingPattern pdfShadingPattern) {
        this.paintShading(pdfShadingPattern.getShading());
    }

    public void rectangle(double d2, double d3, double d4, double d5) {
        if (this.inText) {
            if (this.isTagged()) {
                this.endText();
            } else {
                throw new IllegalPdfSyntaxException(MessageLocalization.getComposedMessage("path.construction.operator.inside.text.object", new Object[0]));
            }
        }
        this.content.append(d2).append(' ').append(d3).append(' ').append(d4).append(' ').append(d5).append(" re").append_i(this.separator);
    }

    public void rectangle(float f2, float f3, float f4, float f5) {
        this.rectangle((double)f2, (double)f3, (double)f4, (double)f5);
    }

    public void rectangle(Rectangle rectangle) {
        float f2 = rectangle.getLeft();
        float f3 = rectangle.getBottom();
        float f4 = rectangle.getRight();
        float f5 = rectangle.getTop();
        BaseColor baseColor = rectangle.getBackgroundColor();
        if (baseColor != null) {
            this.saveState();
            this.setColorFill(baseColor);
            this.rectangle(f2, f3, f4 - f2, f5 - f3);
            this.fill();
            this.restoreState();
        }
        if (!rectangle.hasBorders()) {
            return;
        }
        if (rectangle.isUseVariableBorders()) {
            this.variableRectangle(rectangle);
            return;
        }
        if (rectangle.getBorderWidth() != -1.0f) {
            this.setLineWidth(rectangle.getBorderWidth());
        }
        if ((baseColor = rectangle.getBorderColor()) != null) {
            this.setColorStroke(baseColor);
        }
        if (rectangle.hasBorder(15)) {
            this.rectangle(f2, f3, f4 - f2, f5 - f3);
        } else {
            if (rectangle.hasBorder(8)) {
                this.moveTo(f4, f3);
                this.lineTo(f4, f5);
            }
            if (rectangle.hasBorder(4)) {
                this.moveTo(f2, f3);
                this.lineTo(f2, f5);
            }
            if (rectangle.hasBorder(2)) {
                this.moveTo(f2, f3);
                this.lineTo(f4, f3);
            }
            if (rectangle.hasBorder(1)) {
                this.moveTo(f2, f5);
                this.lineTo(f4, f5);
            }
        }
        this.stroke();
        if (baseColor != null) {
            this.resetRGBColorStroke();
        }
    }

    public void remoteGoto(String string2, int n2, float f2, float f3, float f4, float f5) {
        this.pdf.remoteGoto(string2, n2, f2, f3, f4, f5);
    }

    public void remoteGoto(String string2, String string3, float f2, float f3, float f4, float f5) {
        this.pdf.remoteGoto(string2, string3, f2, f3, f4, f5);
    }

    public void reset() {
        this.reset(true);
    }

    public void reset(boolean bl2) {
        this.content.reset();
        this.markedContentSize = 0;
        if (bl2) {
            this.sanityCheck();
        }
        this.state = new GraphicState();
        this.stateList = new ArrayList();
    }

    public void resetCMYKColorFill() {
        this.saveColor(new CMYKColor(0, 0, 0, 1), true);
        this.content.append("0 0 0 1 k").append_i(this.separator);
    }

    public void resetCMYKColorStroke() {
        this.saveColor(new CMYKColor(0, 0, 0, 1), false);
        this.content.append("0 0 0 1 K").append_i(this.separator);
    }

    public void resetGrayFill() {
        this.saveColor(new GrayColor(0), true);
        this.content.append("0 g").append_i(this.separator);
    }

    public void resetGrayStroke() {
        this.saveColor(new GrayColor(0), false);
        this.content.append("0 G").append_i(this.separator);
    }

    public void resetRGBColorFill() {
        this.resetGrayFill();
    }

    public void resetRGBColorStroke() {
        this.resetGrayStroke();
    }

    protected void restoreMCBlocks(ArrayList<IAccessibleElement> arrayList) {
        if (this.isTagged() && arrayList != null) {
            this.setMcElements(arrayList);
            for (int i2 = 0; i2 < this.getMcElements().size(); ++i2) {
                this.openMCBlockInt(this.getMcElements().get(i2));
            }
        }
    }

    public void restoreState() {
        PdfWriter.checkPdfIsoConformance(this.writer, 12, "Q");
        if (this.inText && this.isTagged()) {
            this.endText();
        }
        this.content.append("Q").append_i(this.separator);
        int n2 = this.stateList.size() - 1;
        if (n2 >= 0) {
            this.state.restore(this.stateList.get(n2));
            this.stateList.remove(n2);
            return;
        }
        throw new IllegalPdfSyntaxException(MessageLocalization.getComposedMessage("unbalanced.save.restore.state.operators", new Object[0]));
    }

    public void roundRectangle(double d2, double d3, double d4, double d5, double d6) {
        double d7;
        if (d4 < 0.0) {
            d7 = - d4;
            d2 += d4;
            d4 = d7;
        }
        if (d5 < 0.0) {
            d7 = - d5;
            d3 += d5;
            d5 = d7;
        }
        if (d6 < 0.0) {
            d6 = - d6;
        }
        d7 = d2 + d6;
        this.moveTo(d7, d3);
        double d8 = d2 + d4;
        double d9 = d8 - d6;
        this.lineTo(d9, d3);
        double d10 = d6 * (double)0.4477f;
        double d11 = d8 - d10;
        d4 = d3 + d10;
        double d12 = d3 + d6;
        this.curveTo(d11, d3, d8, d4, d8, d12);
        d5 = d3 + d5;
        d6 = d5 - d6;
        this.lineTo(d8, d6);
        double d13 = d5 - d10;
        this.curveTo(d8, d13, d11, d5, d9, d5);
        this.lineTo(d7, d5);
        d8 = d2 + d10;
        this.curveTo(d8, d5, d2, d13, d2, d6);
        this.lineTo(d2, d12);
        this.curveTo(d2, d4, d8, d3, d7, d3);
    }

    public void roundRectangle(float f2, float f3, float f4, float f5, float f6) {
        this.roundRectangle((double)f2, (double)f3, (double)f4, (double)f5, (double)f6);
    }

    public void sanityCheck() {
        if (this.getMcDepth() == 0) {
            if (this.inText) {
                if (this.isTagged()) {
                    this.endText();
                } else {
                    throw new IllegalPdfSyntaxException(MessageLocalization.getComposedMessage("unbalanced.begin.end.text.operators", new Object[0]));
                }
            }
            if (this.layerDepth != null && !this.layerDepth.isEmpty()) {
                throw new IllegalPdfSyntaxException(MessageLocalization.getComposedMessage("unbalanced.layer.operators", new Object[0]));
            }
            if (this.stateList.isEmpty()) {
                return;
            }
            throw new IllegalPdfSyntaxException(MessageLocalization.getComposedMessage("unbalanced.save.restore.state.operators", new Object[0]));
        }
        throw new IllegalPdfSyntaxException(MessageLocalization.getComposedMessage("unbalanced.marked.content.operators", new Object[0]));
    }

    protected ArrayList<IAccessibleElement> saveMCBlocks() {
        ArrayList<IAccessibleElement> arrayList = new ArrayList<IAccessibleElement>();
        if (this.isTagged()) {
            arrayList = this.getMcElements();
            for (int i2 = 0; i2 < arrayList.size(); ++i2) {
                this.closeMCBlockInt(arrayList.get(i2));
            }
            this.setMcElements(new ArrayList<IAccessibleElement>());
        }
        return arrayList;
    }

    public void saveState() {
        PdfWriter.checkPdfIsoConformance(this.writer, 12, "q");
        if (this.inText && this.isTagged()) {
            this.endText();
        }
        this.content.append("q").append_i(this.separator);
        this.stateList.add(new GraphicState(this.state));
    }

    public void setAction(PdfAction pdfAction, float f2, float f3, float f4, float f5) {
        this.pdf.setAction(pdfAction, f2, f3, f4, f5);
    }

    public void setCMYKColorFill(int n2, int n3, int n4, int n5) {
        this.saveColor(new CMYKColor(n2, n3, n4, n5), true);
        this.content.append((float)(n2 & 255) / 255.0f);
        this.content.append(' ');
        this.content.append((float)(n3 & 255) / 255.0f);
        this.content.append(' ');
        this.content.append((float)(n4 & 255) / 255.0f);
        this.content.append(' ');
        this.content.append((float)(n5 & 255) / 255.0f);
        this.content.append(" k").append_i(this.separator);
    }

    public void setCMYKColorFillF(float f2, float f3, float f4, float f5) {
        this.saveColor(new CMYKColor(f2, f3, f4, f5), true);
        this.HelperCMYK(f2, f3, f4, f5);
        this.content.append(" k").append_i(this.separator);
    }

    public void setCMYKColorStroke(int n2, int n3, int n4, int n5) {
        this.saveColor(new CMYKColor(n2, n3, n4, n5), false);
        this.content.append((float)(n2 & 255) / 255.0f);
        this.content.append(' ');
        this.content.append((float)(n3 & 255) / 255.0f);
        this.content.append(' ');
        this.content.append((float)(n4 & 255) / 255.0f);
        this.content.append(' ');
        this.content.append((float)(n5 & 255) / 255.0f);
        this.content.append(" K").append_i(this.separator);
    }

    public void setCMYKColorStrokeF(float f2, float f3, float f4, float f5) {
        this.saveColor(new CMYKColor(f2, f3, f4, f5), false);
        this.HelperCMYK(f2, f3, f4, f5);
        this.content.append(" K").append_i(this.separator);
    }

    public void setCharacterSpacing(float f2) {
        if (!this.inText && this.isTagged()) {
            this.beginText(true);
        }
        this.state.charSpace = f2;
        this.content.append(f2).append(" Tc").append_i(this.separator);
    }

    public void setColorFill(BaseColor object) {
        switch (ExtendedColor.getType((BaseColor)object)) {
            default: {
                this.setRGBColorFill(object.getRed(), object.getGreen(), object.getBlue());
                break;
            }
            case 7: {
                LabColor labColor = (LabColor)object;
                this.setColorFill(labColor.getLabColorSpace(), labColor.getL(), labColor.getA(), labColor.getB());
                break;
            }
            case 6: {
                DeviceNColor deviceNColor = (DeviceNColor)object;
                this.setColorFill(deviceNColor.getPdfDeviceNColor(), deviceNColor.getTints());
                break;
            }
            case 5: {
                this.setShadingFill(((ShadingColor)object).getPdfShadingPattern());
                break;
            }
            case 4: {
                this.setPatternFill(((PatternColor)object).getPainter());
                break;
            }
            case 3: {
                SpotColor spotColor = (SpotColor)object;
                this.setColorFill(spotColor.getPdfSpotColor(), spotColor.getTint());
                break;
            }
            case 2: {
                CMYKColor cMYKColor = (CMYKColor)object;
                this.setCMYKColorFillF(cMYKColor.getCyan(), cMYKColor.getMagenta(), cMYKColor.getYellow(), cMYKColor.getBlack());
                break;
            }
            case 1: {
                this.setGrayFill(((GrayColor)object).getGray());
            }
        }
        int n2 = object.getAlpha();
        if (n2 < 255) {
            object = new PdfGState();
            object.setFillOpacity((float)n2 / 255.0f);
            this.setGState((PdfGState)object);
        }
    }

    public void setColorFill(PdfDeviceNColor object, float[] arrf) {
        this.checkWriter();
        this.state.colorDetails = this.writer.addSimple((ICachedColorSpace)object);
        Serializable serializable = this.getPageResources().addColor(this.state.colorDetails.getColorSpaceName(), this.state.colorDetails.getIndirectReference());
        this.saveColor(new DeviceNColor((PdfDeviceNColor)object, arrf), true);
        this.content.append(serializable.getBytes()).append(" cs ");
        for (float f2 : arrf) {
            object = this.content;
            serializable = new StringBuilder();
            serializable.append(f2);
            serializable.append(" ");
            object.append(serializable.toString());
        }
        this.content.append("scn").append_i(this.separator);
    }

    public void setColorFill(PdfLabColor object, float f2, float f3, float f4) {
        this.checkWriter();
        this.state.colorDetails = this.writer.addSimple((ICachedColorSpace)object);
        Serializable serializable = this.getPageResources().addColor(this.state.colorDetails.getColorSpaceName(), this.state.colorDetails.getIndirectReference());
        this.saveColor(new LabColor((PdfLabColor)object, f2, f3, f4), true);
        this.content.append(serializable.getBytes()).append(" cs ");
        object = this.content;
        serializable = new StringBuilder();
        serializable.append(f2);
        serializable.append(" ");
        serializable.append(f3);
        serializable.append(" ");
        serializable.append(f4);
        serializable.append(" ");
        object.append(serializable.toString());
        this.content.append("scn").append_i(this.separator);
    }

    public void setColorFill(PdfSpotColor pdfSpotColor, float f2) {
        this.checkWriter();
        this.state.colorDetails = this.writer.addSimple(pdfSpotColor);
        PdfName pdfName = this.getPageResources().addColor(this.state.colorDetails.getColorSpaceName(), this.state.colorDetails.getIndirectReference());
        this.saveColor(new SpotColor(pdfSpotColor, f2), true);
        this.content.append(pdfName.getBytes()).append(" cs ").append(f2).append(" scn").append_i(this.separator);
    }

    public void setColorStroke(BaseColor object) {
        switch (ExtendedColor.getType((BaseColor)object)) {
            default: {
                this.setRGBColorStroke(object.getRed(), object.getGreen(), object.getBlue());
                break;
            }
            case 7: {
                LabColor labColor = (LabColor)object;
                this.setColorStroke(labColor.getLabColorSpace(), labColor.getL(), labColor.getA(), labColor.getB());
                break;
            }
            case 6: {
                DeviceNColor deviceNColor = (DeviceNColor)object;
                this.setColorStroke(deviceNColor.getPdfDeviceNColor(), deviceNColor.getTints());
                break;
            }
            case 5: {
                this.setShadingStroke(((ShadingColor)object).getPdfShadingPattern());
                break;
            }
            case 4: {
                this.setPatternStroke(((PatternColor)object).getPainter());
                break;
            }
            case 3: {
                SpotColor spotColor = (SpotColor)object;
                this.setColorStroke(spotColor.getPdfSpotColor(), spotColor.getTint());
                break;
            }
            case 2: {
                CMYKColor cMYKColor = (CMYKColor)object;
                this.setCMYKColorStrokeF(cMYKColor.getCyan(), cMYKColor.getMagenta(), cMYKColor.getYellow(), cMYKColor.getBlack());
                break;
            }
            case 1: {
                this.setGrayStroke(((GrayColor)object).getGray());
            }
        }
        int n2 = object.getAlpha();
        if (n2 < 255) {
            object = new PdfGState();
            object.setStrokeOpacity((float)n2 / 255.0f);
            this.setGState((PdfGState)object);
        }
    }

    public void setColorStroke(PdfDeviceNColor object, float[] arrf) {
        this.checkWriter();
        this.state.colorDetails = this.writer.addSimple((ICachedColorSpace)object);
        Serializable serializable = this.getPageResources().addColor(this.state.colorDetails.getColorSpaceName(), this.state.colorDetails.getIndirectReference());
        this.saveColor(new DeviceNColor((PdfDeviceNColor)object, arrf), true);
        this.content.append(serializable.getBytes()).append(" CS ");
        for (float f2 : arrf) {
            object = this.content;
            serializable = new StringBuilder();
            serializable.append(f2);
            serializable.append(" ");
            object.append(serializable.toString());
        }
        this.content.append("SCN").append_i(this.separator);
    }

    public void setColorStroke(PdfLabColor object, float f2, float f3, float f4) {
        this.checkWriter();
        this.state.colorDetails = this.writer.addSimple((ICachedColorSpace)object);
        Serializable serializable = this.getPageResources().addColor(this.state.colorDetails.getColorSpaceName(), this.state.colorDetails.getIndirectReference());
        this.saveColor(new LabColor((PdfLabColor)object, f2, f3, f4), true);
        this.content.append(serializable.getBytes()).append(" CS ");
        object = this.content;
        serializable = new StringBuilder();
        serializable.append(f2);
        serializable.append(" ");
        serializable.append(f3);
        serializable.append(" ");
        serializable.append(f4);
        serializable.append(" ");
        object.append(serializable.toString());
        this.content.append("SCN").append_i(this.separator);
    }

    public void setColorStroke(PdfSpotColor pdfSpotColor, float f2) {
        this.checkWriter();
        this.state.colorDetails = this.writer.addSimple(pdfSpotColor);
        PdfName pdfName = this.getPageResources().addColor(this.state.colorDetails.getColorSpaceName(), this.state.colorDetails.getIndirectReference());
        this.saveColor(new SpotColor(pdfSpotColor, f2), false);
        this.content.append(pdfName.getBytes()).append(" CS ").append(f2).append(" SCN").append_i(this.separator);
    }

    public void setDefaultColorspace(PdfName pdfName, PdfObject pdfObject) {
        this.getPageResources().addDefaultColor(pdfName, pdfObject);
    }

    public void setFlatness(double d2) {
        if (d2 >= 0.0 && d2 <= 100.0) {
            this.content.append(d2).append(" i").append_i(this.separator);
        }
    }

    public void setFlatness(float f2) {
        this.setFlatness((double)f2);
    }

    public void setFontAndSize(BaseFont object, float f2) {
        if (!this.inText && this.isTagged()) {
            this.beginText(true);
        }
        this.checkWriter();
        if (f2 < 1.0E-4f && f2 > -1.0E-4f) {
            throw new IllegalArgumentException(MessageLocalization.getComposedMessage("font.size.too.small.1", String.valueOf(f2)));
        }
        this.state.size = f2;
        this.state.fontDetails = this.writer.addSimple((BaseFont)object);
        object = this.getPageResources().addFont(this.state.fontDetails.getFontName(), this.state.fontDetails.getIndirectReference());
        this.content.append(object.getBytes()).append(' ').append(f2).append(" Tf").append_i(this.separator);
    }

    public void setGState(PdfGState pdfGState) {
        Object object = this.writer.addSimpleExtGState(pdfGState);
        object = this.getPageResources().addExtGState((PdfName)object[0], (PdfIndirectReference)object[1]);
        this.state.extGState = pdfGState;
        this.content.append(object.getBytes()).append(" gs").append_i(this.separator);
    }

    public void setGrayFill(float f2) {
        this.saveColor(new GrayColor(f2), true);
        this.content.append(f2).append(" g").append_i(this.separator);
    }

    public void setGrayStroke(float f2) {
        this.saveColor(new GrayColor(f2), false);
        this.content.append(f2).append(" G").append_i(this.separator);
    }

    public void setHorizontalScaling(float f2) {
        if (!this.inText && this.isTagged()) {
            this.beginText(true);
        }
        this.state.scale = f2;
        this.content.append(f2).append(" Tz").append_i(this.separator);
    }

    public void setLeading(float f2) {
        if (!this.inText && this.isTagged()) {
            this.beginText(true);
        }
        this.state.leading = f2;
        this.content.append(f2).append(" TL").append_i(this.separator);
    }

    public void setLineCap(int n2) {
        if (n2 >= 0 && n2 <= 2) {
            this.content.append(n2).append(" J").append_i(this.separator);
        }
    }

    public void setLineDash(double d2) {
        this.content.append("[] ").append(d2).append(" d").append_i(this.separator);
    }

    public void setLineDash(double d2, double d3) {
        this.content.append("[").append(d2).append("] ").append(d3).append(" d").append_i(this.separator);
    }

    public void setLineDash(double d2, double d3, double d4) {
        this.content.append("[").append(d2).append(' ').append(d3).append("] ").append(d4).append(" d").append_i(this.separator);
    }

    public void setLineDash(float f2) {
        this.setLineDash((double)f2);
    }

    public void setLineDash(float f2, float f3) {
        this.setLineDash((double)f2, (double)f3);
    }

    public void setLineDash(float f2, float f3, float f4) {
        this.setLineDash((double)f2, (double)f3, (double)f4);
    }

    public final void setLineDash(double[] arrd, double d2) {
        this.content.append("[");
        for (int i2 = 0; i2 < arrd.length; ++i2) {
            this.content.append(arrd[i2]);
            if (i2 >= arrd.length - 1) continue;
            this.content.append(' ');
        }
        this.content.append("] ").append(d2).append(" d").append_i(this.separator);
    }

    public final void setLineDash(float[] arrf, float f2) {
        this.content.append("[");
        for (int i2 = 0; i2 < arrf.length; ++i2) {
            this.content.append(arrf[i2]);
            if (i2 >= arrf.length - 1) continue;
            this.content.append(' ');
        }
        this.content.append("] ").append(f2).append(" d").append_i(this.separator);
    }

    public void setLineJoin(int n2) {
        if (n2 >= 0 && n2 <= 2) {
            this.content.append(n2).append(" j").append_i(this.separator);
        }
    }

    public void setLineWidth(double d2) {
        this.content.append(d2).append(" w").append_i(this.separator);
    }

    public void setLineWidth(float f2) {
        this.setLineWidth((double)f2);
    }

    public void setLiteral(char c2) {
        this.content.append(c2);
    }

    public void setLiteral(float f2) {
        this.content.append(f2);
    }

    public void setLiteral(String string2) {
        this.content.append(string2);
    }

    protected void setMcDepth(int n2) {
        if (this.duplicatedFrom != null) {
            this.duplicatedFrom.setMcDepth(n2);
            return;
        }
        this.mcDepth = n2;
    }

    protected void setMcElements(ArrayList<IAccessibleElement> arrayList) {
        if (this.duplicatedFrom != null) {
            this.duplicatedFrom.setMcElements(arrayList);
            return;
        }
        this.mcElements = arrayList;
    }

    public void setMiterLimit(double d2) {
        if (d2 > 1.0) {
            this.content.append(d2).append(" M").append_i(this.separator);
        }
    }

    public void setMiterLimit(float f2) {
        this.setMiterLimit((double)f2);
    }

    public void setPatternFill(PdfPatternPainter pdfPatternPainter) {
        if (pdfPatternPainter.isStencil()) {
            this.setPatternFill(pdfPatternPainter, pdfPatternPainter.getDefaultColor());
            return;
        }
        this.checkWriter();
        PdfName pdfName = this.getPageResources().addPattern(this.writer.addSimplePattern(pdfPatternPainter), pdfPatternPainter.getIndirectReference());
        this.saveColor(new PatternColor(pdfPatternPainter), true);
        this.content.append(PdfName.PATTERN.getBytes()).append(" cs ").append(pdfName.getBytes()).append(" scn").append_i(this.separator);
    }

    /*
     * Enabled aggressive block sorting
     */
    public void setPatternFill(PdfPatternPainter pdfPatternPainter, BaseColor baseColor) {
        float f2 = ExtendedColor.getType(baseColor) == 3 ? ((SpotColor)baseColor).getTint() : 0.0f;
        this.setPatternFill(pdfPatternPainter, baseColor, f2);
    }

    public void setPatternFill(PdfPatternPainter pdfPatternPainter, BaseColor baseColor, float f2) {
        this.checkWriter();
        if (pdfPatternPainter.isStencil()) {
            Object object = this.getPageResources();
            PdfName pdfName = object.addPattern(this.writer.addSimplePattern(pdfPatternPainter), pdfPatternPainter.getIndirectReference());
            ColorDetails colorDetails = this.writer.addSimplePatternColorspace(baseColor);
            object = object.addColor(colorDetails.getColorSpaceName(), colorDetails.getIndirectReference());
            this.saveColor(new UncoloredPattern(pdfPatternPainter, baseColor, f2), true);
            this.content.append(object.getBytes()).append(" cs").append_i(this.separator);
            this.outputColorNumbers(baseColor, f2);
            this.content.append(' ').append(pdfName.getBytes()).append(" scn").append_i(this.separator);
            return;
        }
        throw new RuntimeException(MessageLocalization.getComposedMessage("an.uncolored.pattern.was.expected", new Object[0]));
    }

    public void setPatternStroke(PdfPatternPainter pdfPatternPainter) {
        if (pdfPatternPainter.isStencil()) {
            this.setPatternStroke(pdfPatternPainter, pdfPatternPainter.getDefaultColor());
            return;
        }
        this.checkWriter();
        PdfName pdfName = this.getPageResources().addPattern(this.writer.addSimplePattern(pdfPatternPainter), pdfPatternPainter.getIndirectReference());
        this.saveColor(new PatternColor(pdfPatternPainter), false);
        this.content.append(PdfName.PATTERN.getBytes()).append(" CS ").append(pdfName.getBytes()).append(" SCN").append_i(this.separator);
    }

    /*
     * Enabled aggressive block sorting
     */
    public void setPatternStroke(PdfPatternPainter pdfPatternPainter, BaseColor baseColor) {
        float f2 = ExtendedColor.getType(baseColor) == 3 ? ((SpotColor)baseColor).getTint() : 0.0f;
        this.setPatternStroke(pdfPatternPainter, baseColor, f2);
    }

    public void setPatternStroke(PdfPatternPainter pdfPatternPainter, BaseColor baseColor, float f2) {
        this.checkWriter();
        if (pdfPatternPainter.isStencil()) {
            Object object = this.getPageResources();
            PdfName pdfName = object.addPattern(this.writer.addSimplePattern(pdfPatternPainter), pdfPatternPainter.getIndirectReference());
            ColorDetails colorDetails = this.writer.addSimplePatternColorspace(baseColor);
            object = object.addColor(colorDetails.getColorSpaceName(), colorDetails.getIndirectReference());
            this.saveColor(new UncoloredPattern(pdfPatternPainter, baseColor, f2), false);
            this.content.append(object.getBytes()).append(" CS").append_i(this.separator);
            this.outputColorNumbers(baseColor, f2);
            this.content.append(' ').append(pdfName.getBytes()).append(" SCN").append_i(this.separator);
            return;
        }
        throw new RuntimeException(MessageLocalization.getComposedMessage("an.uncolored.pattern.was.expected", new Object[0]));
    }

    public void setRGBColorFill(int n2, int n3, int n4) {
        this.saveColor(new BaseColor(n2, n3, n4), true);
        this.HelperRGB((float)(n2 & 255) / 255.0f, (float)(n3 & 255) / 255.0f, (float)(n4 & 255) / 255.0f);
        this.content.append(" rg").append_i(this.separator);
    }

    public void setRGBColorFillF(float f2, float f3, float f4) {
        this.saveColor(new BaseColor(f2, f3, f4), true);
        this.HelperRGB(f2, f3, f4);
        this.content.append(" rg").append_i(this.separator);
    }

    public void setRGBColorStroke(int n2, int n3, int n4) {
        this.saveColor(new BaseColor(n2, n3, n4), false);
        this.HelperRGB((float)(n2 & 255) / 255.0f, (float)(n3 & 255) / 255.0f, (float)(n4 & 255) / 255.0f);
        this.content.append(" RG").append_i(this.separator);
    }

    public void setRGBColorStrokeF(float f2, float f3, float f4) {
        this.saveColor(new BaseColor(f2, f3, f4), false);
        this.HelperRGB(f2, f3, f4);
        this.content.append(" RG").append_i(this.separator);
    }

    public void setRenderingIntent(PdfName pdfName) {
        this.content.append(pdfName.getBytes()).append(" ri").append_i(this.separator);
    }

    public void setShadingFill(PdfShadingPattern object) {
        this.writer.addSimpleShadingPattern((PdfShadingPattern)object);
        PageResources pageResources = this.getPageResources();
        PdfName pdfName = pageResources.addPattern(object.getPatternName(), object.getPatternReference());
        this.saveColor(new ShadingColor((PdfShadingPattern)object), true);
        this.content.append(PdfName.PATTERN.getBytes()).append(" cs ").append(pdfName.getBytes()).append(" scn").append_i(this.separator);
        object = object.getColorDetails();
        if (object != null) {
            pageResources.addColor(object.getColorSpaceName(), object.getIndirectReference());
        }
    }

    public void setShadingStroke(PdfShadingPattern object) {
        this.writer.addSimpleShadingPattern((PdfShadingPattern)object);
        PageResources pageResources = this.getPageResources();
        PdfName pdfName = pageResources.addPattern(object.getPatternName(), object.getPatternReference());
        this.saveColor(new ShadingColor((PdfShadingPattern)object), false);
        this.content.append(PdfName.PATTERN.getBytes()).append(" CS ").append(pdfName.getBytes()).append(" SCN").append_i(this.separator);
        object = object.getColorDetails();
        if (object != null) {
            pageResources.addColor(object.getColorSpaceName(), object.getIndirectReference());
        }
    }

    public PdfContentByte setSuppressTagging(boolean bl2) {
        this.suppressTagging = bl2;
        return this;
    }

    public void setTextMatrix(float f2, float f3) {
        this.setTextMatrix(1.0f, 0.0f, 0.0f, 1.0f, f2, f3);
    }

    public void setTextMatrix(float f2, float f3, float f4, float f5, float f6, float f7) {
        if (!this.inText && this.isTagged()) {
            this.beginText(true);
        }
        this.state.xTLM = f6;
        this.state.yTLM = f7;
        this.state.aTLM = f2;
        this.state.bTLM = f3;
        this.state.cTLM = f4;
        this.state.dTLM = f5;
        this.state.tx = this.state.xTLM;
        this.content.append(f2).append(' ').append(f3).append_i(32).append(f4).append_i(32).append(f5).append_i(32).append(f6).append_i(32).append(f7).append(" Tm").append_i(this.separator);
    }

    public void setTextMatrix(AffineTransform affineTransform) {
        double[] arrd = new double[6];
        affineTransform.getMatrix(arrd);
        this.setTextMatrix((float)arrd[0], (float)arrd[1], (float)arrd[2], (float)arrd[3], (float)arrd[4], (float)arrd[5]);
    }

    public void setTextRenderingMode(int n2) {
        if (!this.inText && this.isTagged()) {
            this.beginText(true);
        }
        this.state.textRenderMode = n2;
        this.content.append(n2).append(" Tr").append_i(this.separator);
    }

    public void setTextRise(double d2) {
        if (!this.inText && this.isTagged()) {
            this.beginText(true);
        }
        this.content.append(d2).append(" Ts").append_i(this.separator);
    }

    public void setTextRise(float f2) {
        this.setTextRise((double)f2);
    }

    public void setWordSpacing(float f2) {
        if (!this.inText && this.isTagged()) {
            this.beginText(true);
        }
        this.state.wordSpace = f2;
        this.content.append(f2).append(" Tw").append_i(this.separator);
    }

    public void showText(PdfTextArray object) {
        this.checkState();
        if (!this.inText && this.isTagged()) {
            this.beginText(true);
        }
        if (this.state.fontDetails != null) {
            this.content.append("[");
            object = object.getArrayList().iterator();
            block0 : do {
                boolean bl2 = false;
                while (object.hasNext()) {
                    Object object2;
                    Object object3 = object.next();
                    if (object3 instanceof String) {
                        object2 = (String)object3;
                        this.showText2((String)object2);
                        this.updateTx((String)object2, 0.0f);
                        continue block0;
                    }
                    if (bl2) {
                        this.content.append(' ');
                    } else {
                        bl2 = true;
                    }
                    object2 = this.content;
                    object3 = (Float)object3;
                    object2.append(object3.floatValue());
                    this.updateTx("", object3.floatValue());
                }
                break;
            } while (true);
            this.content.append("]TJ").append_i(this.separator);
            return;
        }
        throw new NullPointerException(MessageLocalization.getComposedMessage("font.and.size.must.be.set.before.writing.any.text", new Object[0]));
    }

    public void showText(String string2) {
        this.checkState();
        if (!this.inText && this.isTagged()) {
            this.beginText(true);
        }
        this.showText2(string2);
        this.updateTx(string2, 0.0f);
        this.content.append("Tj").append_i(this.separator);
    }

    public void showTextAligned(int n2, String string2, float f2, float f3, float f4) {
        this.showTextAligned(n2, string2, f2, f3, f4, false);
    }

    public void showTextAlignedKerned(int n2, String string2, float f2, float f3, float f4) {
        this.showTextAligned(n2, string2, f2, f3, f4, true);
    }

    public void showTextGid(String arrobject) {
        this.checkState();
        if (!this.inText && this.isTagged()) {
            this.beginText(true);
        }
        if (this.state.fontDetails != null) {
            arrobject = this.state.fontDetails.convertToBytesGid((String)arrobject);
            StringUtils.escapeString((byte[])arrobject[0], this.content);
            GraphicState graphicState = this.state;
            graphicState.tx += (float)((Integer)arrobject[2]).intValue() * 0.001f * this.state.size;
            this.content.append("Tj").append_i(this.separator);
            return;
        }
        throw new NullPointerException(MessageLocalization.getComposedMessage("font.and.size.must.be.set.before.writing.any.text", new Object[0]));
    }

    public void showTextKerned(String string2) {
        if (this.state.fontDetails != null) {
            BaseFont baseFont = this.state.fontDetails.getBaseFont();
            if (baseFont.hasKernPairs()) {
                this.showText(PdfContentByte.getKernArray(string2, baseFont));
                return;
            }
            this.showText(string2);
            return;
        }
        throw new NullPointerException(MessageLocalization.getComposedMessage("font.and.size.must.be.set.before.writing.any.text", new Object[0]));
    }

    int size() {
        return this.size(true);
    }

    int size(boolean bl2) {
        if (bl2) {
            return this.content.size();
        }
        return this.content.size() - this.markedContentSize;
    }

    public void stroke() {
        if (this.inText) {
            if (this.isTagged()) {
                this.endText();
            } else {
                throw new IllegalPdfSyntaxException(MessageLocalization.getComposedMessage("path.construction.operator.inside.text.object", new Object[0]));
            }
        }
        PdfWriter.checkPdfIsoConformance(this.writer, 1, this.state.colorStroke);
        PdfWriter.checkPdfIsoConformance(this.writer, 6, this.state.extGState);
        this.content.append("S").append_i(this.separator);
    }

    public byte[] toPdf(PdfWriter pdfWriter) {
        this.sanityCheck();
        return this.content.toByteArray();
    }

    public String toString() {
        return this.content.toString();
    }

    public void transform(AffineTransform affineTransform) {
        if (this.inText && this.isTagged()) {
            this.endText();
        }
        double[] arrd = new double[6];
        affineTransform.getMatrix(arrd);
        this.state.CTM.concatenate(affineTransform);
        this.content.append(arrd[0]).append(' ').append(arrd[1]).append(' ').append(arrd[2]).append(' ');
        this.content.append(arrd[3]).append(' ').append(arrd[4]).append(' ').append(arrd[5]).append(" cm").append_i(this.separator);
    }

    protected void updateTx(String string2, float f2) {
        GraphicState graphicState = this.state;
        graphicState.tx += this.getEffectiveStringWidth(string2, false, f2);
    }

    public void variableRectangle(Rectangle object) {
        boolean bl2;
        float f2;
        boolean bl3;
        float f3;
        BaseColor baseColor;
        boolean bl4;
        float f4;
        float f5;
        BaseColor baseColor2;
        float f6;
        BaseColor baseColor3;
        float f7;
        boolean bl5;
        BaseColor baseColor4;
        float f8;
        float f9;
        block39 : {
            Object object2;
            block38 : {
                block34 : {
                    float f10;
                    float f11;
                    block37 : {
                        block36 : {
                            block35 : {
                                block31 : {
                                    block33 : {
                                        block32 : {
                                            f4 = object.getTop();
                                            f7 = object.getBottom();
                                            f11 = object.getRight();
                                            f6 = object.getLeft();
                                            f9 = object.getBorderWidthTop();
                                            f5 = object.getBorderWidthBottom();
                                            f10 = object.getBorderWidthRight();
                                            f8 = object.getBorderWidthLeft();
                                            baseColor2 = object.getBorderColorTop();
                                            baseColor = object.getBorderColorBottom();
                                            baseColor3 = object.getBorderColorRight();
                                            baseColor4 = object.getBorderColorLeft();
                                            this.saveState();
                                            this.setLineCap(0);
                                            this.setLineJoin(0);
                                            if (f9 > 0.0f) {
                                                this.setLineWidth(f9);
                                                if (baseColor2 == null) {
                                                    this.resetRGBColorStroke();
                                                } else {
                                                    this.setColorStroke(baseColor2);
                                                }
                                                f2 = f4 - f9 / 2.0f;
                                                this.moveTo(f6, f2);
                                                this.lineTo(f11, f2);
                                                this.stroke();
                                                f2 = f9;
                                                object = baseColor2;
                                                bl5 = true;
                                            } else {
                                                object = null;
                                                f2 = 0.0f;
                                                bl5 = false;
                                            }
                                            object2 = object;
                                            f3 = f2;
                                            bl4 = bl5;
                                            if (f5 <= 0.0f) break block31;
                                            f3 = f2;
                                            if (f5 != f2) {
                                                this.setLineWidth(f5);
                                                f3 = f5;
                                            }
                                            if (!bl5) break block32;
                                            object2 = object;
                                            if (this.compareColors((BaseColor)object, baseColor)) break block33;
                                        }
                                        if (baseColor == null) {
                                            this.resetRGBColorStroke();
                                        } else {
                                            this.setColorStroke(baseColor);
                                        }
                                        object2 = baseColor;
                                        bl5 = true;
                                    }
                                    f2 = f7 + f5 / 2.0f;
                                    this.moveTo(f11, f2);
                                    this.lineTo(f6, f2);
                                    this.stroke();
                                    bl4 = bl5;
                                }
                                if (f10 <= 0.0f) break block34;
                                f2 = f3;
                                if (f10 != f3) {
                                    this.setLineWidth(f10);
                                    f2 = f10;
                                }
                                if (!bl4) break block35;
                                object = object2;
                                if (this.compareColors((BaseColor)object2, baseColor3)) break block36;
                            }
                            if (baseColor3 == null) {
                                this.resetRGBColorStroke();
                            } else {
                                this.setColorStroke(baseColor3);
                            }
                            object = baseColor3;
                            bl4 = true;
                        }
                        bl2 = this.compareColors(baseColor2, baseColor3);
                        bl3 = this.compareColors(baseColor, baseColor3);
                        float f12 = f11 - f10 / 2.0f;
                        f3 = bl2 ? f4 : f4 - f9;
                        this.moveTo(f12, f3);
                        f3 = bl3 ? f7 : f7 + f5;
                        this.lineTo(f12, f3);
                        this.stroke();
                        if (!bl2 || !bl3) break block37;
                        object2 = object;
                        break block38;
                    }
                    if (baseColor3 == null) {
                        this.resetRGBColorFill();
                    } else {
                        this.setColorFill(baseColor3);
                    }
                    if (!bl2) {
                        this.moveTo(f11, f4);
                        f3 = f4 - f9;
                        this.lineTo(f11, f3);
                        this.lineTo(f11 - f10, f3);
                        this.fill();
                    }
                    if (!bl3) {
                        this.moveTo(f11, f7);
                        f3 = f7 + f5;
                        this.lineTo(f11, f3);
                        this.lineTo(f11 - f10, f3);
                        this.fill();
                    }
                    bl5 = true;
                    break block39;
                }
                f2 = f3;
            }
            baseColor3 = null;
            bl5 = false;
            object = object2;
        }
        if (f8 > 0.0f) {
            if (f8 != f2) {
                this.setLineWidth(f8);
            }
            if (!bl4 || !this.compareColors((BaseColor)object, baseColor4)) {
                if (baseColor4 == null) {
                    this.resetRGBColorStroke();
                } else {
                    this.setColorStroke(baseColor4);
                }
            }
            bl2 = this.compareColors(baseColor2, baseColor4);
            bl3 = this.compareColors(baseColor, baseColor4);
            f3 = f8 / 2.0f + f6;
            f2 = bl2 ? f4 : f4 - f9;
            this.moveTo(f3, f2);
            f2 = bl3 ? f7 : f7 + f5;
            this.lineTo(f3, f2);
            this.stroke();
            if (!bl2 || !bl3) {
                if (!bl5 || !this.compareColors(baseColor3, baseColor4)) {
                    if (baseColor4 == null) {
                        this.resetRGBColorFill();
                    } else {
                        this.setColorFill(baseColor4);
                    }
                }
                if (!bl2) {
                    this.moveTo(f6, f4);
                    f2 = f4 - f9;
                    this.lineTo(f6, f2);
                    this.lineTo(f6 + f8, f2);
                    this.fill();
                }
                if (!bl3) {
                    this.moveTo(f6, f7);
                    f2 = f7 + f5;
                    this.lineTo(f6, f2);
                    this.lineTo(f6 + f8, f2);
                    this.fill();
                }
            }
        }
        this.restoreState();
    }

    public static class GraphicState {
        protected AffineTransform CTM = new AffineTransform();
        protected float aTLM = 1.0f;
        protected float bTLM = 0.0f;
        protected float cTLM = 0.0f;
        protected float charSpace = 0.0f;
        ColorDetails colorDetails;
        protected BaseColor colorFill = new GrayColor(0);
        protected BaseColor colorStroke = new GrayColor(0);
        protected float dTLM = 1.0f;
        protected PdfObject extGState = null;
        FontDetails fontDetails;
        protected float leading = 0.0f;
        protected float scale = 100.0f;
        float size;
        protected int textRenderMode = 0;
        protected float tx = 0.0f;
        protected float wordSpace = 0.0f;
        protected float xTLM = 0.0f;
        protected float yTLM = 0.0f;

        GraphicState() {
        }

        GraphicState(GraphicState graphicState) {
            this.copyParameters(graphicState);
        }

        void copyParameters(GraphicState graphicState) {
            this.fontDetails = graphicState.fontDetails;
            this.colorDetails = graphicState.colorDetails;
            this.size = graphicState.size;
            this.xTLM = graphicState.xTLM;
            this.yTLM = graphicState.yTLM;
            this.aTLM = graphicState.aTLM;
            this.bTLM = graphicState.bTLM;
            this.cTLM = graphicState.cTLM;
            this.dTLM = graphicState.dTLM;
            this.tx = graphicState.tx;
            this.leading = graphicState.leading;
            this.scale = graphicState.scale;
            this.charSpace = graphicState.charSpace;
            this.wordSpace = graphicState.wordSpace;
            this.colorFill = graphicState.colorFill;
            this.colorStroke = graphicState.colorStroke;
            this.CTM = new AffineTransform(graphicState.CTM);
            this.textRenderMode = graphicState.textRenderMode;
            this.extGState = graphicState.extGState;
        }

        void restore(GraphicState graphicState) {
            this.copyParameters(graphicState);
        }
    }

    static class UncoloredPattern
    extends PatternColor {
        protected BaseColor color;
        protected float tint;

        protected UncoloredPattern(PdfPatternPainter pdfPatternPainter, BaseColor baseColor, float f2) {
            super(pdfPatternPainter);
            this.color = baseColor;
            this.tint = f2;
        }

        @Override
        public boolean equals(Object object) {
            if (object instanceof UncoloredPattern) {
                object = (UncoloredPattern)object;
                if (object.painter.equals(this.painter) && object.color.equals(this.color) && object.tint == this.tint) {
                    return true;
                }
            }
            return false;
        }
    }

}


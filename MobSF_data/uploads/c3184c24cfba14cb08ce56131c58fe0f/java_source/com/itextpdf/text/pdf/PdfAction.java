/*
 * Decompiled with CFR 0_132.
 */
package com.itextpdf.text.pdf;

import com.itextpdf.text.error_messages.MessageLocalization;
import com.itextpdf.text.pdf.PdfAnnotation;
import com.itextpdf.text.pdf.PdfArray;
import com.itextpdf.text.pdf.PdfBoolean;
import com.itextpdf.text.pdf.PdfDestination;
import com.itextpdf.text.pdf.PdfDictionary;
import com.itextpdf.text.pdf.PdfEncodings;
import com.itextpdf.text.pdf.PdfFileSpecification;
import com.itextpdf.text.pdf.PdfIndirectObject;
import com.itextpdf.text.pdf.PdfIndirectReference;
import com.itextpdf.text.pdf.PdfLayer;
import com.itextpdf.text.pdf.PdfLiteral;
import com.itextpdf.text.pdf.PdfName;
import com.itextpdf.text.pdf.PdfNumber;
import com.itextpdf.text.pdf.PdfObject;
import com.itextpdf.text.pdf.PdfRendition;
import com.itextpdf.text.pdf.PdfStream;
import com.itextpdf.text.pdf.PdfString;
import com.itextpdf.text.pdf.PdfWriter;
import com.itextpdf.text.pdf.collection.PdfTargetDictionary;
import java.io.OutputStream;
import java.net.URL;
import java.util.ArrayList;

public class PdfAction
extends PdfDictionary {
    public static final int FIRSTPAGE = 1;
    public static final int LASTPAGE = 4;
    public static final int NEXTPAGE = 3;
    public static final int PREVPAGE = 2;
    public static final int PRINTDIALOG = 5;
    public static final int RESET_EXCLUDE = 1;
    public static final int SUBMIT_CANONICAL_FORMAT = 512;
    public static final int SUBMIT_COORDINATES = 16;
    public static final int SUBMIT_EMBED_FORM = 8196;
    public static final int SUBMIT_EXCLUDE = 1;
    public static final int SUBMIT_EXCL_F_KEY = 2048;
    public static final int SUBMIT_EXCL_NON_USER_ANNOTS = 1024;
    public static final int SUBMIT_HTML_FORMAT = 4;
    public static final int SUBMIT_HTML_GET = 8;
    public static final int SUBMIT_INCLUDE_ANNOTATIONS = 128;
    public static final int SUBMIT_INCLUDE_APPEND_SAVES = 64;
    public static final int SUBMIT_INCLUDE_NO_VALUE_FIELDS = 2;
    public static final int SUBMIT_PDF = 256;
    public static final int SUBMIT_XFDF = 32;

    public PdfAction() {
    }

    public PdfAction(int n2) {
        PdfObject pdfObject;
        PdfName pdfName;
        this.put(PdfName.S, PdfName.NAMED);
        switch (n2) {
            default: {
                throw new RuntimeException(MessageLocalization.getComposedMessage("invalid.named.action", new Object[0]));
            }
            case 5: {
                this.put(PdfName.S, PdfName.JAVASCRIPT);
                pdfName = PdfName.JS;
                pdfObject = new PdfString("this.print(true);\r");
                break;
            }
            case 4: {
                pdfName = PdfName.N;
                pdfObject = PdfName.LASTPAGE;
                break;
            }
            case 3: {
                pdfName = PdfName.N;
                pdfObject = PdfName.NEXTPAGE;
                break;
            }
            case 2: {
                pdfName = PdfName.N;
                pdfObject = PdfName.PREVPAGE;
                break;
            }
            case 1: {
                pdfName = PdfName.N;
                pdfObject = PdfName.FIRSTPAGE;
            }
        }
        this.put(pdfName, pdfObject);
    }

    PdfAction(PdfIndirectReference pdfIndirectReference) {
        this.put(PdfName.S, PdfName.GOTO);
        this.put(PdfName.D, pdfIndirectReference);
    }

    public PdfAction(String string2) {
        this(string2, false);
    }

    public PdfAction(String object, int n2) {
        this.put(PdfName.S, PdfName.GOTOR);
        this.put(PdfName.F, new PdfString((String)object));
        object = PdfName.D;
        StringBuilder stringBuilder = new StringBuilder();
        stringBuilder.append("[");
        stringBuilder.append(n2 - 1);
        stringBuilder.append(" /FitH 10000]");
        this.put((PdfName)object, new PdfLiteral(stringBuilder.toString()));
    }

    public PdfAction(String string2, String string3) {
        this.put(PdfName.S, PdfName.GOTOR);
        this.put(PdfName.F, new PdfString(string2));
        this.put(PdfName.D, new PdfString(string3));
    }

    public PdfAction(String string2, String string3, String string4, String string5) {
        this.put(PdfName.S, PdfName.LAUNCH);
        if (string3 == null && string4 == null && string5 == null) {
            this.put(PdfName.F, new PdfString(string2));
            return;
        }
        PdfDictionary pdfDictionary = new PdfDictionary();
        pdfDictionary.put(PdfName.F, new PdfString(string2));
        if (string3 != null) {
            pdfDictionary.put(PdfName.P, new PdfString(string3));
        }
        if (string4 != null) {
            pdfDictionary.put(PdfName.O, new PdfString(string4));
        }
        if (string5 != null) {
            pdfDictionary.put(PdfName.D, new PdfString(string5));
        }
        this.put(PdfName.WIN, pdfDictionary);
    }

    public PdfAction(String string2, boolean bl2) {
        this.put(PdfName.S, PdfName.URI);
        this.put(PdfName.URI, new PdfString(string2));
        if (bl2) {
            this.put(PdfName.ISMAP, PdfBoolean.PDFTRUE);
        }
    }

    public PdfAction(URL uRL) {
        this(uRL.toExternalForm());
    }

    public PdfAction(URL uRL, boolean bl2) {
        this(uRL.toExternalForm(), bl2);
    }

    static PdfArray buildArray(Object[] arrobject) {
        PdfArray pdfArray = new PdfArray();
        for (int i2 = 0; i2 < arrobject.length; ++i2) {
            Object object = arrobject[i2];
            if (object instanceof String) {
                pdfArray.add(new PdfString((String)object));
                continue;
            }
            if (object instanceof PdfAnnotation) {
                pdfArray.add(((PdfAnnotation)object).getIndirectReference());
                continue;
            }
            throw new RuntimeException(MessageLocalization.getComposedMessage("the.array.must.contain.string.or.pdfannotation", new Object[0]));
        }
        return pdfArray;
    }

    public static PdfAction createHide(PdfAnnotation pdfAnnotation, boolean bl2) {
        return PdfAction.createHide(pdfAnnotation.getIndirectReference(), bl2);
    }

    static PdfAction createHide(PdfObject pdfObject, boolean bl2) {
        PdfAction pdfAction = new PdfAction();
        pdfAction.put(PdfName.S, PdfName.HIDE);
        pdfAction.put(PdfName.T, pdfObject);
        if (!bl2) {
            pdfAction.put(PdfName.H, PdfBoolean.PDFFALSE);
        }
        return pdfAction;
    }

    public static PdfAction createHide(String string2, boolean bl2) {
        return PdfAction.createHide(new PdfString(string2), bl2);
    }

    public static PdfAction createHide(Object[] arrobject, boolean bl2) {
        return PdfAction.createHide(PdfAction.buildArray(arrobject), bl2);
    }

    public static PdfAction createImportData(String string2) {
        PdfAction pdfAction = new PdfAction();
        pdfAction.put(PdfName.S, PdfName.IMPORTDATA);
        pdfAction.put(PdfName.F, new PdfString(string2));
        return pdfAction;
    }

    public static PdfAction createLaunch(String string2, String string3, String string4, String string5) {
        return new PdfAction(string2, string3, string4, string5);
    }

    public static PdfAction createResetForm(Object[] arrobject, int n2) {
        PdfAction pdfAction = new PdfAction();
        pdfAction.put(PdfName.S, PdfName.RESETFORM);
        if (arrobject != null) {
            pdfAction.put(PdfName.FIELDS, PdfAction.buildArray(arrobject));
        }
        pdfAction.put(PdfName.FLAGS, new PdfNumber(n2));
        return pdfAction;
    }

    public static PdfAction createSubmitForm(String string2, Object[] arrobject, int n2) {
        PdfAction pdfAction = new PdfAction();
        pdfAction.put(PdfName.S, PdfName.SUBMITFORM);
        PdfDictionary pdfDictionary = new PdfDictionary();
        pdfDictionary.put(PdfName.F, new PdfString(string2));
        pdfDictionary.put(PdfName.FS, PdfName.URL);
        pdfAction.put(PdfName.F, pdfDictionary);
        if (arrobject != null) {
            pdfAction.put(PdfName.FIELDS, PdfAction.buildArray(arrobject));
        }
        pdfAction.put(PdfName.FLAGS, new PdfNumber(n2));
        return pdfAction;
    }

    public static PdfAction gotoEmbedded(String string2, PdfTargetDictionary pdfTargetDictionary, PdfObject pdfObject, boolean bl2) {
        PdfAction pdfAction = new PdfAction();
        pdfAction.put(PdfName.S, PdfName.GOTOE);
        pdfAction.put(PdfName.T, pdfTargetDictionary);
        pdfAction.put(PdfName.D, pdfObject);
        pdfAction.put(PdfName.NEWWINDOW, new PdfBoolean(bl2));
        if (string2 != null) {
            pdfAction.put(PdfName.F, new PdfString(string2));
        }
        return pdfAction;
    }

    /*
     * Enabled force condition propagation
     * Lifted jumps to return sites
     */
    public static PdfAction gotoEmbedded(String string2, PdfTargetDictionary pdfTargetDictionary, String object, boolean bl2, boolean bl3) {
        if (bl2) {
            object = new PdfName((String)object);
            do {
                return PdfAction.gotoEmbedded(string2, pdfTargetDictionary, (PdfObject)object, bl3);
                break;
            } while (true);
        }
        object = new PdfString((String)object, "UnicodeBig");
        return PdfAction.gotoEmbedded(string2, pdfTargetDictionary, (PdfObject)object, bl3);
    }

    public static PdfAction gotoLocalPage(int n2, PdfDestination pdfDestination, PdfWriter object) {
        object = object.getPageReference(n2);
        pdfDestination = new PdfDestination(pdfDestination);
        pdfDestination.addPage((PdfIndirectReference)object);
        object = new PdfAction();
        object.put(PdfName.S, PdfName.GOTO);
        object.put(PdfName.D, pdfDestination);
        return object;
    }

    /*
     * Enabled aggressive block sorting
     */
    public static PdfAction gotoLocalPage(String object, boolean bl2) {
        PdfName pdfName;
        PdfAction pdfAction = new PdfAction();
        pdfAction.put(PdfName.S, PdfName.GOTO);
        if (bl2) {
            pdfName = PdfName.D;
            object = new PdfName((String)object);
        } else {
            pdfName = PdfName.D;
            object = new PdfString((String)object, "UnicodeBig");
        }
        pdfAction.put(pdfName, (PdfObject)object);
        return pdfAction;
    }

    /*
     * Enabled aggressive block sorting
     */
    public static PdfAction gotoRemotePage(String object, String object2, boolean bl2, boolean bl3) {
        PdfAction pdfAction = new PdfAction();
        pdfAction.put(PdfName.F, new PdfString((String)object));
        pdfAction.put(PdfName.S, PdfName.GOTOR);
        if (bl2) {
            object = PdfName.D;
            object2 = new PdfName((String)object2);
        } else {
            object = PdfName.D;
            object2 = new PdfString((String)object2, "UnicodeBig");
        }
        pdfAction.put((PdfName)object, (PdfObject)object2);
        if (bl3) {
            pdfAction.put(PdfName.NEWWINDOW, PdfBoolean.PDFTRUE);
        }
        return pdfAction;
    }

    public static PdfAction javaScript(String string2, PdfWriter pdfWriter) {
        return PdfAction.javaScript(string2, pdfWriter, false);
    }

    /*
     * Enabled aggressive block sorting
     * Enabled unnecessary exception pruning
     * Enabled aggressive exception aggregation
     */
    public static PdfAction javaScript(String object, PdfWriter object2, boolean bl2) {
        PdfAction pdfAction = new PdfAction();
        pdfAction.put(PdfName.S, PdfName.JAVASCRIPT);
        if (bl2 && object.length() < 50) {
            PdfName pdfName = PdfName.JS;
            object2 = new PdfString((String)object, "UnicodeBig");
            object = pdfName;
        } else if (!bl2 && object.length() < 100) {
            object2 = PdfName.JS;
            PdfString pdfString = new PdfString((String)object);
            object = object2;
            object2 = pdfString;
        } else {
            Object object3 = bl2 ? "UnicodeBig" : "PDF";
            try {
                object3 = new PdfStream(PdfEncodings.convertToBytes((String)object, (String)object3));
                object3.flateCompress(object2.getCompressionLevel());
                pdfAction.put(PdfName.JS, object2.addToBody((PdfObject)object3).getIndirectReference());
                return pdfAction;
            }
            catch (Exception exception) {}
            object2 = PdfName.JS;
            object3 = new PdfString((String)object);
            object = object2;
            object2 = object3;
        }
        pdfAction.put((PdfName)object, (PdfObject)object2);
        return pdfAction;
    }

    public static PdfAction rendition(String string2, PdfFileSpecification pdfFileSpecification, String string3, PdfIndirectReference pdfIndirectReference) {
        PdfAction pdfAction = new PdfAction();
        pdfAction.put(PdfName.S, PdfName.RENDITION);
        pdfAction.put(PdfName.R, new PdfRendition(string2, pdfFileSpecification, string3));
        pdfAction.put(new PdfName("OP"), new PdfNumber(0));
        pdfAction.put(new PdfName("AN"), pdfIndirectReference);
        return pdfAction;
    }

    /*
     * Enabled aggressive block sorting
     */
    public static PdfAction setOCGstate(ArrayList<Object> arrayList, boolean bl2) {
        PdfAction pdfAction = new PdfAction();
        pdfAction.put(PdfName.S, PdfName.SETOCGSTATE);
        PdfArray pdfArray = new PdfArray();
        for (int i2 = 0; i2 < arrayList.size(); ++i2) {
            Object object = arrayList.get(i2);
            if (object == null) continue;
            if (object instanceof PdfIndirectReference) {
                object = (PdfIndirectReference)object;
            } else if (object instanceof PdfLayer) {
                object = ((PdfLayer)object).getRef();
            } else if (object instanceof PdfName) {
                object = (PdfName)object;
            } else {
                if (!(object instanceof String)) {
                    throw new IllegalArgumentException(MessageLocalization.getComposedMessage("invalid.type.was.passed.in.state.1", object.getClass().getName()));
                }
                if ((object = (String)object).equalsIgnoreCase("on")) {
                    object = PdfName.ON;
                } else if (object.equalsIgnoreCase("off")) {
                    object = PdfName.OFF;
                } else {
                    if (!object.equalsIgnoreCase("toggle")) {
                        throw new IllegalArgumentException(MessageLocalization.getComposedMessage("a.string.1.was.passed.in.state.only.on.off.and.toggle.are.allowed", object));
                    }
                    object = PdfName.TOGGLE;
                }
            }
            pdfArray.add((PdfObject)object);
        }
        pdfAction.put(PdfName.STATE, pdfArray);
        if (!bl2) {
            pdfAction.put(PdfName.PRESERVERB, PdfBoolean.PDFFALSE);
        }
        return pdfAction;
    }

    public void next(PdfAction pdfAction) {
        PdfObject pdfObject = this.get(PdfName.NEXT);
        if (pdfObject == null) {
            this.put(PdfName.NEXT, pdfAction);
            return;
        }
        if (pdfObject.isDictionary()) {
            pdfObject = new PdfArray(pdfObject);
            pdfObject.add(pdfAction);
            this.put(PdfName.NEXT, pdfObject);
            return;
        }
        ((PdfArray)pdfObject).add(pdfAction);
    }

    @Override
    public void toPdf(PdfWriter pdfWriter, OutputStream outputStream) {
        PdfWriter.checkPdfIsoConformance(pdfWriter, 14, this);
        super.toPdf(pdfWriter, outputStream);
    }
}


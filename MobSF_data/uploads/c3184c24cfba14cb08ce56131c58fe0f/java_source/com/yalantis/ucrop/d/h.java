/*
 * Decompiled with CFR 0_132.
 * 
 * Could not load the following classes:
 *  android.view.MotionEvent
 */
package com.yalantis.ucrop.d;

import android.view.MotionEvent;

public class h {
    private float a;
    private float b;
    private float c;
    private float d;
    private int e;
    private int f;
    private float g;
    private boolean h;
    private a i;

    public h(a a2) {
        this.i = a2;
        this.e = -1;
        this.f = -1;
    }

    /*
     * Enabled aggressive block sorting
     */
    private float a(float f2, float f3) {
        this.g = f3 % 360.0f - f2 % 360.0f;
        if (this.g < -180.0f) {
            f2 = this.g + 360.0f;
        } else {
            if (this.g <= 180.0f) return this.g;
            f2 = this.g - 360.0f;
        }
        this.g = f2;
        return this.g;
    }

    private float a(float f2, float f3, float f4, float f5, float f6, float f7, float f8, float f9) {
        return this.a((float)Math.toDegrees((float)Math.atan2(f3 - f5, f2 - f4)), (float)Math.toDegrees((float)Math.atan2(f7 - f9, f6 - f8)));
    }

    public float a() {
        return this.g;
    }

    public boolean a(MotionEvent motionEvent) {
        block11 : {
            switch (motionEvent.getActionMasked()) {
                default: {
                    return true;
                }
                case 6: {
                    this.f = -1;
                    return true;
                }
                case 5: {
                    this.a = motionEvent.getX();
                    this.b = motionEvent.getY();
                    this.f = motionEvent.findPointerIndex(motionEvent.getPointerId(motionEvent.getActionIndex()));
                    break;
                }
                case 2: {
                    if (this.e != -1 && this.f != -1 && motionEvent.getPointerCount() > this.f) {
                        float f2 = motionEvent.getX(this.e);
                        float f3 = motionEvent.getY(this.e);
                        float f4 = motionEvent.getX(this.f);
                        float f5 = motionEvent.getY(this.f);
                        if (this.h) {
                            this.g = 0.0f;
                            this.h = false;
                        } else {
                            this.a(this.a, this.b, this.c, this.d, f4, f5, f2, f3);
                        }
                        if (this.i != null) {
                            this.i.a(this);
                        }
                        this.a = f4;
                        this.b = f5;
                        this.c = f2;
                        this.d = f3;
                        return true;
                    }
                    break block11;
                }
                case 1: {
                    this.e = -1;
                    return true;
                }
                case 0: {
                    this.c = motionEvent.getX();
                    this.d = motionEvent.getY();
                    this.e = motionEvent.findPointerIndex(motionEvent.getPointerId(0));
                }
            }
            this.g = 0.0f;
            this.h = true;
        }
        return true;
    }

    public static interface a {
        public boolean a(h var1);
    }

    public static class b
    implements a {
        @Override
        public boolean a(h h2) {
            return false;
        }
    }

}


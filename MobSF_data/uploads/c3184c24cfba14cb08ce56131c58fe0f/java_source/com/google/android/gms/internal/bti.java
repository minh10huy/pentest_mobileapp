/*
 * Decompiled with CFR 0_132.
 * 
 * Could not load the following classes:
 *  android.content.Context
 *  android.content.SharedPreferences
 *  android.os.ConditionVariable
 */
package com.google.android.gms.internal;

import android.content.Context;
import android.content.SharedPreferences;
import android.os.ConditionVariable;
import com.google.android.gms.common.z;
import com.google.android.gms.internal.ak;
import com.google.android.gms.internal.bqj;
import com.google.android.gms.internal.bsz;
import com.google.android.gms.internal.btj;
import com.google.android.gms.internal.jr;

@ak
public final class bti {
    private final Object a = new Object();
    private final ConditionVariable b = new ConditionVariable();
    private volatile boolean c = false;
    private SharedPreferences d = null;
    private Context e;

    static /* synthetic */ SharedPreferences a(bti bti2) {
        return bti2.d;
    }

    /*
     * Enabled aggressive block sorting
     * Enabled unnecessary exception pruning
     * Enabled aggressive exception aggregation
     * Converted monitor instructions to comments
     * Lifted jumps to return sites
     */
    public final <T> T a(bsz<T> bsz2) {
        if (!this.b.block(5000L)) throw new IllegalStateException("Flags.initialize() was not called!");
        if (this.c) {
            if (this.d != null) return jr.a(this.e, new btj(this, bsz2));
        }
        Object object = this.a;
        // MONITORENTER : object
        if (this.c && this.d != null) {
            // MONITOREXIT : object
            return jr.a(this.e, new btj(this, bsz2));
        }
        bsz2 = bsz2.b();
        // MONITOREXIT : object
        return (T)bsz2;
    }

    /*
     * Enabled aggressive block sorting
     * Enabled unnecessary exception pruning
     * Enabled aggressive exception aggregation
     */
    public final void a(Context context) {
        if (this.c) {
            return;
        }
        Object object = this.a;
        synchronized (object) {
            Context context2;
            Throwable throwable2;
            block13 : {
                if (this.c) {
                    return;
                }
                context2 = context.getApplicationContext() == null ? context : context.getApplicationContext();
                this.e = context2;
                try {
                    Context context3;
                    context2 = context3 = z.h(context);
                    if (context3 == null) {
                        context2 = context3;
                        if (context != null) {
                            context2 = context3 = context.getApplicationContext();
                            if (context3 == null) {
                                context2 = context;
                            }
                        }
                    }
                    if (context2 != null) break block13;
                }
                catch (Throwable throwable2) {}
                this.b.open();
                return;
            }
            bqj.d();
            this.d = context2.getSharedPreferences("google_ads_flags", 0);
            this.c = true;
            return;
            throw throwable2;
            finally {
                this.b.open();
            }
        }
    }
}


/*
 * Decompiled with CFR 0_132.
 * 
 * Could not load the following classes:
 *  android.content.Context
 *  android.graphics.Point
 *  android.os.Bundle
 *  android.os.Handler
 *  android.view.MotionEvent
 *  android.view.View
 *  android.view.View$OnClickListener
 *  android.view.View$OnTouchListener
 *  android.view.ViewGroup
 *  android.view.ViewTreeObserver
 *  android.view.ViewTreeObserver$OnGlobalLayoutListener
 *  android.view.ViewTreeObserver$OnScrollChangedListener
 *  android.widget.FrameLayout
 */
package com.google.android.gms.internal;

import android.content.Context;
import android.graphics.Point;
import android.os.Bundle;
import android.os.Handler;
import android.view.MotionEvent;
import android.view.View;
import android.view.ViewGroup;
import android.view.ViewTreeObserver;
import android.widget.FrameLayout;
import com.google.android.gms.a.a;
import com.google.android.gms.a.m;
import com.google.android.gms.ads.internal.av;
import com.google.android.gms.internal.ak;
import com.google.android.gms.internal.blx;
import com.google.android.gms.internal.bmb;
import com.google.android.gms.internal.bqj;
import com.google.android.gms.internal.bsz;
import com.google.android.gms.internal.btk;
import com.google.android.gms.internal.buw;
import com.google.android.gms.internal.bux;
import com.google.android.gms.internal.buy;
import com.google.android.gms.internal.bvc;
import com.google.android.gms.internal.bvq;
import com.google.android.gms.internal.bvr;
import com.google.android.gms.internal.bwh;
import com.google.android.gms.internal.ga;
import com.google.android.gms.internal.he;
import com.google.android.gms.internal.hs;
import com.google.android.gms.internal.jz;
import com.google.android.gms.internal.ly;
import java.lang.ref.WeakReference;
import java.util.HashMap;
import java.util.Iterator;
import java.util.Map;
import java.util.Set;

@ak
public final class bvp
extends bwh
implements View.OnClickListener,
View.OnTouchListener,
ViewTreeObserver.OnGlobalLayoutListener,
ViewTreeObserver.OnScrollChangedListener {
    static final String[] a = new String[]{"2011", "1009"};
    private final Object b = new Object();
    private final WeakReference<View> c;
    private final Map<String, WeakReference<View>> d = new HashMap<String, WeakReference<View>>();
    private final Map<String, WeakReference<View>> e = new HashMap<String, WeakReference<View>>();
    private final Map<String, WeakReference<View>> f = new HashMap<String, WeakReference<View>>();
    private buy g;
    private View h;
    private Point i = new Point();
    private Point j = new Point();
    private WeakReference<blx> k = new WeakReference<Object>(null);

    public bvp(View view, HashMap<String, View> hashMap, HashMap<String, View> hashMap2) {
        av.z();
        ly.a(view, this);
        av.z();
        ly.a(view, this);
        view.setOnTouchListener((View.OnTouchListener)this);
        view.setOnClickListener((View.OnClickListener)this);
        this.c = new WeakReference<View>(view);
        this.a(hashMap);
        this.f.putAll(this.d);
        this.b(hashMap2);
        this.f.putAll(this.e);
        btk.a(view.getContext());
    }

    /*
     * Enabled aggressive block sorting
     * Enabled unnecessary exception pruning
     * Enabled aggressive exception aggregation
     */
    private final int a(int n2) {
        Object object = this.b;
        synchronized (object) {
            bqj.a();
            return jz.b(this.g.i(), n2);
        }
    }

    /*
     * Enabled aggressive block sorting
     * Enabled unnecessary exception pruning
     * Enabled aggressive exception aggregation
     */
    private final void a(View view) {
        Object object = this.b;
        synchronized (object) {
            if (this.g != null) {
                buy buy2 = this.g instanceof bux ? ((bux)this.g).d() : this.g;
                if (buy2 != null) {
                    buy2.b(view);
                }
            }
            return;
        }
    }

    /*
     * Enabled aggressive block sorting
     * Enabled unnecessary exception pruning
     * Enabled aggressive exception aggregation
     */
    private final void a(bvc bvc2) {
        Object object = this.b;
        synchronized (object) {
            View view;
            Object object2;
            block7 : {
                view = a;
                int n2 = ((String[])view).length;
                for (int i2 = 0; i2 < n2; ++i2) {
                    object2 = view[i2];
                    if ((object2 = this.f.get(object2)) == null) continue;
                    view = (View)object2.get();
                    break block7;
                }
                view = null;
            }
            if (!(view instanceof FrameLayout)) {
                bvc2.g();
                return;
            }
            object2 = new bvr(this, view);
            if (bvc2 instanceof bux) {
                bvc2.b(view, (buw)object2);
            } else {
                bvc2.a(view, (buw)object2);
            }
            return;
        }
    }

    static /* synthetic */ void a(bvp bvp2, bvc bvc2) {
        bvp2.a(bvc2);
    }

    private final void a(Map<String, View> object) {
        for (Map.Entry entry : object.entrySet()) {
            String string2 = (String)entry.getKey();
            View entry2 = (View)entry.getValue();
            if (entry2 == null) continue;
            this.d.put(string2, new WeakReference<View>(entry2));
            if ("1098".equals(string2)) continue;
            entry2.setOnTouchListener((View.OnTouchListener)this);
            entry2.setClickable(true);
            entry2.setOnClickListener((View.OnClickListener)this);
        }
    }

    static /* synthetic */ boolean a(bvp bvp2, String[] arrstring) {
        return bvp2.a(arrstring);
    }

    private final boolean a(String[] arrstring) {
        for (String string2 : arrstring) {
            if (this.d.get(string2) == null) continue;
            return true;
        }
        for (String string2 : arrstring) {
            if (this.e.get(string2) == null) continue;
            return false;
        }
        return false;
    }

    private final void b(Map<String, View> object) {
        for (Map.Entry entry : object.entrySet()) {
            View view = (View)entry.getValue();
            if (view == null) continue;
            this.e.put((String)entry.getKey(), new WeakReference<View>(view));
            view.setOnTouchListener((View.OnTouchListener)this);
        }
    }

    /*
     * Enabled aggressive block sorting
     * Enabled unnecessary exception pruning
     * Enabled aggressive exception aggregation
     */
    @Override
    public final void a() {
        Object object = this.b;
        synchronized (object) {
            this.h = null;
            this.g = null;
            this.i = null;
            this.j = null;
            return;
        }
    }

    /*
     * Enabled aggressive block sorting
     * Enabled unnecessary exception pruning
     * Enabled aggressive exception aggregation
     * Converted monitor instructions to comments
     * Lifted jumps to return sites
     */
    @Override
    public final void a(a object) {
        blx blx2;
        Object object2;
        Object object3;
        block31 : {
            block30 : {
                Object object4 = this.b;
                // MONITORENTER : object4
                blx2 = null;
                this.a((View)null);
                object = m.a((a)object);
                if (!(object instanceof bvc)) {
                    he.e("Not an instance of native engine. This is most likely a transient error");
                    // MONITOREXIT : object4
                    return;
                }
                Object object5 = (bvc)object;
                if (!object5.b()) {
                    he.c("Your account must be enabled to use this feature. Talk to your account manager to request this feature for your account.");
                    // MONITOREXIT : object4
                    return;
                }
                object3 = this.c.get();
                if (this.g != null && object3 != null) {
                    object = btk.bS;
                    if (bqj.f().a(object).booleanValue()) {
                        this.g.b((View)object3, this.f);
                    }
                }
                object = this.b;
                // MONITORENTER : object
                if (this.g instanceof bvc) {
                    object2 = (bvc)this.g;
                    Object object6 = this.c.get();
                    if (object2 != null && object2.i() != null && object6 != null && av.A().c(object6.getContext())) {
                        if ((object2 = object2.j()) != null) {
                            object2.a(false);
                        }
                        if ((object6 = this.k.get()) != null && object2 != null) {
                            object6.b((bmb)object2);
                        }
                    }
                }
                // MONITOREXIT : object
                if (this.g instanceof bux && ((bux)this.g).c()) {
                    ((bux)this.g).a((buy)object5);
                } else {
                    this.g = object5;
                    if (object5 instanceof bux) {
                        ((bux)object5).a(null);
                    }
                }
                object = this.f.get("1098");
                if (object == null) {
                    he.e("Ad choices asset view is not provided.");
                } else {
                    object2 = (View)object.get();
                    object = blx2;
                    if (object2 instanceof ViewGroup) {
                        object = (ViewGroup)object2;
                    }
                    if (object != null) {
                        this.h = object5.a(this, true);
                        if (this.h != null) {
                            this.f.put("1007", new WeakReference<View>(this.h));
                            this.d.put("1007", new WeakReference<View>(this.h));
                            object.removeAllViews();
                            object.addView(this.h);
                        }
                    }
                }
                object5.a((View)object3, this.d, this.e, this, this);
                hs.a.post((Runnable)new bvq(this, (bvc)object5));
                this.a((View)object3);
                this.g.a((View)object3);
                object5 = this.b;
                // MONITORENTER : object5
                if (!(this.g instanceof bvc)) break block30;
                object3 = (bvc)this.g;
                object2 = this.c.get();
                if (object3 != null && object3.i() != null && object2 != null && av.A().c(object2.getContext())) break block31;
            }
            // MONITOREXIT : object5
            return;
        }
        blx2 = this.k.get();
        object = blx2;
        if (blx2 == null) {
            object = new blx(object2.getContext(), (View)object2);
            this.k = new WeakReference<Object>(object);
        }
        object.a(object3.j());
    }

    /*
     * Enabled aggressive block sorting
     * Enabled unnecessary exception pruning
     * Enabled aggressive exception aggregation
     */
    public final void onClick(View view) {
        Object object = this.b;
        synchronized (object) {
            block6 : {
                View view2;
                Bundle bundle;
                block4 : {
                    Map<String, WeakReference<View>> map;
                    buy buy2;
                    block7 : {
                        block5 : {
                            if (this.g == null) {
                                return;
                            }
                            view2 = this.c.get();
                            if (view2 == null) {
                                return;
                            }
                            bundle = new Bundle();
                            bundle.putFloat("x", (float)this.a(this.i.x));
                            bundle.putFloat("y", (float)this.a(this.i.y));
                            bundle.putFloat("start_x", (float)this.a(this.j.x));
                            bundle.putFloat("start_y", (float)this.a(this.j.y));
                            if (this.h == null || !this.h.equals((Object)view)) break block4;
                            if (!(this.g instanceof bux)) break block5;
                            if (((bux)this.g).d() == null) break block6;
                            buy2 = ((bux)this.g).d();
                            map = this.f;
                            break block7;
                        }
                        buy2 = this.g;
                        map = this.f;
                    }
                    buy2.a(view, "1007", bundle, map, view2);
                    break block6;
                }
                this.g.a(view, this.f, bundle, view2);
            }
            return;
        }
    }

    /*
     * Enabled aggressive block sorting
     * Enabled unnecessary exception pruning
     * Enabled aggressive exception aggregation
     */
    public final void onGlobalLayout() {
        Object object = this.b;
        synchronized (object) {
            View view;
            if (this.g != null && (view = this.c.get()) != null) {
                this.g.c(view, this.f);
            }
            return;
        }
    }

    /*
     * Enabled aggressive block sorting
     * Enabled unnecessary exception pruning
     * Enabled aggressive exception aggregation
     */
    public final void onScrollChanged() {
        Object object = this.b;
        synchronized (object) {
            View view;
            if (this.g != null && (view = this.c.get()) != null) {
                this.g.c(view, this.f);
            }
            return;
        }
    }

    /*
     * Enabled aggressive block sorting
     * Enabled unnecessary exception pruning
     * Enabled aggressive exception aggregation
     */
    public final boolean onTouch(View object, MotionEvent motionEvent) {
        object = this.b;
        synchronized (object) {
            if (this.g == null) {
                return false;
            }
            View view = this.c.get();
            if (view == null) {
                return false;
            }
            int[] arrn = new int[2];
            view.getLocationOnScreen(arrn);
            float f2 = motionEvent.getRawX();
            float f3 = arrn[0];
            float f4 = motionEvent.getRawY();
            float f5 = arrn[1];
            view = new Point((int)(f2 - f3), (int)(f4 - f5));
            this.i = view;
            if (motionEvent.getAction() == 0) {
                this.j = view;
            }
            motionEvent = MotionEvent.obtain((MotionEvent)motionEvent);
            motionEvent.setLocation((float)view.x, (float)view.y);
            this.g.a(motionEvent);
            motionEvent.recycle();
            return false;
        }
    }
}


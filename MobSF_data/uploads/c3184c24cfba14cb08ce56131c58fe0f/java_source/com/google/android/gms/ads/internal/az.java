/*
 * Decompiled with CFR 0_132.
 * 
 * Could not load the following classes:
 *  android.app.Activity
 *  android.content.Context
 *  android.content.pm.ApplicationInfo
 *  android.content.pm.PackageInfo
 *  android.content.pm.PackageManager
 *  android.content.pm.PackageManager$NameNotFoundException
 *  android.content.res.Resources
 *  android.os.Bundle
 *  android.os.RemoteException
 *  android.util.DisplayMetrics
 *  android.view.View
 *  android.view.ViewParent
 *  org.json.JSONArray
 *  org.json.JSONException
 *  org.json.JSONObject
 */
package com.google.android.gms.ads.internal;

import android.app.Activity;
import android.content.Context;
import android.content.pm.ApplicationInfo;
import android.content.pm.PackageInfo;
import android.content.pm.PackageManager;
import android.content.res.Resources;
import android.os.Bundle;
import android.os.RemoteException;
import android.support.v4.g.m;
import android.util.DisplayMetrics;
import android.view.View;
import android.view.ViewParent;
import com.google.android.gms.ads.internal.a;
import com.google.android.gms.ads.internal.al;
import com.google.android.gms.ads.internal.ao;
import com.google.android.gms.ads.internal.av;
import com.google.android.gms.ads.internal.aw;
import com.google.android.gms.ads.internal.ax;
import com.google.android.gms.ads.internal.ba;
import com.google.android.gms.ads.internal.bb;
import com.google.android.gms.ads.internal.bc;
import com.google.android.gms.ads.internal.bd;
import com.google.android.gms.ads.internal.br;
import com.google.android.gms.ads.internal.d;
import com.google.android.gms.ads.internal.overlay.n;
import com.google.android.gms.common.internal.ah;
import com.google.android.gms.internal.ak;
import com.google.android.gms.internal.am;
import com.google.android.gms.internal.an;
import com.google.android.gms.internal.bk;
import com.google.android.gms.internal.bkw;
import com.google.android.gms.internal.bmt;
import com.google.android.gms.internal.boc;
import com.google.android.gms.internal.boe;
import com.google.android.gms.internal.boh;
import com.google.android.gms.internal.bpu;
import com.google.android.gms.internal.bpy;
import com.google.android.gms.internal.bqj;
import com.google.android.gms.internal.brm;
import com.google.android.gms.internal.bsa;
import com.google.android.gms.internal.bsz;
import com.google.android.gms.internal.btk;
import com.google.android.gms.internal.btx;
import com.google.android.gms.internal.bvl;
import com.google.android.gms.internal.bwt;
import com.google.android.gms.internal.bxd;
import com.google.android.gms.internal.bxh;
import com.google.android.gms.internal.bzy;
import com.google.android.gms.internal.caw;
import com.google.android.gms.internal.cax;
import com.google.android.gms.internal.cay;
import com.google.android.gms.internal.caz;
import com.google.android.gms.internal.cbf;
import com.google.android.gms.internal.cbn;
import com.google.android.gms.internal.cbq;
import com.google.android.gms.internal.cf;
import com.google.android.gms.internal.gl;
import com.google.android.gms.internal.gn;
import com.google.android.gms.internal.gp;
import com.google.android.gms.internal.gv;
import com.google.android.gms.internal.gw;
import com.google.android.gms.internal.gx;
import com.google.android.gms.internal.ha;
import com.google.android.gms.internal.he;
import com.google.android.gms.internal.hg;
import com.google.android.gms.internal.hm;
import com.google.android.gms.internal.hs;
import com.google.android.gms.internal.hy;
import com.google.android.gms.internal.km;
import com.google.android.gms.internal.lf;
import com.google.android.gms.internal.lk;
import com.google.android.gms.internal.nu;
import com.google.android.gms.internal.ye;
import java.util.ArrayList;
import java.util.List;
import java.util.UUID;
import java.util.concurrent.Executor;
import java.util.concurrent.Future;
import java.util.concurrent.ThreadPoolExecutor;
import org.json.JSONArray;
import org.json.JSONException;
import org.json.JSONObject;

@ak
public abstract class az
extends a
implements ao,
n,
cay {
    protected final cbn i;
    private transient boolean j;

    public az(Context context, bpy bpy2, String string2, cbn cbn2, km km2, br br2) {
        this(new aw(context, bpy2, string2, km2), cbn2, null, br2);
    }

    private az(aw aw2, cbn cbn2, al al2, br br2) {
        super(aw2, null, br2);
        this.i = cbn2;
        this.j = false;
    }

    /*
     * Enabled aggressive block sorting
     * Enabled unnecessary exception pruning
     * Enabled aggressive exception aggregation
     */
    private final bk a(bpu bpu2, Bundle bundle, gp object, int n2) {
        int n3;
        bpy bpy2;
        Bundle bundle2;
        int n4;
        int n5;
        String string2;
        Object object2;
        long l2;
        ApplicationInfo applicationInfo;
        int n6;
        PackageInfo packageInfo;
        String string3;
        String string4;
        int n7;
        block17 : {
            block16 : {
                applicationInfo = this.e.c.getApplicationInfo();
                bpy2 = null;
                n6 = 0;
                try {
                    packageInfo = ye.a(this.e.c).b(applicationInfo.packageName, 0);
                    break block16;
                }
                catch (PackageManager.NameNotFoundException nameNotFoundException) {}
                packageInfo = null;
            }
            DisplayMetrics displayMetrics = this.e.c.getResources().getDisplayMetrics();
            if (this.e.f != null && this.e.f.getParent() != null) {
                bundle2 = new int[2];
                this.e.f.getLocationOnScreen((int[])bundle2);
                n4 = bundle2[0];
                n5 = 1;
                n7 = bundle2[1];
                n3 = this.e.f.getWidth();
                int n8 = this.e.f.getHeight();
                if (!this.e.f.isShown() || n4 + n3 <= 0 || n7 + n8 <= 0 || n4 > displayMetrics.widthPixels || n7 > displayMetrics.heightPixels) {
                    n5 = 0;
                }
                bundle2 = new Bundle(5);
                bundle2.putInt("x", n4);
                bundle2.putInt("y", n7);
                bundle2.putInt("width", n3);
                bundle2.putInt("height", n8);
                bundle2.putInt("visible", n5);
            } else {
                bundle2 = null;
            }
            string4 = av.i().a().a();
            this.e.l = new gn(string4, this.e.b);
            this.e.l.a(bpu2);
            av.e();
            string3 = hs.a(this.e.c, (View)this.e.f, this.e.i);
            if (this.e.p != null) {
                try {
                    l2 = this.e.p.a();
                    break block17;
                }
                catch (RemoteException remoteException) {}
                he.e("Cannot get correlation id, default to 0.");
            }
            l2 = 0L;
        }
        String string5 = UUID.randomUUID().toString();
        Bundle bundle3 = av.j().a(this.e.c, this, string4);
        ArrayList<String> arrayList = new ArrayList<String>();
        ArrayList<String> arrayList2 = new ArrayList<String>();
        for (n5 = 0; n5 < this.e.u.size(); ++n5) {
            object2 = this.e.u.b(n5);
            arrayList.add((String)object2);
            if (!this.e.t.containsKey(object2) || this.e.t.get(object2) == null) continue;
            arrayList2.add((String)object2);
        }
        object2 = new bc(this);
        lf<String> lf2 = hm.a(hm.a, object2);
        object2 = new bd(this);
        lf<String> lf3 = hm.a(hm.a, object2);
        object = object != null ? object.c() : null;
        object2 = bpy2;
        if (this.e.D != null) {
            object2 = bpy2;
            if (this.e.D.size() > 0) {
                n5 = n6;
                if (packageInfo != null) {
                    n5 = packageInfo.versionCode;
                }
                if (n5 > av.i().l().g()) {
                    av.i().l().m();
                    av.i().l().a(n5);
                    object2 = bpy2;
                } else {
                    string2 = av.i().l().l();
                    object2 = bpy2;
                    if (string2 != null) {
                        string2 = string2.optJSONArray(this.e.b);
                        object2 = bpy2;
                        if (string2 != null) {
                            object2 = string2.toString();
                        }
                    }
                }
            }
        }
        bpy2 = this.e.i;
        string2 = this.e.b;
        String string6 = bqj.c();
        km km2 = this.e.e;
        List<String> list = this.e.D;
        boolean bl2 = av.i().l().a();
        n5 = displayMetrics.widthPixels;
        n6 = displayMetrics.heightPixels;
        float f2 = displayMetrics.density;
        List<String> list2 = btk.a();
        String string7 = this.e.a;
        bvl bvl2 = this.e.v;
        String string8 = this.e.f();
        float f3 = av.C().a();
        boolean bl3 = av.C().b();
        av.e();
        n4 = hs.i(this.e.c);
        av.e();
        n7 = hs.d((View)this.e.f);
        boolean bl4 = this.e.c instanceof Activity;
        boolean bl5 = av.i().l().f();
        boolean bl6 = av.i().d();
        n3 = av.y().a();
        av.e();
        Bundle bundle4 = hs.c();
        String string9 = av.o().a();
        bsa bsa2 = this.e.x;
        boolean bl7 = av.o().b();
        Bundle bundle5 = bzy.a().j();
        boolean bl8 = av.i().l().e(this.e.b);
        List<Integer> list3 = this.e.z;
        boolean bl9 = ye.a(this.e.c).a();
        boolean bl10 = av.i().e();
        av.g();
        return new bk(bundle2, bpu2, bpy2, string2, applicationInfo, packageInfo, string4, string6, km2, bundle3, list, arrayList, bundle, bl2, n5, n6, f2, string3, l2, string5, list2, string7, bvl2, string8, f3, bl3, n4, n7, bl4, bl5, lf2, (String)object, bl6, n3, bundle4, string9, bsa2, bl7, bundle5, bl8, lf3, list3, (String)object2, arrayList2, n2, bl9, bl10, hy.e());
    }

    /*
     * Enabled force condition propagation
     * Lifted jumps to return sites
     */
    static String c(gl object) {
        if (object == null) {
            return null;
        }
        String string2 = object.p;
        if (!"com.google.android.gms.ads.mediation.customevent.CustomEventAdapter".equals(string2)) {
            if (!"com.google.ads.mediation.customevent.CustomEventAdapter".equals(string2)) return string2;
        }
        boolean bl2 = true;
        if (!bl2) return string2;
        if (object.n == null) return string2;
        object = object.n.j;
        try {
            return new JSONObject((String)object).getString("class_name");
        }
        catch (NullPointerException | JSONException nullPointerException) {
            return string2;
        }
    }

    @Override
    public void F() {
        he.e("showInterstitial is not supported for current ad type");
    }

    @Override
    public void P() {
        this.e();
    }

    @Override
    public void Q() {
        this.X();
    }

    @Override
    public void R() {
        he.e("Mediated ad does not support onVideoEnd callback");
    }

    protected boolean S() {
        av.e();
        if (hs.a(this.e.c, this.e.c.getPackageName(), "android.permission.INTERNET")) {
            av.e();
            if (hs.a(this.e.c)) {
                return true;
            }
        }
        return false;
    }

    @Override
    public final void T() {
        this.q_();
    }

    @Override
    public final void U() {
        this.u();
    }

    @Override
    public final void V() {
        this.g();
    }

    @Override
    public final void W() {
        if (this.e.j != null) {
            String string2 = this.e.j.p;
            StringBuilder stringBuilder = new StringBuilder(String.valueOf(string2).length() + 74);
            stringBuilder.append("Mediation adapter ");
            stringBuilder.append(string2);
            stringBuilder.append(" refreshed, but mediation adapters should never refresh.");
            he.e(stringBuilder.toString());
        }
        this.a(this.e.j, true);
        this.w();
    }

    public final void X() {
        this.a(this.e.j, false);
    }

    @Override
    public final String a() {
        if (this.e.j == null) {
            return null;
        }
        return this.e.j.p;
    }

    /*
     * Enabled aggressive block sorting
     * Enabled unnecessary exception pruning
     * Enabled aggressive exception aggregation
     */
    @Override
    public final void a(bwt bwt2, String string2) {
        bxd bxd2;
        String string3;
        block6 : {
            bxd2 = null;
            if (bwt2 != null) {
                try {
                    string3 = bwt2.l();
                    break block6;
                }
                catch (RemoteException remoteException) {}
                he.c("Unable to call onCustomClick.", (Throwable)remoteException);
                return;
            }
            string3 = null;
        }
        bxd bxd3 = bxd2;
        if (this.e.t != null) {
            bxd3 = bxd2;
            if (string3 != null) {
                bxd3 = this.e.t.get(string3);
            }
        }
        if (bxd3 == null) {
            he.e("Mediation adapter invoked onCustomClick but no listeners were set.");
            return;
        }
        bxd3.a(bwt2, string2);
    }

    protected void a(gl gl2, boolean bl2) {
        if (gl2 == null) {
            he.e("Ad state was null when trying to ping impression URLs.");
            return;
        }
        if (gl2 == null) {
            he.e("Ad state was null when trying to ping impression URLs.");
        } else {
            he.b("Pinging Impression URLs.");
            if (this.e.l != null) {
                this.e.l.a();
            }
            gl2.H.a(boe.a.b.e);
            if (gl2.e != null && !gl2.C) {
                av.e();
                hs.a(this.e.c, this.e.e.a, this.a(gl2.e));
                gl2.C = true;
            }
        }
        if (gl2.D && !bl2) {
            return;
        }
        if (gl2.q != null && gl2.q.d != null) {
            av.w();
            cbf.a(this.e.c, this.e.e.a, gl2, this.e.b, bl2, this.a(gl2.q.d));
        }
        if (gl2.n != null && gl2.n.g != null) {
            av.w();
            cbf.a(this.e.c, this.e.e.a, gl2, this.e.b, bl2, gl2.n.g);
        }
        gl2.D = true;
    }

    public final boolean a(bk object, btx object2) {
        this.a = object2;
        object2.a("seq_num", object.g);
        object2.a("request_id", object.v);
        object2.a("session_id", object.h);
        if (object.f != null) {
            object2.a("app_version", String.valueOf(object.f.versionCode));
        }
        object2 = this.e;
        av.a();
        Context context = this.e.c;
        boh boh2 = this.h.d;
        object = object.b.c.getBundle("sdk_less_server_data") != null ? new cf(context, (bk)object, this, boh2) : new an(context, (bk)object, this, boh2);
        object.i();
        object2.g = object;
        return true;
    }

    @Override
    public boolean a(bpu bpu2, btx btx2) {
        return this.a(bpu2, btx2, 1);
    }

    public final boolean a(bpu bpu2, btx btx2, int n2) {
        if (!this.S()) {
            return false;
        }
        av.e();
        Object object = this.e.c;
        object = av.i().a((Context)object);
        Object object2 = null;
        object = object == null ? null : hs.a((bmt)object);
        this.d.a();
        this.e.G = 0;
        Object object3 = btk.ci;
        if (bqj.f().a(object3).booleanValue()) {
            object3 = av.i().l().h();
            d d2 = av.m();
            Context context = this.e.c;
            km km2 = this.e.e;
            String string2 = this.e.b;
            if (object3 != null) {
                object2 = object3.d();
            }
            d2.a(context, km2, false, (gp)object3, (String)object2, string2, null);
            object2 = object3;
        } else {
            object2 = null;
        }
        return this.a(this.a(bpu2, (Bundle)object, (gp)object2, n2), btx2);
    }

    /*
     * Enabled aggressive block sorting
     */
    protected boolean a(bpu bpu2, gl object, boolean bl2) {
        block4 : {
            long l2;
            block3 : {
                block2 : {
                    if (bl2) return this.d.e();
                    if (!this.e.d()) return this.d.e();
                    if (object.h <= 0L) break block2;
                    al al2 = this.d;
                    l2 = object.h;
                    object = al2;
                    break block3;
                }
                if (object.q == null || object.q.i <= 0L) break block4;
                al al3 = this.d;
                l2 = object.q.i;
                object = al3;
            }
            object.a(bpu2, l2);
            return this.d.e();
        }
        if (object.m) return this.d.e();
        if (object.d != 2) return this.d.e();
        this.d.b(bpu2);
        return this.d.e();
    }

    @Override
    final boolean a(gl gl2) {
        bpu bpu2 = this.f;
        boolean bl2 = false;
        if (bpu2 != null) {
            bpu2 = this.f;
            this.f = null;
        } else {
            bpu bpu3;
            bpu2 = bpu3 = gl2.a;
            if (bpu3.c != null) {
                bl2 = bpu3.c.getBoolean("_noRefresh", false);
                bpu2 = bpu3;
            }
        }
        return this.a(bpu2, gl2, bl2);
    }

    @Override
    protected boolean a(gl object, gl gl2) {
        int n2;
        if (object != null && object.r != null) {
            object.r.a((cay)null);
        }
        if (gl2.r != null) {
            gl2.r.a(this);
        }
        object = gl2.q;
        int n3 = 0;
        if (object != null) {
            n3 = gl2.q.q;
            n2 = gl2.q.r;
        } else {
            n2 = 0;
        }
        this.e.E.a(n3, n2);
        return true;
    }

    @Override
    public final void b(gl gl2) {
        super.b(gl2);
        if (gl2.n != null) {
            he.b("Disable the debug gesture detector on the mediation ad frame.");
            if (this.e.f != null) {
                this.e.f.d();
            }
            he.b("Pinging network fill URLs.");
            av.w();
            cbf.a(this.e.c, this.e.e.a, gl2, this.e.b, false, gl2.n.i);
            if (gl2.q != null && gl2.q.f != null && gl2.q.f.size() > 0) {
                he.b("Pinging urls remotely");
                av.e().a(this.e.c, gl2.q.f);
            }
        } else {
            he.b("Enable the debug gesture detector on the admob ad frame.");
            if (this.e.f != null) {
                this.e.f.c();
            }
        }
        if (gl2.d == 3 && gl2.q != null && gl2.q.e != null) {
            he.b("Pinging no fill URLs.");
            av.w();
            cbf.a(this.e.c, this.e.e.a, gl2, this.e.b, false, gl2.q.e);
        }
    }

    @Override
    public final void b(String string2, String string3) {
        this.a(string2, string3);
    }

    @Override
    protected final boolean c(bpu bpu2) {
        if (super.c(bpu2) && !this.j) {
            return true;
        }
        return false;
    }

    @Override
    public final void d() {
        this.g.c(this.e.j);
    }

    @Override
    public void e() {
        if (this.e.j == null) {
            he.e("Ad state was null when trying to ping click URLs.");
            return;
        }
        if (this.e.j.q != null && this.e.j.q.c != null) {
            av.w();
            cbf.a(this.e.c, this.e.e.a, this.e.j, this.e.b, false, this.a(this.e.j.q.c));
        }
        if (this.e.j.n != null && this.e.j.n.f != null) {
            av.w();
            cbf.a(this.e.c, this.e.e.a, this.e.j, this.e.b, false, this.e.j.n.f);
        }
        super.e();
    }

    @Override
    public final void f() {
        this.g.d(this.e.j);
    }

    @Override
    public final void f_() {
        Executor executor = lk.a;
        al al2 = this.d;
        al2.getClass();
        executor.execute(ba.a(al2));
    }

    @Override
    public void g() {
        this.j = true;
        this.v();
    }

    @Override
    public final void g_() {
        Executor executor = lk.a;
        al al2 = this.d;
        al2.getClass();
        executor.execute(bb.a(al2));
    }

    /*
     * Enabled aggressive block sorting
     * Enabled unnecessary exception pruning
     * Enabled aggressive exception aggregation
     */
    @Override
    public void o() {
        block4 : {
            ah.b("pause must be called on the main UI thread.");
            if (this.e.j != null && this.e.j.b != null && this.e.d()) {
                av.g();
                hy.a(this.e.j.b);
            }
            if (this.e.j != null && this.e.j.o != null) {
                try {
                    this.e.j.o.d();
                    break block4;
                }
                catch (RemoteException remoteException) {}
                he.e("Could not pause mediation adapter.");
            }
        }
        this.g.c(this.e.j);
        this.d.b();
    }

    /*
     * Enabled aggressive block sorting
     * Enabled unnecessary exception pruning
     * Enabled aggressive exception aggregation
     */
    @Override
    public void p() {
        block9 : {
            block8 : {
                nu nu2;
                block7 : {
                    ah.b("resume must be called on the main UI thread.");
                    nu2 = this.e.j != null && this.e.j.b != null ? this.e.j.b : null;
                    if (nu2 != null && this.e.d()) {
                        av.g();
                        hy.b(this.e.j.b);
                    }
                    if (this.e.j == null) break block8;
                    if (this.e.j.o != null) {
                        try {
                            this.e.j.o.e();
                            break block7;
                        }
                        catch (RemoteException remoteException) {}
                        he.e("Could not resume mediation adapter.");
                    }
                }
                if (nu2 != null && nu2.B()) break block9;
            }
            this.d.c();
        }
        this.g.d(this.e.j);
    }

    @Override
    public void q_() {
        this.j = false;
        this.t();
        this.e.l.c();
    }

    @Override
    public final String r_() {
        if (this.e.j == null) {
            return null;
        }
        return az.c(this.e.j);
    }
}


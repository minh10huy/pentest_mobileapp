/*
 * Decompiled with CFR 0_132.
 * 
 * Could not load the following classes:
 *  android.app.PendingIntent
 *  android.content.Context
 *  android.os.Bundle
 *  android.os.Looper
 */
package com.google.android.gms.common.api.internal;

import android.app.PendingIntent;
import android.content.Context;
import android.os.Bundle;
import android.os.Looper;
import com.google.android.gms.c.a;
import com.google.android.gms.c.e;
import com.google.android.gms.common.api.Scope;
import com.google.android.gms.common.api.Status;
import com.google.android.gms.common.api.a;
import com.google.android.gms.common.api.internal.BasePendingResult;
import com.google.android.gms.common.api.internal.aa;
import com.google.android.gms.common.api.internal.am;
import com.google.android.gms.common.api.internal.bb;
import com.google.android.gms.common.api.internal.bp;
import com.google.android.gms.common.api.internal.c;
import com.google.android.gms.common.api.internal.cc;
import com.google.android.gms.common.api.internal.cf;
import com.google.android.gms.common.api.internal.ck;
import com.google.android.gms.common.api.internal.cp;
import com.google.android.gms.common.api.internal.cw;
import com.google.android.gms.common.api.internal.d;
import com.google.android.gms.common.api.internal.dc;
import com.google.android.gms.common.api.k;
import com.google.android.gms.common.internal.bd;
import com.google.android.gms.common.internal.bf;
import com.google.android.gms.common.m;
import com.google.android.gms.internal.agr;
import com.google.android.gms.internal.ags;
import com.google.android.gms.internal.xz;
import java.io.FileDescriptor;
import java.io.PrintWriter;
import java.util.ArrayList;
import java.util.Collection;
import java.util.Collections;
import java.util.HashMap;
import java.util.HashSet;
import java.util.Iterator;
import java.util.LinkedList;
import java.util.Map;
import java.util.Queue;
import java.util.Set;
import java.util.concurrent.Executor;
import java.util.concurrent.locks.Condition;
import java.util.concurrent.locks.Lock;

public final class b
implements bb {
    private final Map<a.d<?>, dc<?>> a = new HashMap();
    private final Map<a.d<?>, dc<?>> b = new HashMap();
    private final Map<com.google.android.gms.common.api.a<?>, Boolean> c;
    private final am d;
    private final aa e;
    private final Lock f;
    private final Looper g;
    private final m h;
    private final Condition i;
    private final bd j;
    private final boolean k;
    private final boolean l;
    private final Queue<cp<?, ?>> m = new LinkedList();
    private boolean n;
    private Map<ck<?>, com.google.android.gms.common.a> o;
    private Map<ck<?>, com.google.android.gms.common.a> p;
    private com.google.android.gms.common.api.internal.e q;
    private com.google.android.gms.common.a r;

    public b(Context context, Lock object, Looper looper, m hashMap, Map<a.d<?>, a.f> object2, bd bd2, Map<com.google.android.gms.common.api.a<?>, Boolean> object32, a.b<? extends agr, ags> b2, ArrayList<cw> object4, aa dc2, boolean bl2) {
        boolean bl3;
        Object object3;
        Object object5;
        int n2;
        this.f = object;
        this.g = looper;
        this.i = object.newCondition();
        this.h = hashMap;
        this.e = object5;
        this.c = object32;
        this.j = bd2;
        this.k = bl3;
        object = new HashMap();
        for (com.google.android.gms.common.api.a a2 : object32.keySet()) {
            object.put(a2.c(), a2);
        }
        hashMap = new HashMap();
        ArrayList arrayList = (ArrayList)object3;
        int n3 = arrayList.size();
        for (n2 = 0; n2 < n3; ++n2) {
            object3 = arrayList.get(n2);
            object3 = (cw)object3;
            hashMap.put(object3.a, object3);
        }
        object2 = object2.entrySet().iterator();
        bl3 = true;
        int n4 = 0;
        n3 = 1;
        n2 = 0;
        while (object2.hasNext()) {
            int n5;
            void var8_13;
            Map.Entry entry = object2.next();
            object5 = (com.google.android.gms.common.api.a)object.get(entry.getKey());
            object3 = (a.f)entry.getValue();
            if (object3.j()) {
                n4 = this.c.get(object5) == false ? 1 : n2;
                n2 = 1;
            } else {
                n3 = n4;
                n4 = n2;
                n5 = 0;
                n2 = n3;
                n3 = n5;
            }
            object5 = new dc(context, object5, looper, (a.f)object3, (cw)hashMap.get(object5), bd2, (a.b<? extends agr, ags>)((a.b<agr, ags>)((a.b<? extends agr, ags>)var8_13)));
            this.a.put((a.d)entry.getKey(), (dc<?>)object5);
            if (object3.i()) {
                this.b.put((a.d)entry.getKey(), (dc<?>)object5);
            }
            n5 = n4;
            n4 = n2;
            n2 = n5;
        }
        if (n4 == 0 || n3 != 0 || n2 != 0) {
            bl3 = false;
        }
        this.l = bl3;
        this.d = am.a();
    }

    private final com.google.android.gms.common.a a(a.d<?> object) {
        block4 : {
            this.f.lock();
            object = this.a.get(object);
            if (this.o == null || object == null) break block4;
            object = this.o.get(object.b());
            return object;
        }
        this.f.unlock();
        return null;
        finally {
            this.f.unlock();
        }
    }

    static /* synthetic */ com.google.android.gms.common.a a(b b2, com.google.android.gms.common.a a2) {
        b2.r = a2;
        return a2;
    }

    static /* synthetic */ Map a(b b2, Map map) {
        b2.o = map;
        return map;
    }

    static /* synthetic */ Lock a(b b2) {
        return b2.f;
    }

    static /* synthetic */ boolean a(b b2, dc dc2, com.google.android.gms.common.a a2) {
        return b2.a(dc2, a2);
    }

    static /* synthetic */ boolean a(b b2, boolean bl2) {
        b2.n = false;
        return false;
    }

    private final boolean a(dc<?> dc2, com.google.android.gms.common.a a2) {
        if (!a2.b() && !a2.a() && this.c.get(dc2.a()).booleanValue() && dc2.f().j() && this.h.a(a2.c())) {
            return true;
        }
        return false;
    }

    static /* synthetic */ Map b(b b2, Map map) {
        b2.p = map;
        return map;
    }

    static /* synthetic */ boolean b(b b2) {
        return b2.n;
    }

    private final <T extends cp<? extends k, ? extends a.c>> boolean b(T t2) {
        a.d d2 = t2.g();
        a.d d3 = this.a((T)d2);
        if (d3 != null && d3.c() == 4) {
            t2.b(new Status(4, null, this.d.a(this.a.get(d2).b(), System.identityHashCode(this.e))));
            return true;
        }
        return false;
    }

    static /* synthetic */ Map c(b b2) {
        return b2.a;
    }

    static /* synthetic */ Map d(b b2) {
        return b2.o;
    }

    static /* synthetic */ boolean e(b b2) {
        return b2.l;
    }

    static /* synthetic */ com.google.android.gms.common.a f(b b2) {
        return b2.k();
    }

    static /* synthetic */ Map g(b b2) {
        return b2.p;
    }

    static /* synthetic */ com.google.android.gms.common.a h(b b2) {
        return b2.r;
    }

    /*
     * Enabled aggressive block sorting
     * Enabled unnecessary exception pruning
     * Enabled aggressive exception aggregation
     */
    private final boolean h() {
        this.f.lock();
        try {
            if (this.n && this.k) {
                boolean bl2;
                a.d<?> d2;
                Iterator<a.d<?>> iterator = this.b.keySet().iterator();
                do {
                    if (iterator.hasNext()) continue;
                    this.f.unlock();
                    return true;
                } while ((d2 = this.a((T)iterator.next())) != null && (bl2 = d2.b()));
            }
            this.f.unlock();
            return false;
        }
        catch (Throwable throwable) {
            this.f.unlock();
            throw throwable;
        }
    }

    private final void i() {
        if (this.j == null) {
            this.e.c = Collections.emptySet();
            return;
        }
        HashSet<Scope> hashSet = new HashSet<Scope>(this.j.d());
        Map<com.google.android.gms.common.api.a<?>, bf> map = this.j.f();
        for (com.google.android.gms.common.api.a<?> a2 : map.keySet()) {
            com.google.android.gms.common.api.a<?> a3 = this.a((T)a2);
            if (a3 == null || !a3.b()) continue;
            hashSet.addAll(map.get(a2).a);
        }
        this.e.c = hashSet;
    }

    static /* synthetic */ void i(b b2) {
        b2.i();
    }

    private final void j() {
        while (!this.m.isEmpty()) {
            this.a(this.m.remove());
        }
        this.e.a((Bundle)null);
    }

    static /* synthetic */ void j(b b2) {
        b2.j();
    }

    private final com.google.android.gms.common.a k() {
        Iterator<dc<?>> iterator = this.a.values().iterator();
        Object object = null;
        Object object2 = null;
        int n2 = 0;
        int n3 = 0;
        while (iterator.hasNext()) {
            int n4;
            Object object3 = iterator.next();
            com.google.android.gms.common.api.a<?> a2 = object3.a();
            object3 = object3.b();
            if ((object3 = this.o.get(object3)).b() || this.c.get(a2).booleanValue() && !object3.a() && !this.h.a(object3.c())) continue;
            if (object3.c() == 4 && this.k) {
                n4 = a2.a().a();
                if (object2 != null && n3 <= n4) continue;
                object2 = object3;
                n3 = n4;
                continue;
            }
            n4 = a2.a().a();
            if (object != null && n2 <= n4) continue;
            object = object3;
            n2 = n4;
        }
        if (object != null && object2 != null && n2 > n3) {
            return object2;
        }
        return object;
    }

    static /* synthetic */ aa k(b b2) {
        return b2.e;
    }

    static /* synthetic */ Condition l(b b2) {
        return b2.i;
    }

    static /* synthetic */ Map m(b b2) {
        return b2.b;
    }

    public final com.google.android.gms.common.a a(com.google.android.gms.common.api.a<?> a2) {
        return this.a((T)a2.c());
    }

    @Override
    public final <A extends a.c, T extends cp<? extends k, A>> T a(T t2) {
        a.d d2 = t2.g();
        if (this.k && this.b(t2)) {
            return t2;
        }
        this.e.e.a((BasePendingResult<? extends k>)t2);
        return this.a.get(d2).a(t2);
    }

    /*
     * Enabled force condition propagation
     * Lifted jumps to return sites
     */
    @Override
    public final void a() {
        block5 : {
            this.f.lock();
            boolean bl2 = this.n;
            if (!bl2) break block5;
            do {
                return;
                break;
            } while (true);
        }
        try {
            this.n = true;
            this.o = null;
            this.p = null;
            this.q = null;
            this.r = null;
            this.d.d();
            this.d.a(this.a.values()).a((Executor)new xz(this.g), new d(this, null));
            return;
        }
        finally {
            this.f.unlock();
        }
    }

    @Override
    public final void a(String string2, FileDescriptor fileDescriptor, PrintWriter printWriter, String[] arrstring) {
    }

    @Override
    public final boolean a(bp bp2) {
        this.f.lock();
        try {
            if (this.n && !this.h()) {
                this.d.d();
                this.q = new com.google.android.gms.common.api.internal.e(this, bp2);
                this.d.a(this.b.values()).a((Executor)new xz(this.g), this.q);
                return true;
            }
            return false;
        }
        finally {
            this.f.unlock();
        }
    }

    /*
     * Loose catch block
     * Enabled aggressive block sorting
     * Enabled unnecessary exception pruning
     * Enabled aggressive exception aggregation
     * Lifted jumps to return sites
     */
    @Override
    public final com.google.android.gms.common.a b() {
        this.a();
        while (this.e()) {
            this.i.await();
        }
        if (this.d()) {
            return com.google.android.gms.common.a.a;
        }
        if (this.r == null) return new com.google.android.gms.common.a(13, null);
        return this.r;
        catch (InterruptedException interruptedException) {}
        Thread.currentThread().interrupt();
        return new com.google.android.gms.common.a(15, null);
    }

    @Override
    public final void c() {
        this.f.lock();
        try {
            this.n = false;
            this.o = null;
            this.p = null;
            if (this.q != null) {
                this.q.a();
                this.q = null;
            }
            this.r = null;
            while (!this.m.isEmpty()) {
                cp<?, ?> cp2 = this.m.remove();
                cp2.a((cf)null);
                cp2.a();
            }
            this.i.signalAll();
            return;
        }
        finally {
            this.f.unlock();
        }
    }

    @Override
    public final boolean d() {
        this.f.lock();
        try {
            com.google.android.gms.common.a a2;
            boolean bl2 = this.o != null && (a2 = this.r) == null;
            this.f.unlock();
            return bl2;
        }
        catch (Throwable throwable) {
            this.f.unlock();
            throw throwable;
        }
    }

    public final boolean e() {
        this.f.lock();
        try {
            boolean bl2;
            bl2 = this.o == null && (bl2 = this.n);
            this.f.unlock();
            return bl2;
        }
        catch (Throwable throwable) {
            this.f.unlock();
            throw throwable;
        }
    }

    @Override
    public final void f() {
        this.f.lock();
        try {
            this.d.e();
            if (this.q != null) {
                this.q.a();
                this.q = null;
            }
            if (this.p == null) {
                this.p = new android.support.v4.g.a(this.b.size());
            }
            com.google.android.gms.common.a a2 = new com.google.android.gms.common.a(4);
            for (dc<?> dc2 : this.b.values()) {
                this.p.put(dc2.b(), a2);
            }
            if (this.o != null) {
                this.o.putAll(this.p);
            }
            return;
        }
        finally {
            this.f.unlock();
        }
    }

    @Override
    public final void g() {
    }
}


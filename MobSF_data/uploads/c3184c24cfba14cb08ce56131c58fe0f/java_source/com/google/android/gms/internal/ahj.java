/*
 * Decompiled with CFR 0_132.
 * 
 * Could not load the following classes:
 *  android.content.Context
 *  android.os.Process
 */
package com.google.android.gms.internal;

import android.content.Context;
import android.os.Process;
import com.google.android.gms.ads.c.a;
import com.google.android.gms.common.util.f;
import com.google.android.gms.common.util.i;
import com.google.android.gms.internal.ahk;
import com.google.android.gms.internal.ahl;
import com.google.android.gms.internal.ahm;
import com.google.android.gms.internal.aiv;

public final class ahj {
    private static Object m = new Object();
    private static ahj n;
    private volatile long a = 900000L;
    private volatile long b = 30000L;
    private volatile boolean c = true;
    private volatile boolean d = false;
    private volatile a.a e;
    private volatile long f;
    private volatile long g;
    private final Context h;
    private final f i;
    private final Thread j;
    private final Object k = new Object();
    private ahm l = new ahk(this);

    private ahj(Context context) {
        this(context, null, i.d());
    }

    private ahj(Context context, ahm ahm2, f f2) {
        this.i = f2;
        ahm2 = context;
        if (context != null) {
            ahm2 = context.getApplicationContext();
        }
        this.h = ahm2;
        this.f = this.i.a();
        this.j = new Thread(new ahl(this));
    }

    static /* synthetic */ Context a(ahj ahj2) {
        return ahj2.h;
    }

    /*
     * Enabled aggressive block sorting
     * Enabled unnecessary exception pruning
     * Enabled aggressive exception aggregation
     */
    public static ahj a(Context object) {
        if (n != null) return n;
        Object object2 = m;
        synchronized (object2) {
            if (n != null) return n;
            object = new ahj((Context)object);
            n = object;
            object.j.start();
            return n;
        }
    }

    static /* synthetic */ boolean a(ahj ahj2, boolean bl2) {
        ahj2.c = false;
        return false;
    }

    static /* synthetic */ void b(ahj ahj2) {
        ahj2.f();
    }

    /*
     * Loose catch block
     * Enabled aggressive block sorting
     * Enabled unnecessary exception pruning
     * Enabled aggressive exception aggregation
     * Converted monitor instructions to comments
     * Lifted jumps to return sites
     */
    private final void c() {
        // MONITORENTER : this
        this.d();
        this.wait(500L);
        return;
        catch (InterruptedException interruptedException) {
            return;
        }
    }

    /*
     * Enabled aggressive block sorting
     * Enabled unnecessary exception pruning
     * Enabled aggressive exception aggregation
     */
    private final void d() {
        if (this.i.a() - this.f > this.b) {
            Object object = this.k;
            synchronized (object) {
                this.k.notify();
            }
            this.f = this.i.a();
            return;
        }
    }

    private final void e() {
        if (this.i.a() - this.g > 3600000L) {
            this.e = null;
        }
    }

    /*
     * Enabled aggressive block sorting
     * Enabled unnecessary exception pruning
     * Enabled aggressive exception aggregation
     * Converted monitor instructions to comments
     * Lifted jumps to return sites
     */
    private final void f() {
        Process.setThreadPriority((int)10);
        do {
            boolean bl2 = this.d;
            Object object = null;
            if (this.c && (object = this.l.a()) != null) {
                this.e = object;
                this.g = this.i.a();
                aiv.c("Obtained fresh AdvertisingId info from GmsCore.");
            }
            // MONITORENTER : this
            this.notifyAll();
            // MONITOREXIT : this
            try {
                object = this.k;
                // MONITORENTER : object
            }
            catch (InterruptedException interruptedException) {}
            this.k.wait(this.a);
            // MONITOREXIT : object
            continue;
            aiv.c("sleep interrupted in AdvertiserDataPoller thread; continuing");
        } while (true);
    }

    public final String a() {
        if (this.e == null) {
            this.c();
        } else {
            this.d();
        }
        this.e();
        if (this.e == null) {
            return null;
        }
        return this.e.a();
    }

    public final boolean b() {
        if (this.e == null) {
            this.c();
        } else {
            this.d();
        }
        this.e();
        if (this.e == null) {
            return true;
        }
        return this.e.b();
    }
}


/*
 * Decompiled with CFR 0_132.
 * 
 * Could not load the following classes:
 *  android.content.Context
 *  android.content.pm.PackageManager
 *  android.net.ConnectivityManager
 *  android.net.NetworkInfo
 */
package com.google.android.gms.internal;

import android.content.Context;
import android.content.pm.PackageManager;
import android.net.ConnectivityManager;
import android.net.NetworkInfo;
import com.google.android.gms.common.internal.ah;
import com.google.android.gms.common.util.n;
import com.google.android.gms.internal.aiv;
import com.google.android.gms.internal.aqs;
import com.google.android.gms.internal.aqv;
import com.google.android.gms.internal.are;
import com.google.android.gms.internal.arn;
import com.google.android.gms.internal.aro;
import com.google.android.gms.internal.arq;
import com.google.android.gms.internal.aru;
import java.io.ByteArrayOutputStream;
import java.io.FileNotFoundException;
import java.io.IOException;
import java.io.InputStream;
import java.io.OutputStream;

public final class arr
implements Runnable {
    private final Context a;
    private final aqv b;
    private final arq c;
    private final are d;
    private final arn e;

    public arr(Context context, are are2, aqv aqv2) {
        this(context, are2, aqv2, new arq(), new arn());
    }

    private arr(Context context, are are2, aqv aqv2, arq arq2, arn arn2) {
        this.a = ah.a(context);
        this.b = ah.a(aqv2);
        this.d = are2;
        this.c = arq2;
        this.e = arn2;
    }

    private final boolean a(String string2) {
        if (this.a.getPackageManager().checkPermission(string2, this.a.getPackageName()) == 0) {
            return true;
        }
        return false;
    }

    /*
     * Unable to fully structure code
     * Enabled aggressive exception aggregation
     */
    @Override
    public final void run() {
        if (!this.a("android.permission.INTERNET")) {
            var2_1 = "Missing android.permission.INTERNET. Please add the following declaration to your AndroidManifest.xml: <uses-permission android:name=\"android.permission.INTERNET\" />";
lbl3: // 2 sources:
            do {
                aiv.a((String)var2_1);
lbl5: // 2 sources:
                do {
                    var1_8 = false;
                    ** GOTO lbl17
                    break;
                } while (true);
                break;
            } while (true);
        } else {
            if (!this.a("android.permission.ACCESS_NETWORK_STATE")) {
                var2_1 = "Missing android.permission.ACCESS_NETWORK_STATE. Please add the following declaration to your AndroidManifest.xml: <uses-permission android:name=\"android.permission.ACCESS_NETWORK_STATE\" />";
                ** continue;
            }
            var2_1 = ((ConnectivityManager)this.a.getSystemService("connectivity")).getActiveNetworkInfo();
            if (var2_1 != null && var2_1.isConnected()) {
                var1_8 = true;
            } else {
                aiv.b("No network connectivity - Offline");
                ** continue;
            }
        }
lbl17: // 2 sources:
        if (!var1_8) {
            this.b.a(0, 0);
            return;
        }
        aiv.d("Starting to load resource from Network.");
        var4_9 = new aro();
        var3_10 = null;
        try {
            block22 : {
                var5_11 = this.e.a(this.d.a());
                var2_1 = String.valueOf(var5_11);
                var2_1 = var2_1.length() != 0 ? "Loading resource from ".concat((String)var2_1) : new String("Loading resource from ");
                aiv.d((String)var2_1);
                try {
                    var2_1 = var4_9.a(var5_11);
                    break block22;
                }
                catch (IOException var2_2) {
                    var3_10 = var2_2.getMessage();
                    var6_12 = new StringBuilder(String.valueOf(var5_11).length() + 54 + String.valueOf(var3_10).length());
                    var6_12.append("NetworkLoader: Error when loading resource from url: ");
                    var6_12.append(var5_11);
                    var6_12.append(" ");
                    var6_12.append((String)var3_10);
                    aiv.a(var6_12.toString(), var2_2);
                    this.b.a(1, 0);
                    var4_9.a();
                    return;
                }
lbl42: // 1 sources:
                var2_1 = String.valueOf(var5_11);
                var2_1 = var2_1.length() != 0 ? "NetworkLoader: Error when loading resource for url: ".concat((String)var2_1) : new String("NetworkLoader: Error when loading resource for url: ");
                aiv.a((String)var2_1);
                this.b.a(3, 0);
                var2_1 = var3_10;
            }
            try {
                var3_10 = new ByteArrayOutputStream();
                n.a((InputStream)var2_1, (OutputStream)var3_10, false);
                this.b.a(var3_10.toByteArray());
                return;
            }
            catch (IOException var2_4) {
                var3_10 = var2_4.getMessage();
                var6_13 = new StringBuilder(String.valueOf(var5_11).length() + 66 + String.valueOf(var3_10).length());
                var6_13.append("NetworkLoader: Error when parsing downloaded resources from url: ");
                var6_13.append(var5_11);
                var6_13.append(" ");
                var6_13.append((String)var3_10);
                aiv.a(var6_13.toString(), var2_4);
                this.b.a(2, 0);
                var4_9.a();
                return;
            }
lbl65: // 1 sources:
            do {
                var2_6 = String.valueOf(var5_11);
                var2_6 = var2_6.length() != 0 ? "NetworkLoader: No data was retrieved from the given url: ".concat(var2_6) : new String("NetworkLoader: No data was retrieved from the given url: ");
                aiv.a(var2_6);
                this.b.a(2, 0);
                return;
                break;
            } while (true);
            {
                catch (Throwable var2_7) {
                    throw var2_7;
                }
            }
        }
        finally {
            var4_9.a();
        }
        {
            catch (FileNotFoundException var2_5) {
                ** continue;
            }
            catch (aru var2_3) {
                ** GOTO lbl42
            }
        }
    }
}


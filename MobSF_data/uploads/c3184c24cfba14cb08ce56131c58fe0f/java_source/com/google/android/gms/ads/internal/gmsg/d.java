/*
 * Decompiled with CFR 0_132.
 * 
 * Could not load the following classes:
 *  android.app.ActivityManager
 *  android.app.ActivityManager$RunningAppProcessInfo
 *  android.content.Context
 *  android.content.Intent
 *  android.content.pm.ActivityInfo
 *  android.content.pm.PackageManager
 *  android.content.pm.ResolveInfo
 *  android.net.Uri
 *  android.net.Uri$Builder
 *  android.text.TextUtils
 *  android.view.View
 */
package com.google.android.gms.ads.internal.gmsg;

import android.app.ActivityManager;
import android.content.Context;
import android.content.Intent;
import android.content.pm.ActivityInfo;
import android.content.pm.PackageManager;
import android.content.pm.ResolveInfo;
import android.net.Uri;
import android.text.TextUtils;
import android.view.View;
import com.google.android.gms.ads.internal.av;
import com.google.android.gms.ads.internal.gmsg.c;
import com.google.android.gms.internal.agk;
import com.google.android.gms.internal.bqj;
import com.google.android.gms.internal.bsz;
import com.google.android.gms.internal.btk;
import com.google.android.gms.internal.hs;
import java.util.ArrayList;
import java.util.Collection;
import java.util.Iterator;
import java.util.List;
import java.util.Map;

public final class d {
    private final Context a;
    private final agk b;
    private final View c;

    public d(Context context, agk agk2, View view) {
        this.a = context;
        this.b = agk2;
        this.c = view;
    }

    private static Intent a(Intent intent, ResolveInfo resolveInfo) {
        intent = new Intent(intent);
        intent.setClassName(resolveInfo.activityInfo.packageName, resolveInfo.activityInfo.name);
        return intent;
    }

    private static Intent a(Uri uri) {
        if (uri == null) {
            return null;
        }
        Intent intent = new Intent("android.intent.action.VIEW");
        intent.addFlags(268435456);
        intent.setData(uri);
        intent.setAction("android.intent.action.VIEW");
        return intent;
    }

    private final ResolveInfo a(Intent intent) {
        return this.a(intent, new ArrayList<ResolveInfo>());
    }

    /*
     * Enabled aggressive block sorting
     * Enabled unnecessary exception pruning
     * Enabled aggressive exception aggregation
     */
    private final ResolveInfo a(Intent intent, ArrayList<ResolveInfo> arrayList) {
        List list;
        Intent intent2;
        block6 : {
            int n2;
            PackageManager packageManager;
            Intent intent3 = null;
            Object var5_5 = null;
            intent2 = intent3;
            try {
                packageManager = this.a.getPackageManager();
                if (packageManager == null) {
                    return null;
                }
                intent2 = intent3;
                list = packageManager.queryIntentActivities(intent, 65536);
                intent2 = intent3;
                packageManager = packageManager.resolveActivity(intent, 65536);
                intent = var5_5;
                if (list == null) break block6;
                intent = var5_5;
                if (packageManager == null) break block6;
                n2 = 0;
            }
            catch (Throwable throwable) {
                av.i().a(throwable, "OpenSystemBrowserHandler.getDefaultBrowserResolverForIntent");
                return intent2;
            }
            do {
                intent = var5_5;
                intent2 = intent3;
                if (n2 >= list.size()) break;
                intent2 = intent3;
                intent = (ResolveInfo)list.get(n2);
                if (packageManager != null) {
                    intent2 = intent3;
                    if (packageManager.activityInfo.name.equals(intent.activityInfo.name)) {
                        intent = packageManager;
                        break;
                    }
                }
                ++n2;
            } while (true);
        }
        intent2 = intent;
        arrayList.addAll(list);
        return intent;
    }

    /*
     * Unable to fully structure code
     * Enabled aggressive block sorting
     * Lifted jumps to return sites
     */
    public final Intent a(Map<String, String> var1_1) {
        block15 : {
            block14 : {
                block13 : {
                    var8_2 = (ActivityManager)this.a.getSystemService("activity");
                    var9_3 = (String)var1_1.get("u");
                    var5_4 = TextUtils.isEmpty((CharSequence)var9_3);
                    var7_5 = null;
                    if (var5_4) {
                        return null;
                    }
                    var9_3 = Uri.parse((String)c.a(this.a, this.b, var9_3, this.c, null));
                    var5_4 = Boolean.parseBoolean((String)var1_1.get("use_first_package"));
                    var6_6 = Boolean.parseBoolean((String)var1_1.get("use_running_process"));
                    if (Boolean.parseBoolean((String)var1_1.get("use_custom_tabs"))) ** GOTO lbl-1000
                    var1_1 = btk.cC;
                    if (!((Boolean)bqj.f().a(var1_1)).booleanValue()) {
                        var2_7 = 0;
                    } else lbl-1000: // 2 sources:
                    {
                        var2_7 = 1;
                    }
                    if (!"http".equalsIgnoreCase(var9_3.getScheme())) break block13;
                    var1_1 = var9_3.buildUpon();
                    var7_5 = "https";
                    break block14;
                }
                var1_1 = var7_5;
                if (!"https".equalsIgnoreCase(var9_3.getScheme())) break block15;
                var1_1 = var9_3.buildUpon();
                var7_5 = "http";
            }
            var1_1 = var1_1.scheme((String)var7_5).build();
        }
        var7_5 = new ArrayList<E>();
        var9_3 = d.a((Uri)var9_3);
        var1_1 = d.a((Uri)var1_1);
        if (var2_7 != 0) {
            av.e();
            hs.b(this.a, (Intent)var9_3);
            av.e();
            hs.b(this.a, (Intent)var1_1);
        }
        if ((var10_8 = this.a((Intent)var9_3, (ArrayList<ResolveInfo>)var7_5)) != null) {
            return d.a((Intent)var9_3, var10_8);
        }
        if (var1_1 != null && (var1_1 = this.a((Intent)var1_1)) != null && this.a((Intent)(var1_1 = d.a((Intent)var9_3, (ResolveInfo)var1_1))) != null) {
            return var1_1;
        }
        if (var7_5.size() == 0) {
            return var9_3;
        }
        if (var6_6 && var8_2 != null && (var1_1 = var8_2.getRunningAppProcesses()) != null) {
            var8_2 = (ArrayList)var7_5;
            var4_12 = var8_2.size();
            var2_7 = 0;
            block0 : while (var2_7 < var4_12) {
                var10_10 = var8_2.get(var2_7);
                var3_13 = var2_7 + 1;
                var10_11 = (ResolveInfo)var10_10;
                var11_14 = var1_1.iterator();
                do {
                    var2_7 = var3_13;
                    if (!var11_14.hasNext()) continue block0;
                } while (!((ActivityManager.RunningAppProcessInfo)var11_14.next()).processName.equals(var10_11.activityInfo.packageName));
                return d.a((Intent)var9_3, var10_11);
            }
        }
        if (var5_4 == false) return var9_3;
        return d.a((Intent)var9_3, (ResolveInfo)var7_5.get(0));
    }
}


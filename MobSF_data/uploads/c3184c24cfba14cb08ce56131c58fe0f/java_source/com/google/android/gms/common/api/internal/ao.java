/*
 * Decompiled with CFR 0_132.
 * 
 * Could not load the following classes:
 *  android.app.PendingIntent
 *  android.content.Context
 *  android.os.Bundle
 *  android.os.DeadObjectException
 *  android.os.Handler
 *  android.os.Looper
 *  android.os.Message
 *  android.os.RemoteException
 */
package com.google.android.gms.common.api.internal;

import android.app.PendingIntent;
import android.content.Context;
import android.os.Bundle;
import android.os.DeadObjectException;
import android.os.Handler;
import android.os.Looper;
import android.os.Message;
import android.os.RemoteException;
import com.google.android.gms.c.f;
import com.google.android.gms.common.api.Status;
import com.google.android.gms.common.api.a;
import com.google.android.gms.common.api.e;
import com.google.android.gms.common.api.f;
import com.google.android.gms.common.api.internal.a;
import com.google.android.gms.common.api.internal.am;
import com.google.android.gms.common.api.internal.ap;
import com.google.android.gms.common.api.internal.aq;
import com.google.android.gms.common.api.internal.ar;
import com.google.android.gms.common.api.internal.as;
import com.google.android.gms.common.api.internal.au;
import com.google.android.gms.common.api.internal.bi;
import com.google.android.gms.common.api.internal.bl;
import com.google.android.gms.common.api.internal.bm;
import com.google.android.gms.common.api.internal.bq;
import com.google.android.gms.common.api.internal.bt;
import com.google.android.gms.common.api.internal.ci;
import com.google.android.gms.common.api.internal.ck;
import com.google.android.gms.common.api.internal.cm;
import com.google.android.gms.common.api.internal.cx;
import com.google.android.gms.common.c;
import com.google.android.gms.common.internal.ah;
import com.google.android.gms.common.internal.av;
import com.google.android.gms.common.internal.bb;
import com.google.android.gms.internal.agr;
import java.util.Collection;
import java.util.HashMap;
import java.util.HashSet;
import java.util.Iterator;
import java.util.LinkedList;
import java.util.Map;
import java.util.Queue;
import java.util.Set;

public final class ao<O extends a.a>
implements f.b,
f.c,
cx {
    final /* synthetic */ am a;
    private final Queue<a> b = new LinkedList<a>();
    private final a.f c;
    private final a.c d;
    private final ck<O> e;
    private final com.google.android.gms.common.api.internal.f f;
    private final Set<cm> g = new HashSet<cm>();
    private final Map<bi<?>, bm> h = new HashMap();
    private final int i;
    private final bq j;
    private boolean k;
    private int l = -1;
    private com.google.android.gms.common.a m = null;

    /*
     * Enabled aggressive block sorting
     */
    public ao(e<O> e2) {
        void var3_4;
        this.a = var1_1;
        this.c = e2.a(am.a(var1_1).getLooper(), this);
        if (this.c instanceof com.google.android.gms.common.internal.am) {
            a.h h2 = com.google.android.gms.common.internal.am.e();
        } else {
            a.f f2 = this.c;
        }
        this.d = var3_4;
        this.e = e2.b();
        this.f = new com.google.android.gms.common.api.internal.f();
        this.i = e2.c();
        if (!this.c.i()) {
            this.j = null;
            return;
        }
        this.j = e2.a(am.c(var1_1), am.a(var1_1));
    }

    static /* synthetic */ void a(ao ao2) {
        ao2.o();
    }

    /*
     * Enabled aggressive block sorting
     * Enabled unnecessary exception pruning
     * Enabled aggressive exception aggregation
     */
    private final void b(a a2) {
        a2.a(this.f, this.k());
        try {
            a2.a(this);
            return;
        }
        catch (DeadObjectException deadObjectException) {}
        this.a(1);
        this.c.f();
    }

    static /* synthetic */ void b(ao ao2) {
        ao2.p();
    }

    static /* synthetic */ a.f c(ao ao2) {
        return ao2.c;
    }

    private final void c(com.google.android.gms.common.a a2) {
        for (cm cm2 : this.g) {
            String string2 = null;
            if (a2 == com.google.android.gms.common.a.a) {
                string2 = this.c.l();
            }
            cm2.a(this.e, a2, string2);
        }
        this.g.clear();
    }

    private final void n() {
        this.l = -1;
        am.a(this.a, -1);
    }

    /*
     * Loose catch block
     * Enabled aggressive block sorting
     * Enabled unnecessary exception pruning
     * Enabled aggressive exception aggregation
     * Lifted jumps to return sites
     */
    private final void o() {
        this.d();
        this.c(com.google.android.gms.common.a.a);
        this.q();
        for (bm bm2 : this.h.values()) {
            try {
                bm2.a.a(this.d, new f());
                continue;
            }
            catch (DeadObjectException deadObjectException) {}
            this.a(1);
            this.c.f();
            break;
            catch (RemoteException remoteException) {
            }
        }
        while (this.c.g() && !this.b.isEmpty()) {
            this.b(this.b.remove());
        }
        this.r();
    }

    private final void p() {
        this.d();
        this.k = true;
        this.f.c();
        am.a(this.a).sendMessageDelayed(Message.obtain((Handler)am.a(this.a), (int)9, this.e), am.d(this.a));
        am.a(this.a).sendMessageDelayed(Message.obtain((Handler)am.a(this.a), (int)11, this.e), am.e(this.a));
        this.n();
    }

    private final void q() {
        if (this.k) {
            am.a(this.a).removeMessages(11, this.e);
            am.a(this.a).removeMessages(9, this.e);
            this.k = false;
        }
    }

    private final void r() {
        am.a(this.a).removeMessages(12, this.e);
        am.a(this.a).sendMessageDelayed(am.a(this.a).obtainMessage(12, this.e), am.i(this.a));
    }

    public final void a() {
        ah.a(am.a(this.a));
        this.a(am.a);
        this.f.b();
        bi[] arrbi = this.h.keySet().toArray(new bi[this.h.size()]);
        int n2 = arrbi.length;
        for (int i2 = 0; i2 < n2; ++i2) {
            this.a(new ci(arrbi[i2], new f()));
        }
        this.c(new com.google.android.gms.common.a(4));
        if (this.c.g()) {
            this.c.a(new as(this));
        }
    }

    @Override
    public final void a(int n2) {
        if (Looper.myLooper() == am.a(this.a).getLooper()) {
            this.p();
            return;
        }
        am.a(this.a).post((Runnable)new aq(this));
    }

    @Override
    public final void a(Bundle bundle) {
        if (Looper.myLooper() == am.a(this.a).getLooper()) {
            this.o();
            return;
        }
        am.a(this.a).post((Runnable)new ap(this));
    }

    /*
     * Enabled aggressive block sorting
     * Enabled unnecessary exception pruning
     * Enabled aggressive exception aggregation
     * Converted monitor instructions to comments
     * Lifted jumps to return sites
     */
    @Override
    public final void a(com.google.android.gms.common.a object) {
        ah.a(am.a(this.a));
        if (this.j != null) {
            this.j.b();
        }
        this.d();
        this.n();
        this.c((com.google.android.gms.common.a)object);
        if (object.c() == 4) {
            this.a(am.f());
            return;
        }
        if (this.b.isEmpty()) {
            this.m = object;
            return;
        }
        Object object2 = am.g();
        // MONITORENTER : object2
        if (am.f(this.a) != null && am.g(this.a).contains(this.e)) {
            am.f(this.a).b((com.google.android.gms.common.a)object, this.i);
            // MONITOREXIT : object2
            return;
        }
        // MONITOREXIT : object2
        if (this.a.a((com.google.android.gms.common.a)object, this.i)) return;
        if (object.c() == 18) {
            this.k = true;
        }
        if (this.k) {
            am.a(this.a).sendMessageDelayed(Message.obtain((Handler)am.a(this.a), (int)9, this.e), am.d(this.a));
            return;
        }
        object = this.e.a();
        object2 = new StringBuilder(String.valueOf(object).length() + 38);
        object2.append("API: ");
        object2.append((String)object);
        object2.append(" is not available on this device.");
        this.a(new Status(17, object2.toString()));
    }

    @Override
    public final void a(com.google.android.gms.common.a a2, com.google.android.gms.common.api.a<?> a3, boolean bl2) {
        if (Looper.myLooper() == am.a(this.a).getLooper()) {
            this.a(a2);
            return;
        }
        am.a(this.a).post((Runnable)new ar(this, a2));
    }

    public final void a(Status status) {
        ah.a(am.a(this.a));
        Iterator<a> iterator = this.b.iterator();
        while (iterator.hasNext()) {
            iterator.next().a(status);
        }
        this.b.clear();
    }

    public final void a(a a2) {
        ah.a(am.a(this.a));
        if (this.c.g()) {
            this.b(a2);
            this.r();
            return;
        }
        this.b.add(a2);
        if (this.m != null && this.m.a()) {
            this.a(this.m);
            return;
        }
        this.i();
    }

    public final void a(cm cm2) {
        ah.a(am.a(this.a));
        this.g.add(cm2);
    }

    public final a.f b() {
        return this.c;
    }

    public final void b(com.google.android.gms.common.a a2) {
        ah.a(am.a(this.a));
        this.c.f();
        this.a(a2);
    }

    public final Map<bi<?>, bm> c() {
        return this.h;
    }

    public final void d() {
        ah.a(am.a(this.a));
        this.m = null;
    }

    public final com.google.android.gms.common.a e() {
        ah.a(am.a(this.a));
        return this.m;
    }

    public final void f() {
        ah.a(am.a(this.a));
        if (this.k) {
            this.i();
        }
    }

    public final void g() {
        ah.a(am.a(this.a));
        if (this.k) {
            this.q();
            Status status = am.h(this.a).a(am.c(this.a)) == 18 ? new Status(8, "Connection timed out while waiting for Google Play services update to complete.") : new Status(8, "API failed to connect while resuming due to an unknown error.");
            this.a(status);
            this.c.f();
        }
    }

    public final void h() {
        ah.a(am.a(this.a));
        if (this.c.g() && this.h.size() == 0) {
            if (this.f.a()) {
                this.r();
                return;
            }
            this.c.f();
        }
    }

    public final void i() {
        ah.a(am.a(this.a));
        if (!this.c.g()) {
            if (this.c.h()) {
                return;
            }
            if (this.c.j()) {
                this.c.m();
                if (am.b(this.a) != 0) {
                    am.h(this.a);
                    int n2 = c.b(am.c(this.a), this.c.m());
                    this.c.m();
                    am.a(this.a, n2);
                    if (n2 != 0) {
                        this.a(new com.google.android.gms.common.a(n2, null));
                        return;
                    }
                }
            }
            au au2 = new au(this.a, this.c, this.e);
            if (this.c.i()) {
                this.j.a(au2);
            }
            this.c.a(au2);
        }
    }

    final boolean j() {
        return this.c.g();
    }

    public final boolean k() {
        return this.c.i();
    }

    public final int l() {
        return this.i;
    }

    final agr m() {
        if (this.j == null) {
            return null;
        }
        return this.j.a();
    }
}


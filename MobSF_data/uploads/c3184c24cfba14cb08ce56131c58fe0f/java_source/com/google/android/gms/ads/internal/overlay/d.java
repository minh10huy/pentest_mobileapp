/*
 * Decompiled with CFR 0_132.
 * 
 * Could not load the following classes:
 *  android.app.Activity
 *  android.content.Context
 *  android.content.Intent
 *  android.content.pm.ApplicationInfo
 *  android.content.res.Configuration
 *  android.content.res.Resources
 *  android.graphics.Color
 *  android.os.Build
 *  android.os.Build$VERSION
 *  android.os.Bundle
 *  android.os.Handler
 *  android.view.View
 *  android.view.ViewGroup
 *  android.view.ViewGroup$LayoutParams
 *  android.view.ViewParent
 *  android.view.Window
 *  android.webkit.WebChromeClient
 *  android.webkit.WebChromeClient$CustomViewCallback
 *  android.widget.FrameLayout
 *  android.widget.RelativeLayout
 *  android.widget.RelativeLayout$LayoutParams
 */
package com.google.android.gms.ads.internal.overlay;

import android.app.Activity;
import android.content.Context;
import android.content.Intent;
import android.content.pm.ApplicationInfo;
import android.content.res.Configuration;
import android.content.res.Resources;
import android.graphics.Color;
import android.os.Build;
import android.os.Bundle;
import android.os.Handler;
import android.view.View;
import android.view.ViewGroup;
import android.view.ViewParent;
import android.view.Window;
import android.webkit.WebChromeClient;
import android.widget.FrameLayout;
import android.widget.RelativeLayout;
import com.google.android.gms.a.a;
import com.google.android.gms.a.m;
import com.google.android.gms.ads.internal.ao;
import com.google.android.gms.ads.internal.av;
import com.google.android.gms.ads.internal.br;
import com.google.android.gms.ads.internal.bs;
import com.google.android.gms.ads.internal.gmsg.ae;
import com.google.android.gms.ads.internal.overlay.AdOverlayInfoParcel;
import com.google.android.gms.ads.internal.overlay.e;
import com.google.android.gms.ads.internal.overlay.f;
import com.google.android.gms.ads.internal.overlay.g;
import com.google.android.gms.ads.internal.overlay.h;
import com.google.android.gms.ads.internal.overlay.i;
import com.google.android.gms.ads.internal.overlay.n;
import com.google.android.gms.ads.internal.overlay.o;
import com.google.android.gms.ads.internal.overlay.p;
import com.google.android.gms.ads.internal.overlay.t;
import com.google.android.gms.ads.internal.overlay.w;
import com.google.android.gms.ads.internal.q;
import com.google.android.gms.internal.agk;
import com.google.android.gms.internal.ak;
import com.google.android.gms.internal.boc;
import com.google.android.gms.internal.bpp;
import com.google.android.gms.internal.bqj;
import com.google.android.gms.internal.bsz;
import com.google.android.gms.internal.btk;
import com.google.android.gms.internal.btx;
import com.google.android.gms.internal.cdn;
import com.google.android.gms.internal.cdo;
import com.google.android.gms.internal.cdr;
import com.google.android.gms.internal.fx;
import com.google.android.gms.internal.he;
import com.google.android.gms.internal.hs;
import com.google.android.gms.internal.hy;
import com.google.android.gms.internal.km;
import com.google.android.gms.internal.nu;
import com.google.android.gms.internal.pk;
import com.google.android.gms.internal.pl;
import com.google.android.gms.internal.pr;
import java.util.Collections;
import java.util.Map;

@ak
public class d
extends cdr
implements w {
    private static int d = Color.argb((int)0, (int)0, (int)0, (int)0);
    protected final Activity a;
    AdOverlayInfoParcel b;
    int c = 0;
    private nu e;
    private i f;
    private o g;
    private boolean h = false;
    private FrameLayout i;
    private WebChromeClient.CustomViewCallback j;
    private boolean k = false;
    private boolean l = false;
    private h m;
    private boolean n = false;
    private final Object o = new Object();
    private Runnable p;
    private boolean q;
    private boolean r;
    private boolean s = false;
    private boolean t = false;
    private boolean u = true;

    public d(Activity activity) {
        this.a = activity;
    }

    static final /* synthetic */ void a(nu nu2, boolean bl2) {
        nu2.n();
    }

    private final void a(boolean bl2) {
        Object object = btk.cO;
        int n2 = bqj.f().a(object);
        object = new p();
        object.e = 50;
        int n3 = bl2 ? n2 : 0;
        object.a = n3;
        n3 = bl2 ? 0 : n2;
        object.b = n3;
        object.c = 0;
        object.d = n2;
        this.g = new o((Context)this.a, (p)object, this);
        object = new RelativeLayout.LayoutParams(-2, -2);
        object.addRule(10);
        n2 = bl2 ? 11 : 9;
        object.addRule(n2);
        this.a(bl2, this.b.g);
        this.m.addView((View)this.g, (ViewGroup.LayoutParams)object);
    }

    /*
     * Unable to fully structure code
     * Enabled aggressive block sorting
     * Enabled unnecessary exception pruning
     * Enabled aggressive exception aggregation
     * Lifted jumps to return sites
     */
    private final void b(boolean var1_1) {
        block25 : {
            block27 : {
                block28 : {
                    block26 : {
                        if (!this.r) {
                            this.a.requestWindowFeature(1);
                        }
                        if ((var6_2 = this.a.getWindow()) == null) throw new g("Invalid activity, no window available.");
                        if (!com.google.android.gms.common.util.p.h()) ** GOTO lbl-1000
                        var5_3 = btk.cM;
                        if (bqj.f().a(var5_3).booleanValue()) {
                            av.e();
                            var3_24 = hs.a(this.a, this.a.getResources().getConfiguration());
                        } else lbl-1000: // 2 sources:
                        {
                            var3_24 = true;
                        }
                        var5_4 = this.b.o;
                        var4_25 = false;
                        var2_26 = var5_4 != null && this.b.o.b != false ? 1 : 0;
                        if ((!this.l || var2_26 != 0) && var3_24) {
                            var6_2.setFlags(1024, 1024);
                            var5_5 = btk.aJ;
                            if (bqj.f().a(var5_5).booleanValue() && com.google.android.gms.common.util.p.e() && this.b.o != null && this.b.o.f) {
                                var6_2.getDecorView().setSystemUiVisibility(4098);
                            }
                        }
                        var5_7 = this.b.d;
                        var8_27 = null;
                        if (var5_7 != null) {
                            var5_8 = this.b.d.u();
                        } else {
                            var5_9 = null;
                        }
                        var3_24 = var5_10 != null ? var5_10.b() : false;
                        this.n = false;
                        if (!var3_24) break block25;
                        if (this.b.j != av.g().a()) break block26;
                        if (this.a.getResources().getConfiguration().orientation != 1) break block27;
                        break block28;
                    }
                    if (this.b.j != av.g().b()) break block25;
                    if (this.a.getResources().getConfiguration().orientation != 2) break block27;
                }
                var4_25 = true;
            }
            this.n = var4_25;
        }
        var4_25 = this.n;
        var5_11 = new StringBuilder(46);
        var5_11.append("Delay onShow to next orientation change: ");
        var5_11.append(var4_25);
        he.b(var5_11.toString());
        this.a(this.b.j);
        if (av.g().a((Window)var6_2)) {
            he.b("Hardware acceleration on the AdActivity window enabled.");
        }
        if (!this.l) {
            var5_12 = this.m;
            var2_26 = -16777216;
        } else {
            var5_14 = this.m;
            var2_26 = d.d;
        }
        var5_13.setBackgroundColor(var2_26);
        this.a.setContentView((View)this.m);
        this.r = true;
        if (var1_1) {
            try {
                var9_28 = av.f();
                var10_29 = this.a;
                if (this.b.d != null) {
                    var5_15 = this.b.d.s();
                } else {
                    var5_23 = null;
                }
                var6_2 = this.b.d != null ? this.b.d.t() : null;
                var11_30 = this.b.m;
                var7_31 = this.b.d != null ? this.b.d.e() : null;
                this.e = var9_28.a((Context)var10_29, (pr)var5_16, (String)var6_2, true, var3_24, null, var11_30, null, null, (br)var7_31, boc.a());
                var6_2 = this.e.u();
                var7_31 = this.b.e;
                var9_28 = this.b.i;
                var5_17 = var8_27;
                if (this.b.d != null) {
                    var5_18 = this.b.d.u().a();
                }
                var6_2.a(null, null, (com.google.android.gms.ads.internal.gmsg.i)var7_31, (t)var9_28, true, null, (bs)var5_19, null, null);
                this.e.u().a(e.a);
                if (this.b.l != null) {
                    this.e.loadUrl(this.b.l);
                } else {
                    if (this.b.h == null) throw new g("No URL or HTML to display in ad overlay.");
                    this.e.loadDataWithBaseURL(this.b.f, this.b.h, "text/html", "UTF-8", null);
                }
                if (this.b.d == null) ** GOTO lbl89
                this.b.d.b(this);
            }
            catch (Exception var5_20) {
                he.b("Error obtaining webview.", var5_20);
                throw new g("Could not obtain webview for the overlay.");
            }
        } else {
            this.e = this.b.d;
            this.e.setContext((Context)this.a);
        }
lbl89: // 3 sources:
        this.e.a(this);
        var5_22 = this.e.getParent();
        if (var5_22 != null && var5_22 instanceof ViewGroup) {
            ((ViewGroup)var5_22).removeView(this.e.getView());
        }
        if (this.l) {
            this.e.G();
        }
        this.m.addView(this.e.getView(), -1, -1);
        if (!var1_1 && !this.n) {
            this.s();
        }
        this.a(var3_24);
        if (this.e.v() == false) return;
        this.a(var3_24, true);
    }

    /*
     * Enabled aggressive block sorting
     * Enabled unnecessary exception pruning
     * Enabled aggressive exception aggregation
     */
    private final void r() {
        if (this.a.isFinishing()) {
            if (this.s) {
                return;
            }
            this.s = true;
            if (this.e != null) {
                int n2 = this.c;
                this.e.a(n2);
                Object object = this.o;
                synchronized (object) {
                    if (!this.q && this.e.C()) {
                        this.p = new f(this);
                        Handler handler = hs.a;
                        Runnable runnable = this.p;
                        bsz<Long> bsz2 = btk.aI;
                        handler.postDelayed(runnable, bqj.f().a(bsz2).longValue());
                        return;
                    }
                }
            }
            this.n();
        }
    }

    private final void s() {
        this.e.n();
    }

    public final void a() {
        this.c = 2;
        this.a.finish();
    }

    public final void a(int n2) {
        int n3 = this.a.getApplicationInfo().targetSdkVersion;
        bsz<Integer> bsz2 = btk.cZ;
        if (n3 >= bqj.f().a(bsz2)) {
            n3 = this.a.getApplicationInfo().targetSdkVersion;
            bsz2 = btk.da;
            if (n3 <= bqj.f().a(bsz2)) {
                n3 = Build.VERSION.SDK_INT;
                bsz2 = btk.db;
                if (n3 >= bqj.f().a(bsz2)) {
                    n3 = Build.VERSION.SDK_INT;
                    bsz2 = btk.dc;
                    if (n3 <= bqj.f().a(bsz2)) {
                        return;
                    }
                }
            }
        }
        this.a.setRequestedOrientation(n2);
    }

    @Override
    public final void a(int n2, int n3, Intent intent) {
    }

    /*
     * Exception decompiling
     */
    @Override
    public void a(Bundle var1_1) {
        // This method has failed to decompile.  When submitting a bug report, please provide this stack trace, and (if you hold appropriate legal rights) the relevant class file.
        // org.benf.cfr.reader.util.ConfusedCFRException: First case is not immediately after switch.
        // org.benf.cfr.reader.bytecode.analysis.opgraph.op3rewriters.SwitchReplacer.examineSwitchContiguity(SwitchReplacer.java:366)
        // org.benf.cfr.reader.bytecode.analysis.opgraph.op3rewriters.SwitchReplacer.replaceRawSwitches(SwitchReplacer.java:65)
        // org.benf.cfr.reader.bytecode.CodeAnalyser.getAnalysisInner(CodeAnalyser.java:416)
        // org.benf.cfr.reader.bytecode.CodeAnalyser.getAnalysisOrWrapFail(CodeAnalyser.java:196)
        // org.benf.cfr.reader.bytecode.CodeAnalyser.getAnalysis(CodeAnalyser.java:141)
        // org.benf.cfr.reader.entities.attributes.AttributeCode.analyse(AttributeCode.java:95)
        // org.benf.cfr.reader.entities.Method.analyse(Method.java:372)
        // org.benf.cfr.reader.entities.ClassFile.analyseMid(ClassFile.java:867)
        // org.benf.cfr.reader.entities.ClassFile.analyseTop(ClassFile.java:768)
        // org.benf.cfr.reader.Main.doJar(Main.java:141)
        // org.benf.cfr.reader.Main.main(Main.java:242)
        throw new IllegalStateException("Decompilation failed");
    }

    public final void a(View view, WebChromeClient.CustomViewCallback customViewCallback) {
        this.i = new FrameLayout((Context)this.a);
        this.i.setBackgroundColor(-16777216);
        this.i.addView(view, -1, -1);
        this.a.setContentView((View)this.i);
        this.r = true;
        this.j = customViewCallback;
        this.h = true;
    }

    @Override
    public final void a(a a2) {
        bsz<Boolean> bsz2 = btk.cM;
        if (bqj.f().a(bsz2).booleanValue() && com.google.android.gms.common.util.p.h()) {
            a2 = (Configuration)m.a(a2);
            av.e();
            if (hs.a(this.a, (Configuration)a2)) {
                this.a.getWindow().addFlags(1024);
                this.a.getWindow().clearFlags(2048);
                return;
            }
            this.a.getWindow().addFlags(2048);
            this.a.getWindow().clearFlags(1024);
        }
    }

    public final void a(boolean bl2, boolean bl3) {
        Object object = btk.aK;
        boolean bl4 = bqj.f().a(object);
        boolean bl5 = true;
        boolean bl6 = bl4 && this.b != null && this.b.o != null && this.b.o.g;
        if (bl2 && bl3 && bl6) {
            new cdn(this.e, "useCustomClose").a("Custom close has been disabled for interstitial ads in this ad slot.");
        }
        if (this.g != null) {
            object = this.g;
            bl3 = bl3 && !bl6 ? bl5 : false;
            object.a(bl2, bl3);
        }
    }

    public final void b() {
        if (this.b != null && this.h) {
            this.a(this.b.j);
        }
        if (this.i != null) {
            this.a.setContentView((View)this.m);
            this.r = true;
            this.i.removeAllViews();
            this.i = null;
        }
        if (this.j != null) {
            this.j.onCustomViewHidden();
            this.j = null;
        }
        this.h = false;
    }

    @Override
    public final void b(Bundle bundle) {
        bundle.putBoolean("com.google.android.gms.ads.internal.overlay.hasResumed", this.k);
    }

    @Override
    public final void c() {
        this.c = 1;
        this.a.finish();
    }

    @Override
    public final void d() {
        this.c = 0;
    }

    @Override
    public final boolean e() {
        this.c = 0;
        if (this.e == null) {
            return true;
        }
        boolean bl2 = this.e.A();
        if (!bl2) {
            this.e.a("onbackblocked", Collections.emptyMap());
        }
        return bl2;
    }

    @Override
    public final void f() {
    }

    @Override
    public final void g() {
        bsz<Boolean> bsz2 = btk.cN;
        if (bqj.f().a(bsz2).booleanValue()) {
            if (this.e != null && !this.e.y()) {
                av.g();
                hy.b(this.e);
                return;
            }
            he.e("The webview does not exist. Ignoring action.");
        }
    }

    @Override
    public final void h() {
        if (this.b.c != null) {
            this.b.c.f();
        }
        bsz<Boolean> bsz2 = btk.cN;
        if (!bqj.f().a(bsz2).booleanValue()) {
            if (this.e != null && !this.e.y()) {
                av.g();
                hy.b(this.e);
                return;
            }
            he.e("The webview does not exist. Ignoring action.");
        }
    }

    @Override
    public final void i() {
        this.b();
        if (this.b.c != null) {
            this.b.c.d();
        }
        bsz<Boolean> bsz2 = btk.cN;
        if (!(bqj.f().a(bsz2).booleanValue() || this.e == null || this.a.isFinishing() && this.f != null)) {
            av.g();
            hy.a(this.e);
        }
        this.r();
    }

    @Override
    public final void j() {
        bsz<Boolean> bsz2 = btk.cN;
        if (bqj.f().a(bsz2).booleanValue() && this.e != null && (!this.a.isFinishing() || this.f == null)) {
            av.g();
            hy.a(this.e);
        }
        this.r();
    }

    @Override
    public final void k() {
        if (this.e != null) {
            this.m.removeView(this.e.getView());
        }
        this.r();
    }

    @Override
    public final void l() {
        this.r = true;
    }

    public final void m() {
        this.m.removeView((View)this.g);
        this.a(true);
    }

    final void n() {
        if (this.t) {
            return;
        }
        this.t = true;
        if (this.e != null) {
            this.m.removeView(this.e.getView());
            if (this.f != null) {
                this.e.setContext(this.f.d);
                this.e.b(false);
                this.f.c.addView(this.e.getView(), this.f.a, this.f.b);
                this.f = null;
            } else if (this.a.getApplicationContext() != null) {
                this.e.setContext(this.a.getApplicationContext());
            }
            this.e = null;
        }
        if (this.b != null && this.b.c != null) {
            this.b.c.q_();
        }
    }

    public final void o() {
        if (this.n) {
            this.n = false;
            this.s();
        }
    }

    public final void p() {
        this.m.a = true;
    }

    /*
     * Enabled aggressive block sorting
     * Enabled unnecessary exception pruning
     * Enabled aggressive exception aggregation
     */
    public final void q() {
        Object object = this.o;
        synchronized (object) {
            this.q = true;
            if (this.p != null) {
                hs.a.removeCallbacks(this.p);
                hs.a.post(this.p);
            }
            return;
        }
    }
}


/*
 * Decompiled with CFR 0_132.
 * 
 * Could not load the following classes:
 *  android.app.PendingIntent
 *  android.content.ComponentName
 *  android.content.Context
 *  android.content.Intent
 *  android.content.res.Resources
 *  android.graphics.Bitmap
 *  android.graphics.Bitmap$Config
 *  android.media.AudioManager
 *  android.media.AudioManager$OnAudioFocusChangeListener
 *  android.net.Uri
 *  android.os.Parcelable
 *  android.text.TextUtils
 */
package com.google.android.gms.internal;

import android.app.PendingIntent;
import android.content.ComponentName;
import android.content.Context;
import android.content.Intent;
import android.content.res.Resources;
import android.graphics.Bitmap;
import android.media.AudioManager;
import android.net.Uri;
import android.os.Parcelable;
import android.support.v4.media.MediaMetadataCompat;
import android.support.v4.media.session.MediaControllerCompat;
import android.support.v4.media.session.MediaSessionCompat;
import android.support.v4.media.session.PlaybackStateCompat;
import android.text.TextUtils;
import com.google.android.gms.a;
import com.google.android.gms.cast.CastDevice;
import com.google.android.gms.cast.MediaInfo;
import com.google.android.gms.cast.framework.ReconnectionService;
import com.google.android.gms.cast.framework.b;
import com.google.android.gms.cast.framework.media.MediaNotificationService;
import com.google.android.gms.cast.framework.media.c;
import com.google.android.gms.cast.framework.media.d;
import com.google.android.gms.cast.framework.media.e;
import com.google.android.gms.cast.h;
import com.google.android.gms.cast.i;
import com.google.android.gms.cast.j;
import com.google.android.gms.common.util.p;
import com.google.android.gms.internal.um;
import com.google.android.gms.internal.un;
import com.google.android.gms.internal.uo;
import com.google.android.gms.internal.va;
import com.google.android.gms.internal.vb;
import com.google.android.gms.internal.vc;
import com.google.android.gms.internal.wz;
import java.util.List;

public final class uz
implements e.a {
    private final Context a;
    private final b b;
    private final um c;
    private final ComponentName d;
    private final un e;
    private final un f;
    private e g;
    private CastDevice h;
    private MediaSessionCompat i;
    private MediaSessionCompat.a j;
    private boolean k;

    public uz(Context object, b b2, um um2) {
        this.a = object;
        this.b = b2;
        this.c = um2;
        object = this.b.f() != null && !TextUtils.isEmpty((CharSequence)this.b.f().c()) ? new ComponentName(this.a, this.b.f().c()) : null;
        this.d = object;
        this.e = new un(this.a);
        this.e.a(new va(this));
        this.f = new un(this.a);
        this.f.a(new vb(this));
    }

    private final Uri a(h wz2, int n2) {
        wz2 = this.b.f().d() != null ? this.b.f().d().a((h)wz2, n2) : (wz2.e() ? wz2.d().get(0) : null);
        if (wz2 == null) {
            return null;
        }
        return wz2.a();
    }

    static /* synthetic */ e a(uz uz2) {
        return uz2.g;
    }

    private final void a(int n2, MediaInfo object) {
        Object object2;
        if (n2 == 0) {
            this.i.a(new PlaybackStateCompat.a().a(0, 0L, 1.0f).a());
            this.i.a(new MediaMetadataCompat.a().a());
            return;
        }
        long l2 = object.b() == 2 ? 5L : 512L;
        this.i.a(new PlaybackStateCompat.a().a(n2, 0L, 1.0f).a(l2).a());
        MediaSessionCompat mediaSessionCompat = this.i;
        if (this.d == null) {
            object2 = null;
        } else {
            object2 = new Intent();
            object2.setComponent(this.d);
            object2 = PendingIntent.getActivity((Context)this.a, (int)0, (Intent)object2, (int)134217728);
        }
        mediaSessionCompat.a((PendingIntent)object2);
        object2 = object.d();
        object = this.g().a("android.media.metadata.TITLE", object2.a("com.google.android.gms.cast.metadata.TITLE")).a("android.media.metadata.DISPLAY_TITLE", object2.a("com.google.android.gms.cast.metadata.TITLE")).a("android.media.metadata.DISPLAY_SUBTITLE", object2.a("com.google.android.gms.cast.metadata.SUBTITLE")).a("android.media.metadata.DURATION", object.e());
        this.i.a(object.a());
        object = this.a((h)object2, 0);
        if (object != null) {
            this.e.a((Uri)object);
        } else {
            this.a((Bitmap)null, 0);
        }
        object = this.a((h)object2, 3);
        if (object != null) {
            this.f.a((Uri)object);
            return;
        }
        this.a((Bitmap)null, 3);
    }

    /*
     * Enabled aggressive block sorting
     */
    private final void a(Bitmap bitmap, int n2) {
        if (n2 == 0) {
            if (bitmap == null) {
                bitmap = Bitmap.createBitmap((int)1, (int)1, (Bitmap.Config)Bitmap.Config.ARGB_8888);
                bitmap.eraseColor(0);
            }
            this.i.a(this.g().a("android.media.metadata.DISPLAY_ICON", bitmap).a());
            return;
        }
        if (n2 == 3) {
            this.i.a(this.g().a("android.media.metadata.ALBUM_ART", bitmap).a());
        }
    }

    static /* synthetic */ void a(uz uz2, Bitmap bitmap, int n2) {
        uz2.a(bitmap, n2);
    }

    private final MediaMetadataCompat.a g() {
        MediaMetadataCompat mediaMetadataCompat = this.i.d().a();
        if (mediaMetadataCompat == null) {
            return new MediaMetadataCompat.a();
        }
        return new MediaMetadataCompat.a(mediaMetadataCompat);
    }

    private final void h() {
        if (this.b.f().b() == null) {
            return;
        }
        Intent intent = new Intent(this.a, MediaNotificationService.class);
        intent.setPackage(this.a.getPackageName());
        intent.setAction("com.google.android.gms.cast.framework.action.UPDATE_NOTIFICATION");
        this.a.stopService(intent);
    }

    private final void i() {
        if (!this.b.g()) {
            return;
        }
        Intent intent = new Intent(this.a, ReconnectionService.class);
        intent.setPackage(this.a.getPackageName());
        this.a.stopService(intent);
    }

    @Override
    public final void a() {
        this.a(false);
    }

    public final void a(int n2) {
        if (!this.k) {
            return;
        }
        this.k = false;
        if (this.g != null) {
            this.g.b(this);
        }
        if (!p.g()) {
            ((AudioManager)this.a.getSystemService("audio")).abandonAudioFocus(null);
        }
        this.c.a((MediaSessionCompat)null);
        if (this.e != null) {
            this.e.a();
        }
        if (this.f != null) {
            this.f.a();
        }
        if (this.i != null) {
            this.i.a((PendingIntent)null);
            this.i.a((MediaSessionCompat.a)null);
            this.i.a(new MediaMetadataCompat.a().a());
            this.a(0, null);
            this.i.a(false);
            this.i.b();
            this.i = null;
        }
        this.g = null;
        this.h = null;
        this.j = null;
        this.h();
        if (n2 == 0) {
            this.i();
        }
    }

    public final void a(e e2, CastDevice castDevice) {
        if (!this.k && this.b != null && this.b.f() != null && e2 != null) {
            if (castDevice == null) {
                return;
            }
            this.g = e2;
            this.g.a(this);
            this.h = castDevice;
            if (!p.g()) {
                ((AudioManager)this.a.getSystemService("audio")).requestAudioFocus(null, 3, 3);
            }
            e2 = new ComponentName(this.a, this.b.f().a());
            castDevice = new Intent("android.intent.action.MEDIA_BUTTON");
            castDevice.setComponent((ComponentName)e2);
            castDevice = PendingIntent.getBroadcast((Context)this.a, (int)0, (Intent)castDevice, (int)0);
            this.i = new MediaSessionCompat(this.a, "CastMediaSession", (ComponentName)e2, (PendingIntent)castDevice);
            this.i.a(3);
            this.a(0, null);
            if (this.h != null && !TextUtils.isEmpty((CharSequence)this.h.a())) {
                this.i.a(new MediaMetadataCompat.a().a("android.media.metadata.ALBUM_ARTIST", this.a.getResources().getString(a.c.cast_casting_to_device, new Object[]{this.h.a()})).a());
            }
            this.j = new vc(this);
            this.i.a(this.j);
            this.i.a(true);
            this.c.a(this.i);
            this.k = true;
            this.a(false);
        }
    }

    /*
     * Unable to fully structure code
     * Enabled aggressive block sorting
     * Lifted jumps to return sites
     */
    public final void a(boolean var1_1) {
        block16 : {
            block17 : {
                block19 : {
                    block20 : {
                        block18 : {
                            block13 : {
                                block15 : {
                                    block12 : {
                                        block14 : {
                                            if (this.g == null) {
                                                return;
                                            }
                                            var11_2 = this.g.g();
                                            var10_3 = null;
                                            var8_4 = var11_2 == null ? null : var11_2.e();
                                            var9_5 = var8_4 == null ? null : var8_4.d();
                                            var5_6 = 6;
                                            var7_7 = true;
                                            if (var11_2 == null || var8_4 == null || var9_5 == null) break block12;
                                            switch (this.g.i()) {
                                                default: {
                                                    ** break;
                                                }
                                                case 4: {
                                                    var2_8 = 0;
                                                    var3_9 = var5_6;
                                                    break block13;
                                                }
                                                case 3: {
                                                    var2_8 = 0;
                                                    break;
                                                }
                                                case 2: {
                                                    var2_8 = 0;
                                                    var3_9 = 3;
                                                    break block13;
                                                }
                                                case 1: {
                                                    var2_8 = var11_2.c();
                                                    var3_9 = this.g.k() != false && var2_8 == 2 ? 1 : 0;
                                                    var4_10 = var11_2.k();
                                                    var2_8 = var4_10 != 0 && (var2_8 == 1 || var2_8 == 3) ? 1 : 0;
                                                    if (var3_9 == 0) break block14;
                                                }
                                            }
                                            var3_9 = 2;
                                            break block13;
                                        }
                                        var9_5 = var11_2.a(var4_10);
                                        var4_10 = var2_8;
                                        if (var9_5 == null) break block15;
                                        var8_4 = var9_5.a();
                                        var3_9 = var5_6;
                                        break block13;
                                    }
                                    var4_10 = 0;
                                }
                                var3_9 = 0;
                                var2_8 = var4_10;
                            }
                            this.a(var3_9, (MediaInfo)var8_4);
                            if (var3_9 == 0) {
                                this.h();
                                this.i();
                                return;
                            }
                            if (this.b.f().b() == null || this.g == null) break block16;
                            var9_5 = new Intent(this.a, MediaNotificationService.class);
                            var9_5.putExtra("extra_media_notification_force_update", var1_1);
                            var9_5.setPackage(this.a.getPackageName());
                            var9_5.setAction("com.google.android.gms.cast.framework.action.UPDATE_NOTIFICATION");
                            var9_5.putExtra("extra_media_info", (Parcelable)this.g.h());
                            var9_5.putExtra("extra_remote_media_client_player_state", this.g.i());
                            var9_5.putExtra("extra_cast_device", (Parcelable)this.h);
                            var8_4 = this.i == null ? var10_3 : this.i.c();
                            var9_5.putExtra("extra_media_session_token", (Parcelable)var8_4);
                            var8_4 = this.g.g();
                            if (var8_4 == null) break block17;
                            switch (var8_4.m()) {
                                default: {
                                    var10_3 = var8_4.c(var8_4.j());
                                    if (var10_3 != null) {
                                        var1_1 = var10_3 > 0;
                                    }
                                    break block18;
                                }
                                case 1: 
                                case 2: 
                                case 3: {
                                    var1_1 = true;
                                    break block19;
                                }
                            }
                            var6_11 = var1_1;
                            if (var10_3 >= var8_4.n() - 1) break block20;
                            break block19;
                        }
                        var6_11 = false;
                    }
                    var7_7 = false;
                    var1_1 = var6_11;
                }
                var9_5.putExtra("extra_can_skip_next", var7_7);
                var9_5.putExtra("extra_can_skip_prev", var1_1);
            }
            this.a.startService((Intent)var9_5);
        }
        if (var2_8 != 0) return;
        if (this.b.g() == false) return;
        var8_4 = new Intent(this.a, ReconnectionService.class);
        var8_4.setPackage(this.a.getPackageName());
        this.a.startService((Intent)var8_4);
    }

    @Override
    public final void b() {
        this.a(false);
    }

    @Override
    public final void c() {
        this.a(false);
    }

    @Override
    public final void d() {
        this.a(false);
    }

    @Override
    public final void e() {
    }

    @Override
    public final void f() {
        this.a(false);
    }
}


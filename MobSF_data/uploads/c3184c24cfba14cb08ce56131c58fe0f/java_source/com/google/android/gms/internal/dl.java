/*
 * Decompiled with CFR 0_132.
 * 
 * Could not load the following classes:
 *  android.content.Context
 *  android.content.SharedPreferences
 *  android.content.SharedPreferences$Editor
 *  org.json.JSONException
 *  org.json.JSONObject
 */
package com.google.android.gms.internal;

import android.content.Context;
import android.content.SharedPreferences;
import com.google.android.gms.ads.internal.av;
import com.google.android.gms.internal.ak;
import com.google.android.gms.internal.bqj;
import com.google.android.gms.internal.bsz;
import com.google.android.gms.internal.btk;
import com.google.android.gms.internal.cad;
import com.google.android.gms.internal.dm;
import com.google.android.gms.internal.dn;
import com.google.android.gms.internal.he;
import com.google.android.gms.internal.km;
import com.google.android.gms.internal.ku;
import com.google.android.gms.internal.lf;
import com.google.android.gms.internal.lk;
import java.util.concurrent.Executor;
import org.json.JSONException;
import org.json.JSONObject;

@ak
public final class dl
extends dn {
    private final Object a = new Object();
    private final Context b;
    private SharedPreferences c;
    private final cad<JSONObject, JSONObject> d;

    public dl(Context context, cad<JSONObject, JSONObject> cad2) {
        this.b = context.getApplicationContext();
        this.d = cad2;
    }

    /*
     * Enabled aggressive block sorting
     * Enabled unnecessary exception pruning
     * Enabled aggressive exception aggregation
     */
    @Override
    public final lf<Void> a() {
        JSONObject jSONObject = this.a;
        synchronized (jSONObject) {
            if (this.c == null) {
                this.c = this.b.getSharedPreferences("google_ads_flags_meta", 0);
            }
        }
        long l2 = this.c.getLong("js_last_update", 0L);
        long l3 = av.l().a();
        jSONObject = btk.bN;
        if (l3 - l2 < bqj.f().a(jSONObject)) {
            return ku.a(null);
        }
        jSONObject = new JSONObject();
        try {
            jSONObject.put("js", (Object)km.a().a);
            bsz<Boolean> bsz2 = btk.bO;
            jSONObject.put("mf", (Object)bqj.f().a(bsz2));
            jSONObject.put("cl", (Object)"190237664");
            jSONObject.put("rapid_rc", (Object)"dev");
            jSONObject.put("rapid_rollup", (Object)"HEAD");
        }
        catch (JSONException jSONException) {
            he.b("Unable to populate SDK Core Constants parameters.", (Throwable)jSONException);
            return ku.a(null);
        }
        return ku.a(this.d.b(jSONObject), new dm(this), lk.b);
    }

    final /* synthetic */ Void a(JSONObject jSONObject) {
        btk.a(this.b, 1, jSONObject);
        this.c.edit().putLong("js_last_update", av.l().a()).apply();
        return null;
    }
}


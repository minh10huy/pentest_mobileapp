/*
 * Decompiled with CFR 0_132.
 * 
 * Could not load the following classes:
 *  android.os.Handler
 *  android.os.Looper
 *  org.json.JSONObject
 */
package com.google.android.gms.cast.framework.media;

import android.os.Handler;
import android.os.Looper;
import com.google.android.gms.cast.CastDevice;
import com.google.android.gms.cast.MediaInfo;
import com.google.android.gms.cast.e;
import com.google.android.gms.cast.framework.media.j;
import com.google.android.gms.cast.framework.media.k;
import com.google.android.gms.cast.framework.media.l;
import com.google.android.gms.cast.framework.media.m;
import com.google.android.gms.cast.framework.media.w;
import com.google.android.gms.cast.framework.media.x;
import com.google.android.gms.cast.framework.media.y;
import com.google.android.gms.cast.framework.media.z;
import com.google.android.gms.common.api.Status;
import com.google.android.gms.common.api.a;
import com.google.android.gms.common.api.internal.BasePendingResult;
import com.google.android.gms.common.api.internal.cp;
import com.google.android.gms.common.internal.ah;
import com.google.android.gms.internal.vh;
import com.google.android.gms.internal.vp;
import com.google.android.gms.internal.wj;
import com.google.android.gms.internal.wk;
import com.google.android.gms.internal.wm;
import com.google.android.gms.internal.wn;
import java.io.IOException;
import java.util.Collection;
import java.util.HashSet;
import java.util.Iterator;
import java.util.List;
import java.util.Map;
import java.util.Set;
import java.util.concurrent.ConcurrentHashMap;
import java.util.concurrent.CopyOnWriteArrayList;
import org.json.JSONObject;

public class e
implements e.e {
    public static final String a = wj.d;
    private final Object b = new Object();
    private final Handler c = new Handler(Looper.getMainLooper());
    private final wj d;
    private final e e = new e();
    private final e.b f;
    private com.google.android.gms.common.api.f g;
    private final List<a> h = new CopyOnWriteArrayList<a>();
    private final Map<d, i> i = new ConcurrentHashMap<d, i>();
    private final Map<Long, i> j = new ConcurrentHashMap<Long, i>();
    private c k;

    public e(wj wj2, e.b b2) {
        this.f = b2;
        this.d = ah.a(wj2);
        this.d.a(new w(this));
        this.d.a(this.e);
    }

    /*
     * Enabled aggressive block sorting
     * Enabled unnecessary exception pruning
     * Enabled aggressive exception aggregation
     */
    private final f a(f f2) {
        try {
            try {
                this.g.a(f2);
                return f2;
            }
            catch (IllegalStateException illegalStateException) {}
            f2.a((b)f2.a(new Status(2100)));
        }
        finally {
            return f2;
        }
    }

    static /* synthetic */ void a(e e2) {
        e2.w();
    }

    private final void a(Set<d> object) {
        if (!this.n()) {
            if (this.m()) {
                return;
            }
            Object object2 = new HashSet<d>((Collection<d>)object);
            if (this.l()) {
                object = object2.iterator();
                while (object.hasNext()) {
                    object.next().a(this.e(), this.f());
                }
                return;
            }
            if (this.o()) {
                object = this.p();
                if (object != null && object.a() != null) {
                    object2 = object2.iterator();
                    while (object2.hasNext()) {
                        ((d)object2.next()).a(0L, object.a().e());
                    }
                }
                return;
            }
            object = object2.iterator();
            while (object.hasNext()) {
                object.next().a(0L, 0L);
            }
        }
    }

    static /* synthetic */ c c(e e2) {
        return e2.k;
    }

    static /* synthetic */ Object d(e e2) {
        return e2.b;
    }

    static /* synthetic */ wj e(e e2) {
        return e2.d;
    }

    private final boolean u() {
        if (this.g != null) {
            return true;
        }
        return false;
    }

    private static com.google.android.gms.common.api.g<b> v() {
        h h2 = new h();
        h2.a(h2.b(new Status(17)));
        return h2;
    }

    private final void w() {
        for (i i2 : this.j.values()) {
            if (this.r() && !i2.c()) {
                i2.a();
            } else if (!this.r() && i2.c()) {
                i2.b();
            }
            if (!i2.c() || !this.n() && !this.m() && !this.o()) continue;
            this.a(i2.b);
        }
    }

    public com.google.android.gms.common.api.g<b> a(long l2) {
        return this.a(l2, 0, null);
    }

    public com.google.android.gms.common.api.g<b> a(long l2, int n2, JSONObject jSONObject) {
        ah.b("Must be called from the main thread.");
        if (!this.u()) {
            return e.v();
        }
        return this.a(new com.google.android.gms.cast.framework.media.i(this, this.g, l2, n2, jSONObject));
    }

    public com.google.android.gms.common.api.g<b> a(JSONObject jSONObject) {
        ah.b("Must be called from the main thread.");
        if (!this.u()) {
            return e.v();
        }
        return this.a(new com.google.android.gms.cast.framework.media.g(this, this.g, jSONObject));
    }

    public final void a() {
        if (this.g != null) {
            this.f.a(this.g, this.t(), this);
        }
    }

    @Override
    public void a(CastDevice castDevice, String string2, String string3) {
        this.d.b(string3);
    }

    public void a(a a2) {
        ah.b("Must be called from the main thread.");
        if (a2 != null) {
            this.h.add(a2);
        }
    }

    /*
     * Enabled aggressive block sorting
     * Enabled unnecessary exception pruning
     * Enabled aggressive exception aggregation
     */
    public final void a(com.google.android.gms.common.api.f f2) {
        if (this.g == f2) {
            return;
        }
        if (this.g != null) {
            this.d.a();
            try {
                this.f.b(this.g, this.t());
            }
            catch (IOException iOException) {}
            this.e.a(null);
            this.c.removeCallbacksAndMessages(null);
        }
        this.g = f2;
        if (this.g != null) {
            this.e.a(this.g);
        }
    }

    public com.google.android.gms.common.api.g<b> b() {
        return this.a((JSONObject)null);
    }

    public com.google.android.gms.common.api.g<b> b(JSONObject jSONObject) {
        ah.b("Must be called from the main thread.");
        if (!this.u()) {
            return e.v();
        }
        return this.a(new com.google.android.gms.cast.framework.media.h(this, this.g, jSONObject));
    }

    public void b(a a2) {
        ah.b("Must be called from the main thread.");
        if (a2 != null) {
            this.h.remove(a2);
        }
    }

    public com.google.android.gms.common.api.g<b> c() {
        return this.b((JSONObject)null);
    }

    public com.google.android.gms.common.api.g<b> c(JSONObject jSONObject) {
        ah.b("Must be called from the main thread.");
        if (!this.u()) {
            return e.v();
        }
        return this.a(new y(this, this.g, jSONObject));
    }

    public com.google.android.gms.common.api.g<b> d() {
        ah.b("Must be called from the main thread.");
        if (!this.u()) {
            return e.v();
        }
        return this.a(new x(this, this.g));
    }

    public com.google.android.gms.common.api.g<b> d(JSONObject jSONObject) {
        ah.b("Must be called from the main thread.");
        if (!this.u()) {
            return e.v();
        }
        return this.a(new z(this, this.g, jSONObject));
    }

    /*
     * Enabled aggressive block sorting
     * Enabled unnecessary exception pruning
     * Enabled aggressive exception aggregation
     */
    public long e() {
        Object object = this.b;
        synchronized (object) {
            ah.b("Must be called from the main thread.");
            return this.d.d();
        }
    }

    /*
     * Enabled aggressive block sorting
     * Enabled unnecessary exception pruning
     * Enabled aggressive exception aggregation
     */
    public long f() {
        Object object = this.b;
        synchronized (object) {
            ah.b("Must be called from the main thread.");
            return this.d.e();
        }
    }

    /*
     * Enabled aggressive block sorting
     * Enabled unnecessary exception pruning
     * Enabled aggressive exception aggregation
     */
    public com.google.android.gms.cast.j g() {
        Object object = this.b;
        synchronized (object) {
            ah.b("Must be called from the main thread.");
            return this.d.f();
        }
    }

    /*
     * Enabled aggressive block sorting
     * Enabled unnecessary exception pruning
     * Enabled aggressive exception aggregation
     */
    public MediaInfo h() {
        Object object = this.b;
        synchronized (object) {
            ah.b("Must be called from the main thread.");
            return this.d.g();
        }
    }

    /*
     * Enabled aggressive block sorting
     * Enabled unnecessary exception pruning
     * Enabled aggressive exception aggregation
     */
    public int i() {
        Object object = this.b;
        synchronized (object) {
            ah.b("Must be called from the main thread.");
            com.google.android.gms.cast.j j2 = this.g();
            if (j2 == null) return 1;
            return j2.b();
        }
    }

    /*
     * Enabled aggressive block sorting
     * Enabled unnecessary exception pruning
     * Enabled aggressive exception aggregation
     */
    public int j() {
        Object object = this.b;
        synchronized (object) {
            ah.b("Must be called from the main thread.");
            com.google.android.gms.cast.j j2 = this.g();
            if (j2 == null) return 0;
            return j2.c();
        }
    }

    public boolean k() {
        ah.b("Must be called from the main thread.");
        MediaInfo mediaInfo = this.h();
        if (mediaInfo != null && mediaInfo.b() == 2) {
            return true;
        }
        return false;
    }

    public boolean l() {
        ah.b("Must be called from the main thread.");
        com.google.android.gms.cast.j j2 = this.g();
        if (j2 != null && j2.b() == 2) {
            return true;
        }
        return false;
    }

    public boolean m() {
        ah.b("Must be called from the main thread.");
        com.google.android.gms.cast.j j2 = this.g();
        if (j2 != null && (j2.b() == 3 || this.k() && this.j() == 2)) {
            return true;
        }
        return false;
    }

    public boolean n() {
        ah.b("Must be called from the main thread.");
        com.google.android.gms.cast.j j2 = this.g();
        if (j2 != null && j2.b() == 4) {
            return true;
        }
        return false;
    }

    public boolean o() {
        ah.b("Must be called from the main thread.");
        com.google.android.gms.cast.j j2 = this.g();
        if (j2 != null && j2.k() != 0) {
            return true;
        }
        return false;
    }

    public com.google.android.gms.cast.i p() {
        ah.b("Must be called from the main thread.");
        com.google.android.gms.cast.j j2 = this.g();
        if (j2 == null) {
            return null;
        }
        return j2.a(j2.k());
    }

    public void q() {
        ah.b("Must be called from the main thread.");
        int n2 = this.i();
        if (n2 != 4 && n2 != 2) {
            this.c();
            return;
        }
        this.b();
    }

    public boolean r() {
        ah.b("Must be called from the main thread.");
        if (!(this.n() || this.l() || this.m() || this.o())) {
            return false;
        }
        return true;
    }

    public boolean s() {
        ah.b("Must be called from the main thread.");
        com.google.android.gms.cast.j j2 = this.g();
        if (j2 != null && j2.o()) {
            return true;
        }
        return false;
    }

    public String t() {
        ah.b("Must be called from the main thread.");
        return this.d.b();
    }

    public static interface a {
        public void a();

        public void b();

        public void c();

        public void d();

        public void e();

        public void f();
    }

    public static interface b
    extends com.google.android.gms.common.api.k {
    }

    public static interface c {
        public boolean a(com.google.android.gms.cast.j var1);

        public List<com.google.android.gms.cast.b> b(com.google.android.gms.cast.j var1);
    }

    public static interface d {
        public void a(long var1, long var3);
    }

    final class e
    implements wm {
        private com.google.android.gms.common.api.f b;
        private long c = 0L;

        @Override
        public final long a() {
            long l2;
            this.c = l2 = this.c + 1L;
            return l2;
        }

        public final void a(com.google.android.gms.common.api.f f2) {
            this.b = f2;
        }

        @Override
        public final void a(String string2, String string3, long l2, String string4) {
            if (this.b != null) {
                e.this.f.a(this.b, string2, string3).a(new j(this, l2));
                return;
            }
            throw new IllegalStateException("No GoogleApiClient available");
        }
    }

    abstract class f
    extends vh<b> {
        wn a;
        private final boolean c;
        private /* synthetic */ e d;

        f(e e2, com.google.android.gms.common.api.f f2) {
            this(e2, f2, false);
        }

        f(e e2, com.google.android.gms.common.api.f f2, boolean bl2) {
            this.d = e2;
            super(f2);
            this.c = bl2;
            this.a = new k(this, e2);
        }

        @Override
        public final /* synthetic */ com.google.android.gms.common.api.k a(Status status) {
            return new l(this, status);
        }

        @Override
        protected final /* synthetic */ void a(a.c c2) {
            c2 = (vp)c2;
            if (!this.c) {
                Iterator iterator = this.d.h.iterator();
                while (iterator.hasNext()) {
                    ((a)iterator.next()).e();
                }
            }
            this.a((vp)c2);
        }

        @Override
        abstract void a(vp var1);
    }

    static final class g
    implements b {
        private final Status a;
        private final JSONObject b;

        g(Status status, JSONObject jSONObject) {
            this.a = status;
            this.b = jSONObject;
        }

        @Override
        public final Status k_() {
            return this.a;
        }
    }

    static final class h
    extends BasePendingResult<b> {
        h() {
            super(null);
        }

        @Override
        protected final /* synthetic */ com.google.android.gms.common.api.k a(Status status) {
            return this.b(status);
        }

        protected final b b(Status status) {
            return new m(this, status);
        }
    }

    final class i {
        final /* synthetic */ e a;
        private final Set<d> b;
        private final long c;
        private final Runnable d;
        private boolean e;

        public final void a() {
            this.a.c.removeCallbacks(this.d);
            this.e = true;
            this.a.c.postDelayed(this.d, this.c);
        }

        public final void b() {
            this.a.c.removeCallbacks(this.d);
            this.e = false;
        }

        public final boolean c() {
            return this.e;
        }
    }

}


/*
 * Decompiled with CFR 0_132.
 * 
 * Could not load the following classes:
 *  android.content.Context
 *  android.text.TextUtils
 *  org.json.JSONObject
 */
package com.google.android.gms.ads.internal;

import android.content.Context;
import android.text.TextUtils;
import com.google.android.gms.ads.internal.av;
import com.google.android.gms.ads.internal.e;
import com.google.android.gms.internal.ak;
import com.google.android.gms.internal.bqj;
import com.google.android.gms.internal.bsz;
import com.google.android.gms.internal.btk;
import com.google.android.gms.internal.cad;
import com.google.android.gms.internal.caf;
import com.google.android.gms.internal.cah;
import com.google.android.gms.internal.cai;
import com.google.android.gms.internal.caj;
import com.google.android.gms.internal.cam;
import com.google.android.gms.internal.gp;
import com.google.android.gms.internal.he;
import com.google.android.gms.internal.km;
import com.google.android.gms.internal.kp;
import com.google.android.gms.internal.ks;
import com.google.android.gms.internal.ku;
import com.google.android.gms.internal.lf;
import com.google.android.gms.internal.lk;
import java.util.concurrent.Executor;
import org.json.JSONObject;

@ak
public final class d {
    private final Object a = new Object();
    private Context b;
    private long c = 0L;

    public final void a(Context context, km km2, String string2, Runnable runnable) {
        this.a(context, km2, true, null, string2, null, runnable);
    }

    /*
     * Enabled aggressive block sorting
     * Enabled unnecessary exception pruning
     * Enabled aggressive exception aggregation
     */
    final void a(Context object, km lf2, boolean bl2, gp object2, String string2, String string3, Runnable runnable) {
        boolean bl3;
        if (av.l().b() - this.c < 5000L) {
            he.e("Not retrying to fetch app settings");
            return;
        }
        this.c = av.l().b();
        boolean bl4 = true;
        if (object2 == null) {
            bl3 = bl4;
        } else {
            long l2 = object2.a();
            long l3 = av.l().a();
            bsz<Long> bsz2 = btk.cj;
            boolean bl5 = l3 - l2 > bqj.f().a(bsz2);
            bl3 = bl4;
            if (!bl5) {
                if (object2.b()) {
                    return;
                }
                bl3 = bl4;
            }
        }
        if (!bl3) {
            return;
        }
        if (object == null) {
            he.e("Context not provided to fetch application settings");
            return;
        }
        if (TextUtils.isEmpty((CharSequence)string2) && TextUtils.isEmpty((CharSequence)string3)) {
            he.e("App settings could not be fetched. Required parameters missing");
            return;
        }
        object2 = object.getApplicationContext();
        if (object2 == null) {
            object2 = object;
        }
        this.b = object2;
        lf2 = av.s().a(this.b, (km)((Object)lf2)).a("google.afma.config.fetchAppSettings", caj.a, caj.a);
        try {
            object2 = new JSONObject();
            if (!TextUtils.isEmpty((CharSequence)string2)) {
                object2.put("app_id", (Object)string2);
            } else if (!TextUtils.isEmpty((CharSequence)string3)) {
                object2.put("ad_unit_id", (Object)string3);
            }
            object2.put("is_init", bl2);
            object2.put("pn", (Object)object.getPackageName());
            object = lf2.b(object2);
            lf2 = ku.a(object, e.a, lk.b);
            if (runnable != null) {
                object.a(runnable, lk.b);
            }
            ks.a(lf2, "ConfigLoader.maybeFetchNewAppSettings");
            return;
        }
        catch (Exception exception) {
            he.b("Error requesting application settings", exception);
            return;
        }
    }
}


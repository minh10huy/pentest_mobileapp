/*
 * Decompiled with CFR 0_132.
 * 
 * Could not load the following classes:
 *  android.net.Uri
 */
package com.google.android.gms.internal;

import android.net.Uri;
import com.google.android.gms.internal.aiv;
import java.io.UnsupportedEncodingException;
import java.net.URLDecoder;

public class ajd {
    private static ajd a;
    private volatile int b = a.a;
    private volatile String c = null;
    private volatile String d = null;

    ajd() {
    }

    /*
     * Enabled aggressive block sorting
     * Enabled unnecessary exception pruning
     * Enabled aggressive exception aggregation
     */
    public static ajd a() {
        synchronized (ajd.class) {
            if (a != null) return a;
            a = new ajd();
            return a;
        }
    }

    public final boolean a(String string2) {
        if (this.b() && this.c.equals(string2)) {
            return true;
        }
        return false;
    }

    /*
     * Loose catch block
     * Enabled aggressive block sorting
     * Enabled unnecessary exception pruning
     * Enabled aggressive exception aggregation
     * Converted monitor instructions to comments
     * Lifted jumps to return sites
     */
    public final boolean a(String string2, Uri object) {
        String string3;
        block10 : {
            // MONITORENTER : this
            string3 = URLDecoder.decode(object.toString(), "UTF-8");
            if (string3.matches("^tagmanager.c.\\S+:\\/\\/preview\\/p\\S+")) break block10;
            string2 = String.valueOf(string3);
            string2 = string2.length() != 0 ? "Bad preview url: ".concat(string2) : new String("Bad preview url: ");
            aiv.b(string2);
            // MONITOREXIT : this
            return false;
        }
        String string6 = object.getQueryParameter("id");
        String string4 = object.getQueryParameter("gtm_auth");
        String string5 = object.getQueryParameter("gtm_preview");
        if (!string2.equals(string6)) {
            aiv.b("Preview fails (container doesn't match the container specified by the asset)");
            // MONITOREXIT : this
            return false;
        }
        if (string6 != null && string6.length() > 0) {
            if (string5 != null && string5.length() == 0) {
                if (string6.equals(this.c) && this.b != a.a) {
                    string2 = String.valueOf(this.c);
                    string2 = string2.length() != 0 ? "Exit preview mode for container: ".concat(string2) : new String("Exit preview mode for container: ");
                    aiv.d(string2);
                    this.b = a.a;
                    this.c = null;
                    this.d = null;
                    return true;
                }
                aiv.b("Error in exiting preview mode. The container is not in preview.");
                // MONITOREXIT : this
                return false;
            }
            if (string5 != null && string5.length() > 0 && string4 != null && string4.length() > 0) {
                this.b = a.b;
                this.d = object.getQuery();
                this.c = string6;
                // MONITOREXIT : this
                return true;
            }
            string2 = String.valueOf(string3);
            string2 = string2.length() != 0 ? "Bad preview url: ".concat(string2) : new String("Bad preview url: ");
            aiv.b(string2);
            // MONITOREXIT : this
            return false;
        }
        string2 = String.valueOf(string3);
        string2 = string2.length() != 0 ? "Bad preview url: ".concat(string2) : new String("Bad preview url: ");
        aiv.b(string2);
        // MONITOREXIT : this
        return false;
        catch (UnsupportedEncodingException unsupportedEncodingException) {
            String string7 = String.valueOf(unsupportedEncodingException);
            object = new StringBuilder(String.valueOf(string7).length() + 32);
            object.append("Error decoding the preview url: ");
            object.append(string7);
            aiv.b(object.toString());
            // MONITOREXIT : this
            return false;
        }
    }

    public final boolean b() {
        if (this.b == a.b) {
            return true;
        }
        return false;
    }

    public final String c() {
        return this.d;
    }

    public final String d() {
        return this.c;
    }

    static final class a {
        public static final /* enum */ int a = 1;
        public static final /* enum */ int b = 2;
        private static final /* synthetic */ int[] c;

        static {
            c = new int[]{1, 2};
        }
    }

}


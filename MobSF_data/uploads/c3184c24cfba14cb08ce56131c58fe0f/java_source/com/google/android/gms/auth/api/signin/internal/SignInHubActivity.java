/*
 * Decompiled with CFR 0_132.
 * 
 * Could not load the following classes:
 *  android.content.ActivityNotFoundException
 *  android.content.Context
 *  android.content.Intent
 *  android.os.Bundle
 *  android.os.Parcelable
 *  android.util.Log
 *  android.view.accessibility.AccessibilityEvent
 */
package com.google.android.gms.auth.api.signin.internal;

import android.content.ActivityNotFoundException;
import android.content.Context;
import android.content.Intent;
import android.os.Bundle;
import android.os.Parcelable;
import android.support.v4.app.k;
import android.support.v4.app.y;
import android.support.v4.content.c;
import android.util.Log;
import android.view.accessibility.AccessibilityEvent;
import com.google.android.gms.auth.api.signin.GoogleSignInAccount;
import com.google.android.gms.auth.api.signin.GoogleSignInOptions;
import com.google.android.gms.auth.api.signin.SignInAccount;
import com.google.android.gms.auth.api.signin.internal.SignInConfiguration;
import com.google.android.gms.auth.api.signin.internal.d;
import com.google.android.gms.auth.api.signin.internal.m;
import com.google.android.gms.auth.api.signin.internal.w;
import com.google.android.gms.common.annotation.KeepName;
import com.google.android.gms.common.api.Status;
import com.google.android.gms.common.api.f;
import com.google.android.gms.internal.wz;
import java.util.Set;

@KeepName
public class SignInHubActivity
extends k {
    private static boolean n = false;
    private boolean o = false;
    private SignInConfiguration p;
    private boolean q;
    private int r;
    private Intent s;

    private final void c(int n2) {
        Status status = new Status(n2);
        Intent intent = new Intent();
        intent.putExtra("googleSignInStatus", (Parcelable)status);
        this.setResult(0, intent);
        this.finish();
        n = false;
    }

    private final void i() {
        this.h().a(0, null, new a(this, null));
        n = false;
    }

    public boolean dispatchPopulateAccessibilityEvent(AccessibilityEvent accessibilityEvent) {
        return true;
    }

    @Override
    protected void onActivityResult(int n2, int n3, Intent intent) {
        if (this.o) {
            return;
        }
        this.setResult(0);
        if (n2 != 40962) {
            return;
        }
        if (intent != null) {
            wz wz2 = (SignInAccount)intent.getParcelableExtra("signInAccount");
            if (wz2 != null && wz2.a() != null) {
                wz2 = wz2.a();
                m.a((Context)this).a(this.p.a(), (GoogleSignInAccount)wz2);
                intent.removeExtra("signInAccount");
                intent.putExtra("googleSignInAccount", (Parcelable)wz2);
                this.q = true;
                this.r = n3;
                this.s = intent;
                this.i();
                return;
            }
            if (intent.hasExtra("errorCode")) {
                this.c(intent.getIntExtra("errorCode", 8));
                return;
            }
        }
        this.c(8);
    }

    /*
     * Enabled aggressive block sorting
     * Enabled unnecessary exception pruning
     * Enabled aggressive exception aggregation
     * Lifted jumps to return sites
     */
    @Override
    protected void onCreate(Bundle object) {
        super.onCreate((Bundle)object);
        Intent intent = this.getIntent();
        String string2 = intent.getAction();
        if ("com.google.android.gms.auth.NO_IMPL".equals(string2)) {
            this.c(12500);
            return;
        }
        if (n) {
            this.setResult(0);
            this.c(12502);
            return;
        }
        n = true;
        if (!string2.equals("com.google.android.gms.auth.GOOGLE_SIGN_IN") && !string2.equals("com.google.android.gms.auth.APPAUTH_SIGN_IN")) {
            object = String.valueOf(intent.getAction());
            object = object.length() != 0 ? "Unknown action: ".concat((String)object) : new String("Unknown action: ");
            Log.e((String)"AuthSignInClient", (String)object);
            this.finish();
            return;
        }
        this.p = (SignInConfiguration)intent.getBundleExtra("config").getParcelable("config");
        if (this.p == null) {
            Log.e((String)"AuthSignInClient", (String)"Activity started with invalid configuration.");
            this.setResult(0);
            this.finish();
            return;
        }
        if (object != null) {
            this.q = object.getBoolean("signingInGoogleApiClients");
            if (!this.q) return;
            this.r = object.getInt("signInResultCode");
            this.s = (Intent)object.getParcelable("signInResultData");
            this.i();
            return;
        }
        intent = new Intent(string2);
        object = string2.equals("com.google.android.gms.auth.GOOGLE_SIGN_IN") ? "com.google.android.gms" : this.getPackageName();
        intent.setPackage((String)object);
        intent.putExtra("config", (Parcelable)this.p);
        try {
            this.startActivityForResult(intent, 40962);
            return;
        }
        catch (ActivityNotFoundException activityNotFoundException) {}
        this.o = true;
        Log.w((String)"AuthSignInClient", (String)"Could not launch sign in Intent. Google Play Service is probably being updated...");
        this.c(17);
    }

    @Override
    protected void onSaveInstanceState(Bundle bundle) {
        super.onSaveInstanceState(bundle);
        bundle.putBoolean("signingInGoogleApiClients", this.q);
        if (this.q) {
            bundle.putInt("signInResultCode", this.r);
            bundle.putParcelable("signInResultData", (Parcelable)this.s);
        }
    }

    final class a
    implements y.a<Void> {
        private /* synthetic */ SignInHubActivity a;

        private a(SignInHubActivity signInHubActivity) {
            this.a = signInHubActivity;
        }

        /* synthetic */ a(SignInHubActivity signInHubActivity, w w2) {
            this(signInHubActivity);
        }

        @Override
        public final c<Void> a(int n2, Bundle bundle) {
            return new d((Context)this.a, f.a());
        }

        @Override
        public final void a(c<Void> c2) {
        }

        @Override
        public final /* synthetic */ void a(c c2, Object object) {
            this.a.setResult(this.a.r, this.a.s);
            this.a.finish();
        }
    }

}


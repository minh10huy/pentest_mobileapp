/*
 * Decompiled with CFR 0_132.
 * 
 * Could not load the following classes:
 *  android.content.Context
 *  android.os.Bundle
 *  android.os.RemoteException
 */
package com.google.android.gms.cast.framework;

import android.content.Context;
import android.os.Bundle;
import android.os.RemoteException;
import com.google.android.gms.cast.CastDevice;
import com.google.android.gms.cast.e;
import com.google.android.gms.cast.framework.media.e;
import com.google.android.gms.cast.framework.p;
import com.google.android.gms.cast.framework.s;
import com.google.android.gms.cast.framework.v;
import com.google.android.gms.cast.g;
import com.google.android.gms.common.api.Status;
import com.google.android.gms.common.api.a;
import com.google.android.gms.common.api.f;
import com.google.android.gms.common.api.k;
import com.google.android.gms.common.api.l;
import com.google.android.gms.common.internal.ah;
import com.google.android.gms.common.util.i;
import com.google.android.gms.internal.uc;
import com.google.android.gms.internal.ue;
import com.google.android.gms.internal.uz;
import com.google.android.gms.internal.wi;
import com.google.android.gms.internal.wj;
import java.io.IOException;
import java.util.Collection;
import java.util.HashSet;
import java.util.Iterator;
import java.util.Set;

public class c
extends com.google.android.gms.cast.framework.g {
    private static final wi a = new wi("CastSession");
    private final Context b;
    private final Set<e.d> c = new HashSet<e.d>();
    private final v d;
    private final com.google.android.gms.cast.framework.b e;
    private final e.b f;
    private final ue g;
    private final uz h;
    private f i;
    private e j;
    private CastDevice k;
    private e.a l;

    public c(Context context, String string2, String string3, com.google.android.gms.cast.framework.b b2, e.b b3, ue ue2, uz uz2) {
        super(context, string2, string3);
        this.b = context.getApplicationContext();
        this.e = b2;
        this.f = b3;
        this.g = ue2;
        this.h = uz2;
        this.d = uc.a(context, b2, this.g(), new b(this, null));
    }

    private final void d(int n2) {
        this.h.a(n2);
        if (this.i != null) {
            this.i.g();
            this.i = null;
        }
        this.k = null;
        if (this.j != null) {
            this.j.a((f)null);
            this.j = null;
        }
        this.l = null;
    }

    private final void e(Bundle object) {
        this.k = CastDevice.b((Bundle)object);
        if (this.k == null) {
            if (this.f()) {
                this.c(8);
                return;
            }
            this.a(8);
            return;
        }
        if (this.i != null) {
            this.i.g();
            this.i = null;
        }
        object = a;
        boolean bl2 = true;
        object.a("Acquiring a connection to Google Play Services for %s", this.k);
        object = new d(this, null);
        Context context = this.b;
        CastDevice castDevice = this.k;
        com.google.android.gms.cast.framework.b b2 = this.e;
        c c2 = new c(this, null);
        Bundle bundle = new Bundle();
        if (b2 == null || b2.f() == null || b2.f().b() == null) {
            bl2 = false;
        }
        bundle.putBoolean("com.google.android.gms.cast.EXTRA_CAST_FRAMEWORK_NOTIFICATION_ENABLED", bl2);
        this.i = new f.a(context).a(com.google.android.gms.cast.e.a, new e.c.a(castDevice, c2).a(bundle).a()).a((f.b)object).a((f.c)object).b();
        this.i.e();
    }

    public e a() {
        ah.b("Must be called from the main thread.");
        return this.j;
    }

    @Override
    protected void a(Bundle bundle) {
        this.k = CastDevice.b(bundle);
    }

    @Override
    protected void a(boolean bl2) {
        try {
            this.d.a(bl2, 0);
        }
        catch (RemoteException remoteException) {
            a.a((Throwable)remoteException, "Unable to call %s on %s.", "disconnectFromDevice", v.class.getSimpleName());
        }
        this.b(0);
    }

    public CastDevice b() {
        ah.b("Must be called from the main thread.");
        return this.k;
    }

    @Override
    protected void b(Bundle bundle) {
        this.k = CastDevice.b(bundle);
    }

    @Override
    public long c() {
        ah.b("Must be called from the main thread.");
        if (this.j == null) {
            return 0L;
        }
        return this.j.f() - this.j.e();
    }

    @Override
    protected void c(Bundle bundle) {
        this.e(bundle);
    }

    @Override
    protected void d(Bundle bundle) {
        this.e(bundle);
    }

    final class a
    implements l<e.a> {
        private String a;
        private /* synthetic */ c b;

        a(c c2, String string2) {
            this.b = c2;
            this.a = string2;
        }

        /*
         * Enabled aggressive block sorting
         * Enabled unnecessary exception pruning
         * Enabled aggressive exception aggregation
         */
        @Override
        public final /* synthetic */ void a(k k2) {
            k2 = (e.a)k2;
            this.b.l = (e.a)k2;
            try {
                if (!k2.k_().d()) {
                    a.a("%s() -> failure result", this.a);
                    this.b.d.b(k2.k_().e());
                    return;
                }
                a.a("%s() -> success result", this.a);
                this.b.j = new e(new wj(null, i.d()), this.b.f);
                try {
                    this.b.j.a(this.b.i);
                    this.b.j.a();
                    this.b.j.d();
                    this.b.h.a(this.b.j, this.b.b());
                }
                catch (IOException iOException) {
                    a.b(iOException, "Exception when setting GoogleApiClient.", new Object[0]);
                    this.b.j = null;
                }
                this.b.d.a(k2.a(), k2.b(), k2.c(), k2.d());
                return;
            }
            catch (RemoteException remoteException) {
                a.a((Throwable)remoteException, "Unable to call %s on %s.", "methods", v.class.getSimpleName());
                return;
            }
        }
    }

    final class b
    extends s {
        private /* synthetic */ c a;

        private b(c c2) {
            this.a = c2;
        }

        /* synthetic */ b(c c2, p p2) {
            this(c2);
        }

        @Override
        public final int a() {
            return 12211278;
        }

        @Override
        public final void a(int n2) {
            this.a.d(n2);
        }

        @Override
        public final void a(String string2) {
            if (this.a.i != null) {
                this.a.f.a(this.a.i, string2);
            }
        }

        @Override
        public final void a(String string2, g g2) {
            if (this.a.i != null) {
                this.a.f.a(this.a.i, string2, g2).a(new a(this.a, "launchApplication"));
            }
        }

        @Override
        public final void a(String string2, String string3) {
            if (this.a.i != null) {
                this.a.f.b(this.a.i, string2, string3).a(new a(this.a, "joinApplication"));
            }
        }
    }

    final class c
    extends e.d {
        private /* synthetic */ c a;

        private c(c c2) {
            this.a = c2;
        }

        /* synthetic */ c(c c2, p p2) {
            this(c2);
        }

        @Override
        public final void a() {
            Iterator iterator = new HashSet(this.a.c).iterator();
            while (iterator.hasNext()) {
                ((e.d)iterator.next()).a();
            }
        }

        @Override
        public final void a(int n2) {
            this.a.d(n2);
            this.a.b(n2);
            Iterator iterator = new HashSet(this.a.c).iterator();
            while (iterator.hasNext()) {
                ((e.d)iterator.next()).a(n2);
            }
        }

        @Override
        public final void a(com.google.android.gms.cast.d d2) {
            Iterator iterator = new HashSet(this.a.c).iterator();
            while (iterator.hasNext()) {
                ((e.d)iterator.next()).a(d2);
            }
        }

        @Override
        public final void b() {
            Iterator iterator = new HashSet(this.a.c).iterator();
            while (iterator.hasNext()) {
                ((e.d)iterator.next()).b();
            }
        }

        @Override
        public final void b(int n2) {
            Iterator iterator = new HashSet(this.a.c).iterator();
            while (iterator.hasNext()) {
                ((e.d)iterator.next()).b(n2);
            }
        }

        @Override
        public final void c(int n2) {
            Iterator iterator = new HashSet(this.a.c).iterator();
            while (iterator.hasNext()) {
                ((e.d)iterator.next()).c(n2);
            }
        }
    }

    final class d
    implements f.b,
    f.c {
        private /* synthetic */ c a;

        private d(c c2) {
            this.a = c2;
        }

        /* synthetic */ d(c c2, p p2) {
            this(c2);
        }

        @Override
        public final void a(int n2) {
            try {
                this.a.d.a(n2);
                return;
            }
            catch (RemoteException remoteException) {
                a.a((Throwable)remoteException, "Unable to call %s on %s.", "onConnectionSuspended", v.class.getSimpleName());
                return;
            }
        }

        /*
         * Enabled aggressive block sorting
         * Enabled unnecessary exception pruning
         * Enabled aggressive exception aggregation
         */
        @Override
        public final void a(Bundle bundle) {
            try {
                e e2 = this.a.j;
                if (e2 != null) {
                    try {
                        this.a.j.a();
                        this.a.j.d();
                    }
                    catch (IOException iOException) {
                        a.b(iOException, "Exception when setting GoogleApiClient.", new Object[0]);
                        this.a.j = null;
                    }
                }
                this.a.d.a(bundle);
                return;
            }
            catch (RemoteException remoteException) {
                a.a((Throwable)remoteException, "Unable to call %s on %s.", "onConnected", v.class.getSimpleName());
                return;
            }
        }

        @Override
        public final void a(com.google.android.gms.common.a a2) {
            try {
                this.a.d.a(a2);
                return;
            }
            catch (RemoteException remoteException) {
                a.a((Throwable)remoteException, "Unable to call %s on %s.", "onConnectionFailed", v.class.getSimpleName());
                return;
            }
        }
    }

}


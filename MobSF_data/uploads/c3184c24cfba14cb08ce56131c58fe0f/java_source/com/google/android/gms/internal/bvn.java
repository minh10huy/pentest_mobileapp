/*
 * Decompiled with CFR 0_132.
 * 
 * Could not load the following classes:
 *  android.annotation.TargetApi
 *  android.content.Context
 *  android.graphics.Point
 *  android.os.Bundle
 *  android.view.MotionEvent
 *  android.view.View
 *  android.view.View$OnClickListener
 *  android.view.View$OnTouchListener
 *  android.view.ViewGroup
 *  android.view.ViewGroup$LayoutParams
 *  android.view.ViewParent
 *  android.view.ViewTreeObserver
 *  android.view.ViewTreeObserver$OnGlobalLayoutListener
 *  android.view.ViewTreeObserver$OnScrollChangedListener
 *  android.widget.FrameLayout
 *  android.widget.FrameLayout$LayoutParams
 */
package com.google.android.gms.internal;

import android.annotation.TargetApi;
import android.content.Context;
import android.graphics.Point;
import android.os.Bundle;
import android.view.MotionEvent;
import android.view.View;
import android.view.ViewGroup;
import android.view.ViewParent;
import android.view.ViewTreeObserver;
import android.widget.FrameLayout;
import com.google.android.gms.a.m;
import com.google.android.gms.ads.b.a;
import com.google.android.gms.ads.internal.av;
import com.google.android.gms.common.util.p;
import com.google.android.gms.internal.ak;
import com.google.android.gms.internal.blx;
import com.google.android.gms.internal.bmb;
import com.google.android.gms.internal.bqj;
import com.google.android.gms.internal.bsz;
import com.google.android.gms.internal.btk;
import com.google.android.gms.internal.buw;
import com.google.android.gms.internal.bux;
import com.google.android.gms.internal.buy;
import com.google.android.gms.internal.bvc;
import com.google.android.gms.internal.bvo;
import com.google.android.gms.internal.bwb;
import com.google.android.gms.internal.ga;
import com.google.android.gms.internal.he;
import com.google.android.gms.internal.hy;
import com.google.android.gms.internal.jz;
import com.google.android.gms.internal.ly;
import com.google.android.gms.internal.nu;
import java.lang.ref.WeakReference;
import java.util.Collections;
import java.util.HashMap;
import java.util.Map;

@ak
public final class bvn
extends bwb
implements View.OnClickListener,
View.OnTouchListener,
ViewTreeObserver.OnGlobalLayoutListener,
ViewTreeObserver.OnScrollChangedListener {
    private static String[] a = new String[]{"2011", "1009", "3010"};
    private final Object b = new Object();
    private final FrameLayout c;
    private FrameLayout d;
    private View e;
    private final boolean f;
    private Map<String, WeakReference<View>> g = Collections.synchronizedMap(new HashMap());
    private View h;
    private buy i;
    private boolean j = false;
    private Point k = new Point();
    private Point l = new Point();
    private WeakReference<blx> m = new WeakReference<Object>(null);

    @TargetApi(value=21)
    public bvn(FrameLayout object, FrameLayout frameLayout) {
        this.c = object;
        this.d = frameLayout;
        av.z();
        ly.a((View)this.c, this);
        av.z();
        ly.a((View)this.c, this);
        this.c.setOnTouchListener((View.OnTouchListener)this);
        this.c.setOnClickListener((View.OnClickListener)this);
        if (frameLayout != null && p.g()) {
            frameLayout.setElevation(Float.MAX_VALUE);
        }
        btk.a(this.c.getContext());
        object = btk.ca;
        this.f = (Boolean)bqj.f().a(object);
    }

    private final int a(int n2) {
        bqj.a();
        return jz.b(this.i.i(), n2);
    }

    private final void a(View view) {
        if (this.i != null) {
            buy buy2 = this.i instanceof bux ? ((bux)this.i).d() : this.i;
            if (buy2 != null) {
                buy2.b(view);
            }
        }
    }

    private final View b() {
        if (this.g == null) {
            return null;
        }
        for (String string2 : a) {
            WeakReference<View> object = this.g.get(string2);
            if (object == null) continue;
            return object.get();
        }
        return null;
    }

    /*
     * Enabled aggressive block sorting
     * Enabled unnecessary exception pruning
     * Enabled aggressive exception aggregation
     */
    private final void c() {
        Object object = this.b;
        synchronized (object) {
            if (!this.f && this.j) {
                int n2 = this.c.getMeasuredWidth();
                int n3 = this.c.getMeasuredHeight();
                if (n2 != 0 && n3 != 0 && this.d != null) {
                    this.d.setLayoutParams((ViewGroup.LayoutParams)new FrameLayout.LayoutParams(n2, n3));
                    this.j = false;
                }
            }
            return;
        }
    }

    /*
     * Enabled aggressive block sorting
     * Enabled unnecessary exception pruning
     * Enabled aggressive exception aggregation
     */
    @Override
    public final com.google.android.gms.a.a a(String object) {
        Object object2 = this.b;
        synchronized (object2) {
            Map<String, WeakReference<View>> map = this.g;
            Object var2_4 = null;
            if (map == null) {
                return null;
            }
            object = (object = this.g.get(object)) == null ? var2_4 : (View)object.get();
            return m.a(object);
        }
    }

    /*
     * Enabled aggressive block sorting
     * Enabled unnecessary exception pruning
     * Enabled aggressive exception aggregation
     */
    @Override
    public final void a() {
        Object object = this.b;
        synchronized (object) {
            if (this.d != null) {
                this.d.removeAllViews();
            }
            this.d = null;
            this.g = null;
            this.h = null;
            this.i = null;
            this.k = null;
            this.l = null;
            this.m = null;
            this.e = null;
            return;
        }
    }

    /*
     * Unable to fully structure code
     * Enabled aggressive block sorting
     * Enabled unnecessary exception pruning
     * Enabled aggressive exception aggregation
     * Converted monitor instructions to comments
     * Lifted jumps to return sites
     */
    @Override
    public final void a(com.google.android.gms.a.a var1_1) {
        var5_3 = this.b;
        // MONITORENTER : var5_3
        var4_4 /* !! */  = null;
        this.a((View)null);
        var1_1 = m.a((com.google.android.gms.a.a)var1_1);
        if (!(var1_1 instanceof bvc)) {
            he.e("Not an instance of native engine. This is most likely a transient error");
            // MONITOREXIT : var5_3
            return;
        }
        if (!this.f && this.d != null) {
            this.d.setLayoutParams((ViewGroup.LayoutParams)new FrameLayout.LayoutParams(0, 0));
            this.c.requestLayout();
        }
        var2_5 = true;
        this.j = true;
        var6_6 = (bvc)var1_1;
        if (this.i != null) {
            var1_1 = btk.bS;
            if (((Boolean)bqj.f().a(var1_1)).booleanValue()) {
                this.i.b((View)this.c, this.g);
            }
        }
        if (this.i instanceof bvc && (var1_1 = (bvc)this.i) != null && var1_1.i() != null && av.A().c(this.c.getContext())) {
            if ((var1_1 = var1_1.j()) != null) {
                var1_1.a(false);
            }
            if ((var7_7 = this.m.get()) != null && var1_1 != null) {
                var7_7.b((bmb)var1_1);
            }
        }
        if (this.i instanceof bux && ((bux)this.i).c()) {
            ((bux)this.i).a(var6_6);
        } else {
            this.i = var6_6;
            if (var6_6 instanceof bux) {
                ((bux)var6_6).a(null);
            }
        }
        if (this.d == null) {
            // MONITOREXIT : var5_3
            return;
        }
        var1_1 = btk.bS;
        if (((Boolean)bqj.f().a(var1_1)).booleanValue()) {
            this.d.setClickable(false);
        }
        this.d.removeAllViews();
        var3_8 = var6_6.a();
        if (!var3_8 || this.g == null) ** GOTO lbl-1000
        var1_1 = this.g.get("1098");
        var1_1 = var1_1 != null ? (View)var1_1.get() : null;
        if (var1_1 instanceof ViewGroup) {
            var1_1 = (ViewGroup)var1_1;
        } else lbl-1000: // 2 sources:
        {
            var1_1 = null;
        }
        if (!var3_8 || var1_1 == null) {
            var2_5 = false;
        }
        this.h = var6_6.a(this, var2_5);
        if (this.h != null) {
            if (this.g != null) {
                this.g.put("1007", new WeakReference<View>(this.h));
            }
            if (var2_5) {
                var1_1.removeAllViews();
                var1_1.addView(this.h);
            } else {
                var1_1 = new a(var6_6.i());
                var1_1.setLayoutParams((ViewGroup.LayoutParams)new FrameLayout.LayoutParams(-1, -1));
                var1_1.addView(this.h);
                if (this.d != null) {
                    this.d.addView((View)var1_1);
                }
            }
        }
        var6_6.a((View)this.c, this.g, null, this, this);
        if (this.f) {
            if (this.e == null) {
                this.e = new View(this.c.getContext());
                this.e.setLayoutParams((ViewGroup.LayoutParams)new FrameLayout.LayoutParams(-1, 0));
            }
            if (this.c != this.e.getParent()) {
                this.c.addView(this.e);
            }
        }
        try {
            var1_1 = var6_6.e();
        }
        catch (Exception var1_2) {
            av.g();
            if (hy.e()) {
                he.e("Privileged processes cannot create HTML overlays.");
                var1_1 = var4_4 /* !! */ ;
            }
            he.b("Error obtaining overlay.", var1_2);
            var1_1 = var4_4 /* !! */ ;
        }
        if (var1_1 != null && this.d != null) {
            this.d.addView(var1_1.getView());
        }
        var1_1 = this.b;
        // MONITORENTER : var1_1
        var6_6.a(this.g);
        var4_4 /* !! */  = this.b();
        if (!(var4_4 /* !! */  instanceof FrameLayout)) {
            var6_6.g();
        } else {
            var7_7 = new bvo(this, var4_4 /* !! */ );
            if (var6_6 instanceof bux) {
                var6_6.b(var4_4 /* !! */ , (buw)var7_7);
            } else {
                var6_6.a(var4_4 /* !! */ , (buw)var7_7);
            }
        }
        // MONITOREXIT : var1_1
        this.a((View)this.c);
        this.i.a((View)this.c);
        if (this.i instanceof bvc && (var6_6 = (bvc)this.i) != null && var6_6.i() != null && av.A().c(this.c.getContext())) {
            var4_4 /* !! */  = this.m.get();
            var1_1 = var4_4 /* !! */ ;
            if (var4_4 /* !! */  == null) {
                var1_1 = new blx(this.c.getContext(), (View)this.c);
                this.m = new WeakReference<Object>(var1_1);
            }
            var1_1.a(var6_6.j());
        }
        // MONITOREXIT : var5_3
    }

    @Override
    public final void a(com.google.android.gms.a.a object, int n2) {
        if (av.A().c(this.c.getContext()) && this.m != null && (object = this.m.get()) != null) {
            object.a();
        }
        this.c();
    }

    /*
     * Enabled aggressive block sorting
     * Enabled unnecessary exception pruning
     * Enabled aggressive exception aggregation
     */
    @Override
    public final void a(String string2, com.google.android.gms.a.a object) {
        View view = (View)m.a((com.google.android.gms.a.a)object);
        object = this.b;
        synchronized (object) {
            if (this.g == null) {
                return;
            }
            if (view == null) {
                this.g.remove(string2);
            } else {
                this.g.put(string2, new WeakReference<View>(view));
                if ("1098".equals(string2)) {
                    return;
                }
                view.setOnTouchListener((View.OnTouchListener)this);
                view.setClickable(true);
                view.setOnClickListener((View.OnClickListener)this);
            }
            return;
        }
    }

    /*
     * Enabled aggressive block sorting
     * Enabled unnecessary exception pruning
     * Enabled aggressive exception aggregation
     */
    public final void onClick(View view) {
        Object object = this.b;
        synchronized (object) {
            block5 : {
                Bundle bundle;
                block3 : {
                    FrameLayout frameLayout;
                    buy buy2;
                    Map<String, WeakReference<View>> map;
                    block6 : {
                        block4 : {
                            if (this.i == null) {
                                return;
                            }
                            bundle = new Bundle();
                            bundle.putFloat("x", (float)this.a(this.k.x));
                            bundle.putFloat("y", (float)this.a(this.k.y));
                            bundle.putFloat("start_x", (float)this.a(this.l.x));
                            bundle.putFloat("start_y", (float)this.a(this.l.y));
                            if (this.h == null || !this.h.equals((Object)view)) break block3;
                            if (!(this.i instanceof bux)) break block4;
                            if (((bux)this.i).d() == null) break block5;
                            buy2 = ((bux)this.i).d();
                            map = this.g;
                            frameLayout = this.c;
                            break block6;
                        }
                        buy2 = this.i;
                        map = this.g;
                        frameLayout = this.c;
                    }
                    buy2.a(view, "1007", bundle, map, (View)frameLayout);
                    break block5;
                }
                this.i.a(view, this.g, bundle, (View)this.c);
            }
            return;
        }
    }

    /*
     * Enabled aggressive block sorting
     * Enabled unnecessary exception pruning
     * Enabled aggressive exception aggregation
     */
    public final void onGlobalLayout() {
        Object object = this.b;
        synchronized (object) {
            this.c();
            if (this.i != null) {
                this.i.c((View)this.c, this.g);
            }
            return;
        }
    }

    /*
     * Enabled aggressive block sorting
     * Enabled unnecessary exception pruning
     * Enabled aggressive exception aggregation
     */
    public final void onScrollChanged() {
        Object object = this.b;
        synchronized (object) {
            if (this.i != null) {
                this.i.c((View)this.c, this.g);
            }
            this.c();
            return;
        }
    }

    /*
     * Enabled aggressive block sorting
     * Enabled unnecessary exception pruning
     * Enabled aggressive exception aggregation
     */
    public final boolean onTouch(View object, MotionEvent motionEvent) {
        object = this.b;
        synchronized (object) {
            if (this.i == null) {
                return false;
            }
            Point point = new int[2];
            this.c.getLocationOnScreen((int[])point);
            float f2 = motionEvent.getRawX();
            float f3 = point[0];
            float f4 = motionEvent.getRawY();
            float f5 = point[1];
            this.k = point = new Point((int)(f2 - f3), (int)(f4 - f5));
            if (motionEvent.getAction() == 0) {
                this.l = point;
            }
            motionEvent = MotionEvent.obtain((MotionEvent)motionEvent);
            motionEvent.setLocation((float)point.x, (float)point.y);
            this.i.a(motionEvent);
            motionEvent.recycle();
            return false;
        }
    }
}


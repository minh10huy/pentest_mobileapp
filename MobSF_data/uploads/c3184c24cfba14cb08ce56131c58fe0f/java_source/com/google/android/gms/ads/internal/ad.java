/*
 * Decompiled with CFR 0_132.
 * 
 * Could not load the following classes:
 *  android.content.Context
 *  android.os.Bundle
 *  android.os.Handler
 *  android.os.RemoteException
 *  android.util.Log
 *  android.view.View
 *  org.json.JSONArray
 *  org.json.JSONException
 *  org.json.JSONObject
 */
package com.google.android.gms.ads.internal;

import android.content.Context;
import android.os.Bundle;
import android.os.Handler;
import android.os.RemoteException;
import android.util.Log;
import android.view.View;
import com.google.android.gms.a.a;
import com.google.android.gms.a.m;
import com.google.android.gms.ads.internal.ae;
import com.google.android.gms.ads.internal.af;
import com.google.android.gms.ads.internal.ag;
import com.google.android.gms.ads.internal.ah;
import com.google.android.gms.ads.internal.ai;
import com.google.android.gms.ads.internal.aj;
import com.google.android.gms.ads.internal.ak;
import com.google.android.gms.ads.internal.al;
import com.google.android.gms.ads.internal.av;
import com.google.android.gms.ads.internal.aw;
import com.google.android.gms.ads.internal.az;
import com.google.android.gms.ads.internal.br;
import com.google.android.gms.internal.agk;
import com.google.android.gms.internal.bj;
import com.google.android.gms.internal.bkw;
import com.google.android.gms.internal.bkz;
import com.google.android.gms.internal.bmm;
import com.google.android.gms.internal.bn;
import com.google.android.gms.internal.bpu;
import com.google.android.gms.internal.bpy;
import com.google.android.gms.internal.bqj;
import com.google.android.gms.internal.bqm;
import com.google.android.gms.internal.bqp;
import com.google.android.gms.internal.bru;
import com.google.android.gms.internal.brx;
import com.google.android.gms.internal.bst;
import com.google.android.gms.internal.bsz;
import com.google.android.gms.internal.btk;
import com.google.android.gms.internal.btx;
import com.google.android.gms.internal.bue;
import com.google.android.gms.internal.buk;
import com.google.android.gms.internal.bum;
import com.google.android.gms.internal.bun;
import com.google.android.gms.internal.bup;
import com.google.android.gms.internal.bur;
import com.google.android.gms.internal.buu;
import com.google.android.gms.internal.buw;
import com.google.android.gms.internal.bux;
import com.google.android.gms.internal.buy;
import com.google.android.gms.internal.buz;
import com.google.android.gms.internal.bva;
import com.google.android.gms.internal.bvc;
import com.google.android.gms.internal.bvl;
import com.google.android.gms.internal.bvw;
import com.google.android.gms.internal.bwt;
import com.google.android.gms.internal.bwx;
import com.google.android.gms.internal.bxa;
import com.google.android.gms.internal.bxd;
import com.google.android.gms.internal.bxh;
import com.google.android.gms.internal.bxn;
import com.google.android.gms.internal.bxq;
import com.google.android.gms.internal.cax;
import com.google.android.gms.internal.cbn;
import com.google.android.gms.internal.cbq;
import com.google.android.gms.internal.cbz;
import com.google.android.gms.internal.ccc;
import com.google.android.gms.internal.cdx;
import com.google.android.gms.internal.cen;
import com.google.android.gms.internal.gl;
import com.google.android.gms.internal.gm;
import com.google.android.gms.internal.gn;
import com.google.android.gms.internal.gx;
import com.google.android.gms.internal.he;
import com.google.android.gms.internal.hm;
import com.google.android.gms.internal.hs;
import com.google.android.gms.internal.il;
import com.google.android.gms.internal.kj;
import com.google.android.gms.internal.km;
import com.google.android.gms.internal.lf;
import com.google.android.gms.internal.lq;
import com.google.android.gms.internal.nu;
import com.google.android.gms.internal.oj;
import com.google.android.gms.internal.p;
import com.google.android.gms.internal.t;
import java.util.ArrayList;
import java.util.List;
import java.util.UUID;
import java.util.concurrent.CancellationException;
import java.util.concurrent.ExecutionException;
import java.util.concurrent.ExecutorService;
import java.util.concurrent.Executors;
import java.util.concurrent.Future;
import java.util.concurrent.TimeUnit;
import java.util.concurrent.TimeoutException;
import org.json.JSONArray;
import org.json.JSONException;
import org.json.JSONObject;

@com.google.android.gms.internal.ak
public final class ad
extends az
implements buz {
    private final Object j = new Object();
    private boolean k;
    private lq<bva> l = new lq();
    private nu m;
    private boolean n;
    private int o = 1;
    private p p;
    private final String q = UUID.randomUUID().toString();

    public ad(Context context, br br2, bpy bpy2, String string2, cbn cbn2, km km2) {
        this(context, br2, bpy2, string2, cbn2, km2, false);
    }

    public ad(Context context, br br2, bpy bpy2, String string2, cbn cbn2, km km2, boolean bl2) {
        super(context, bpy2, string2, cbn2, km2, br2);
        this.k = bl2;
    }

    private final cax Y() {
        if (this.e.j != null && this.e.j.m) {
            return this.e.j.q;
        }
        return null;
    }

    private final void Z() {
        p p2 = this.G();
        if (p2 != null) {
            p2.a();
        }
    }

    static /* synthetic */ buu a(bva bva2) {
        return ad.b(bva2);
    }

    static /* synthetic */ void a(ad ad2, aw aw2, aw aw3) {
        ad.a(aw2, aw3);
    }

    private static void a(aw aw2, aw aw3) {
        if (aw3.q == null) {
            aw3.q = aw2.q;
        }
        if (aw3.r == null) {
            aw3.r = aw2.r;
        }
        if (aw3.t == null) {
            aw3.t = aw2.t;
        }
        if (aw3.u == null) {
            aw3.u = aw2.u;
        }
        if (aw3.w == null) {
            aw3.w = aw2.w;
        }
        if (aw3.v == null) {
            aw3.v = aw2.v;
        }
        if (aw3.D == null) {
            aw3.D = aw2.D;
        }
        if (aw3.l == null) {
            aw3.l = aw2.l;
        }
        if (aw3.E == null) {
            aw3.E = aw2.E;
        }
        if (aw3.m == null) {
            aw3.m = aw2.m;
        }
        if (aw3.n == null) {
            aw3.n = aw2.n;
        }
        if (aw3.i == null) {
            aw3.i = aw2.i;
        }
        if (aw3.j == null) {
            aw3.j = aw2.j;
        }
        if (aw3.k == null) {
            aw3.k = aw2.k;
        }
    }

    private final void a(bun bun2) {
        hs.a.post((Runnable)new ah(this, bun2));
    }

    private final void a(bup bup2) {
        hs.a.post((Runnable)new ai(this, bup2));
    }

    private final void a(buu buu2) {
        try {
            if (this.e.s != null) {
                this.e.s.a(buu2);
            }
            return;
        }
        catch (RemoteException remoteException) {
            he.c("Could not call onUnifiedNativeAdLoadedListener.onUnifiedNativeAdLoaded().", (Throwable)remoteException);
            return;
        }
    }

    /*
     * Enabled aggressive block sorting
     */
    private static buu b(bva bva2) {
        void var3_7;
        block4 : {
            block6 : {
                void var3_4;
                block5 : {
                    block3 : {
                        boolean bl2 = bva2 instanceof bup;
                        Object var3_2 = null;
                        if (!bl2) break block3;
                        bup bup2 = (bup)bva2;
                        buu buu2 = new buu(bup2.a(), bup2.b(), bup2.e(), bup2.f(), bup2.g(), bup2.h(), -1.0, null, null, bup2.m(), bup2.i(), bup2.o(), bup2.c(), bup2.d());
                        bva2 = buu2;
                        if (bup2.j() == null) break block4;
                        a a2 = bup2.j();
                        bva2 = buu2;
                        break block5;
                    }
                    if (!(bva2 instanceof bun)) break block6;
                    bun bun2 = (bun)bva2;
                    buu buu3 = new buu(bun2.a(), bun2.b(), bun2.c(), bun2.d(), bun2.e(), null, bun2.f(), bun2.g(), bun2.h(), bun2.m(), bun2.i(), bun2.o(), bun2.p(), bun2.q());
                    bva2 = buu3;
                    if (bun2.j() == null) break block4;
                    a a3 = bun2.j();
                    bva2 = buu3;
                }
                Object t2 = m.a((a)var3_4);
                break block4;
            }
            bva2 = null;
        }
        if (var3_7 instanceof bvc) {
            bva2.a((bvc)var3_7);
        }
        return bva2;
    }

    @Override
    public final String C() {
        return this.e.b;
    }

    @Override
    public final void F() {
        throw new IllegalStateException("Interstitial is NOT supported by NativeAdManager.");
    }

    /*
     * Enabled aggressive block sorting
     * Enabled unnecessary exception pruning
     * Enabled aggressive exception aggregation
     */
    public final p G() {
        Object object = this.j;
        synchronized (object) {
            return this.p;
        }
    }

    protected final Future<bva> H() {
        return this.l;
    }

    public final void I() {
        if (this.e.j != null && this.m != null) {
            av.i().g().a(this.e.i, this.e.j, this.m.getView(), this.m);
            this.n = false;
            return;
        }
        this.n = true;
        he.e("Request to enable ActiveView before adState is available.");
    }

    public final void J() {
        this.n = false;
        if (this.e.j != null && this.m != null) {
            av.i().g().a(this.e.j);
            return;
        }
        he.e("Request to enable ActiveView before adState is available.");
    }

    public final android.support.v4.g.m<String, bxh> K() {
        com.google.android.gms.common.internal.ah.b("getOnCustomTemplateAdLoadedListeners must be called on the main UI thread.");
        return this.e.u;
    }

    @Override
    public final void L() {
        if (this.m != null) {
            this.m.destroy();
            this.m = null;
        }
    }

    public final void M() {
        if (this.m != null && this.m.b() != null && this.e.v != null && this.e.v.f != null) {
            this.m.b().a(this.e.v.f);
        }
    }

    @Override
    public final boolean N() {
        if (this.Y() != null) {
            return this.Y().o;
        }
        return false;
    }

    @Override
    public final boolean O() {
        if (this.Y() != null) {
            return this.Y().p;
        }
        return false;
    }

    @Override
    public final void P() {
        if (this.e.j != null && "com.google.ads.mediation.admob.AdMobAdapter".equals(this.e.j.p)) {
            this.y();
            return;
        }
        super.P();
    }

    @Override
    public final void Q() {
        if (this.e.j != null && "com.google.ads.mediation.admob.AdMobAdapter".equals(this.e.j.p)) {
            this.x();
            return;
        }
        super.Q();
    }

    /*
     * Enabled aggressive block sorting
     * Enabled unnecessary exception pruning
     * Enabled aggressive exception aggregation
     */
    @Override
    public final void R() {
        Object object = this.e.j;
        if (object.o == null) {
            super.R();
            return;
        }
        try {
            Object object2 = object.o;
            object = null;
            Object object3 = object2.h();
            if (object3 != null) {
                object = object3.m();
            } else {
                object3 = object2.i();
                if (object3 != null) {
                    object = object3.l();
                } else if ((object2 = object2.n()) != null) {
                    object = object2.c();
                }
            }
        }
        catch (RemoteException remoteException) {
            he.c("Unable to call onVideoEnd()", (Throwable)remoteException);
            return;
        }
        if (object == null) {
            return;
        }
        if ((object = object.h()) != null) {
            object.d();
        }
    }

    @Override
    protected final void a(int n2) {
        this.a(n2, false);
    }

    @Override
    protected final void a(int n2, boolean bl2) {
        this.Z();
        super.a(n2, bl2);
    }

    @Override
    public final void a(bue bue2) {
        throw new IllegalStateException("CustomRendering is NOT supported by NativeAdManager.");
    }

    @Override
    public final void a(buw buw2) {
        if (this.m != null) {
            this.m.a(buw2);
        }
    }

    @Override
    public final void a(buy buy2) {
        if (this.e.j.j != null) {
            av.i().g().a(this.e.i, this.e.j, new bkz(buy2), null);
        }
    }

    @Override
    public final void a(cdx cdx2) {
        throw new IllegalStateException("In App Purchase is NOT supported by NativeAdManager.");
    }

    /*
     * Enabled aggressive block sorting
     * Enabled unnecessary exception pruning
     * Enabled aggressive exception aggregation
     */
    @Override
    public final void a(gm object, btx object2) {
        int n2;
        Object object3;
        int n3;
        ExecutorService executorService;
        if (object.d != null) {
            this.e.i = object.d;
        }
        if (object.e != -2) {
            hs.a.post((Runnable)new ae(this, (gm)object));
            return;
        }
        int n4 = object.a.Y;
        int n5 = 0;
        if (n4 == 1) {
            this.e.G = 0;
            aw aw2 = this.e;
            av.d();
            aw2.h = cen.a(this.e.c, this, (gm)object, this.e.d, null, this.i, this, (btx)object2);
            object = String.valueOf(this.e.h.getClass().getName());
            object = object.length() != 0 ? "AdRenderer: ".concat((String)object) : new String("AdRenderer: ");
            he.b((String)object);
            return;
        }
        object3 = new JSONArray();
        try {
            object2 = new JSONObject(object.b.b).getJSONArray("slots");
            for (n3 = 0; n3 < object2.length(); ++n3) {
                executorService = object2.getJSONObject(n3).getJSONArray("ads");
                for (n2 = 0; n2 < executorService.length(); ++n2) {
                    object3.put(executorService.get(n2));
                }
            }
        }
        catch (JSONException jSONException) {
            he.c("Malformed native ad response", (Throwable)jSONException);
            this.a(0);
            return;
        }
        this.Z();
        executorService = Executors.newFixedThreadPool(n4);
        object2 = new ArrayList();
        n3 = 0;
        do {
            n2 = n5;
            if (n3 < n4) {
                object2.add(hm.a(executorService, new af(this, n3, (JSONArray)object3, n4, (gm)object)));
                ++n3;
                continue;
            }
            break;
        } while (true);
        while (n2 < object2.size()) {
            try {
                object = (lf)object2.get(n2);
                object3 = btk.bt;
                object = (bva)object.get((Long)bqj.f().a(object3), TimeUnit.MILLISECONDS);
                hs.a.post((Runnable)new ag(this, (bva)object, n2, (List)object2));
            }
            catch (CancellationException | ExecutionException | TimeoutException exception) {
                he.c("Exception occurred while getting an ad response", exception);
            }
            catch (InterruptedException interruptedException) {
                he.c("Exception occurred while getting an ad response", interruptedException);
                Thread.currentThread().interrupt();
            }
            ++n2;
        }
        return;
    }

    public final void a(nu nu2) {
        this.m = nu2;
    }

    @Override
    public final boolean a(bpu bpu2, btx btx2) {
        try {
            this.i_();
            return super.a(bpu2, btx2, this.o);
        }
        catch (Exception exception) {
            if (kj.a(4)) {
                Log.i((String)"Ads", (String)"Error initializing webview.", (Throwable)exception);
            }
            return false;
        }
    }

    @Override
    protected final boolean a(bpu bpu2, gl gl2, boolean bl2) {
        return this.d.e();
    }

    /*
     * Enabled aggressive block sorting
     * Enabled unnecessary exception pruning
     * Enabled aggressive exception aggregation
     */
    @Override
    protected final boolean a(gl gl2, gl gl3) {
        Object object;
        boolean bl2;
        bva bva2;
        block16 : {
            block15 : {
                String string2 = null;
                String string3 = null;
                this.b((List<String>)null);
                if (!this.e.d()) throw new IllegalStateException("Native ad DOES NOT have custom rendering mode.");
                if (gl3.m) {
                    this.Z();
                    try {
                        Object object2 = gl3.o != null ? gl3.o.h() : null;
                        Object object3 = gl3.o != null ? gl3.o.i() : null;
                        Object object4 = gl3.o != null ? gl3.o.n() : null;
                        String string4 = ad.c(gl3);
                        if (object2 != null && this.e.q != null) {
                            string2 = object2.a();
                            List list = object2.b();
                            String string5 = object2.c();
                            object3 = object2.d() != null ? object2.d() : null;
                            String string6 = object2.e();
                            double d2 = object2.f();
                            String string7 = object2.g();
                            String string8 = object2.h();
                            Bundle bundle = object2.l();
                            bru bru2 = object2.m();
                            object4 = string3;
                            if (object2.p() != null) {
                                object4 = (View)m.a(object2.p());
                            }
                            object3 = new bun(string2, list, string5, (bvw)object3, string6, d2, string7, string8, null, bundle, bru2, (View)object4, object2.q(), string4);
                            object3.a(new bux(this.e.c, (buz)this, this.e.d, (cbz)object2, (bva)object3));
                            this.a((bun)object3);
                            return super.a(gl2, gl3);
                        }
                        if (object3 != null && this.e.r != null) {
                            string3 = object3.a();
                            List list = object3.b();
                            String string9 = object3.c();
                            object2 = object3.d() != null ? object3.d() : null;
                            String string10 = object3.e();
                            String string11 = object3.f();
                            Bundle bundle = object3.j();
                            bru bru3 = object3.l();
                            object4 = string2;
                            if (object3.n() != null) {
                                object4 = (View)m.a(object3.n());
                            }
                            object2 = new bup(string3, list, string9, (bvw)object2, string10, string11, null, bundle, bru3, (View)object4, object3.o(), string4);
                            object2.a(new bux(this.e.c, (buz)this, this.e.d, (ccc)object3, (bva)object2));
                            this.a((bup)object2);
                            return super.a(gl2, gl3);
                        }
                        if (object4 != null && this.e.u != null && this.e.u.get(object4.l()) != null) {
                            hs.a.post((Runnable)new ak(this, (bwt)object4));
                            return super.a(gl2, gl3);
                        }
                        he.e("No matching mapper/listener for retrieved native ad template.");
                        this.a(0);
                        return false;
                    }
                    catch (RemoteException remoteException) {
                        he.c("Failed to get native ad mapper", (Throwable)remoteException);
                        return super.a(gl2, gl3);
                    }
                }
                bva2 = gl3.B;
                if (this.k) {
                    this.l.b(bva2);
                    return super.a(gl2, gl3);
                }
                bl2 = bva2 instanceof bup;
                if (bl2 && this.e.s != null) break block15;
                if (bl2 && this.e.r != null) {
                    this.a((bup)gl3.B);
                    return super.a(gl2, gl3);
                }
                bl2 = bva2 instanceof bun;
                if (!bl2 || this.e.s == null) break block16;
            }
            this.a(ad.b(gl3.B));
            return super.a(gl2, gl3);
        }
        if (bl2 && this.e.q != null) {
            this.a((bun)gl3.B);
            return super.a(gl2, gl3);
        }
        if (bva2 instanceof bur && this.e.u != null && (object = this.e.u).get((bva2 = (bur)bva2).l()) != null) {
            object = bva2.l();
            hs.a.post((Runnable)new aj(this, (String)object, gl3));
            return super.a(gl2, gl3);
        }
        he.e("No matching listener for retrieved native ad template.");
        this.a(0);
        return false;
    }

    @Override
    public final bxd b(String string2) {
        com.google.android.gms.common.internal.ah.b("getOnCustomClickListener must be called on the main UI thread.");
        if (this.e.t == null) {
            return null;
        }
        return this.e.t.get(string2);
    }

    public final void b(int n2) {
        com.google.android.gms.common.internal.ah.b("setMaxNumberOfAds must be called on the main UI thread.");
        this.o = n2;
    }

    public final void b(List<String> list) {
        com.google.android.gms.common.internal.ah.b("setNativeTemplates must be called on the main UI thread.");
        this.e.D = list;
    }

    @Override
    protected final void d(boolean bl2) {
        super.d(bl2);
        if (this.n) {
            bsz<Boolean> bsz2 = btk.bY;
            if (bqj.f().a(bsz2).booleanValue()) {
                this.I();
            }
        }
    }

    public final String h_() {
        return this.q;
    }

    /*
     * Enabled aggressive block sorting
     * Enabled unnecessary exception pruning
     * Enabled aggressive exception aggregation
     */
    final void i_() {
        Object object = this.j;
        synchronized (object) {
            he.a("Initializing webview native ads utills");
            this.p = new t(this.e.c, this, this.q, this.e.d, this.e.e);
            return;
        }
    }

    @Override
    public final void o() {
        throw new IllegalStateException("Native Ad DOES NOT support pause().");
    }

    @Override
    public final void p() {
        throw new IllegalStateException("Native Ad DOES NOT support resume().");
    }

    @Override
    protected final void w() {
        this.d(false);
    }
}


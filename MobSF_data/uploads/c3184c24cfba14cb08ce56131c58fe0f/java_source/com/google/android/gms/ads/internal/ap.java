/*
 * Decompiled with CFR 0_132.
 * 
 * Could not load the following classes:
 *  android.app.Activity
 *  android.content.Context
 *  android.content.Intent
 *  android.net.Uri
 *  android.net.Uri$Builder
 *  android.os.AsyncTask
 *  android.text.TextUtils
 *  android.view.View
 *  android.view.View$OnTouchListener
 *  android.view.ViewGroup
 *  android.view.ViewGroup$LayoutParams
 *  android.webkit.WebSettings
 *  android.webkit.WebView
 *  android.webkit.WebViewClient
 */
package com.google.android.gms.ads.internal;

import android.app.Activity;
import android.content.Context;
import android.content.Intent;
import android.net.Uri;
import android.os.AsyncTask;
import android.text.TextUtils;
import android.view.View;
import android.view.ViewGroup;
import android.webkit.WebSettings;
import android.webkit.WebView;
import android.webkit.WebViewClient;
import com.google.android.gms.a.a;
import com.google.android.gms.a.m;
import com.google.android.gms.ads.internal.aq;
import com.google.android.gms.ads.internal.ar;
import com.google.android.gms.ads.internal.as;
import com.google.android.gms.ads.internal.at;
import com.google.android.gms.ads.internal.au;
import com.google.android.gms.common.internal.ah;
import com.google.android.gms.internal.agk;
import com.google.android.gms.internal.agl;
import com.google.android.gms.internal.ak;
import com.google.android.gms.internal.bpu;
import com.google.android.gms.internal.bpy;
import com.google.android.gms.internal.bqj;
import com.google.android.gms.internal.bqm;
import com.google.android.gms.internal.bqp;
import com.google.android.gms.internal.brb;
import com.google.android.gms.internal.brf;
import com.google.android.gms.internal.brm;
import com.google.android.gms.internal.bru;
import com.google.android.gms.internal.bsa;
import com.google.android.gms.internal.bst;
import com.google.android.gms.internal.bsz;
import com.google.android.gms.internal.btk;
import com.google.android.gms.internal.bue;
import com.google.android.gms.internal.cdx;
import com.google.android.gms.internal.cee;
import com.google.android.gms.internal.ej;
import com.google.android.gms.internal.he;
import com.google.android.gms.internal.hm;
import com.google.android.gms.internal.jz;
import com.google.android.gms.internal.km;
import java.util.Map;
import java.util.Set;
import java.util.concurrent.Future;
import java.util.concurrent.ThreadPoolExecutor;

@ak
public final class ap
extends brb {
    private final km a;
    private final bpy b;
    private final Future<agk> c;
    private final Context d;
    private final au e;
    private WebView f;
    private bqp g;
    private agk h;
    private AsyncTask<Void, Void, String> i;

    public ap(Context object, bpy bpy2, String string2, km km2) {
        this.d = object;
        this.a = km2;
        this.b = bpy2;
        this.f = new WebView(this.d);
        object = new as(this);
        this.c = hm.a(hm.a, object);
        this.e = new au(string2);
        this.a(0);
        this.f.setVerticalScrollBarEnabled(false);
        this.f.getSettings().setJavaScriptEnabled(true);
        this.f.setWebViewClient((WebViewClient)new aq(this));
        this.f.setOnTouchListener((View.OnTouchListener)new ar(this));
    }

    static /* synthetic */ agk a(ap ap2, agk agk2) {
        ap2.h = agk2;
        return agk2;
    }

    static /* synthetic */ bqp a(ap ap2) {
        return ap2.g;
    }

    static /* synthetic */ String a(ap ap2, String string2) {
        return ap2.c(string2);
    }

    static /* synthetic */ agk b(ap ap2) {
        return ap2.h;
    }

    static /* synthetic */ void b(ap ap2, String string2) {
        ap2.d(string2);
    }

    static /* synthetic */ km c(ap ap2) {
        return ap2.a;
    }

    private final String c(String string2) {
        if (this.h == null) {
            return string2;
        }
        string2 = Uri.parse((String)string2);
        try {
            Uri uri = this.h.a((Uri)string2, this.d, null, null);
            string2 = uri;
        }
        catch (agl agl2) {
            he.c("Unable to process ad data", agl2);
        }
        return string2.toString();
    }

    static /* synthetic */ Context d(ap ap2) {
        return ap2.d;
    }

    private final void d(String string2) {
        Intent intent = new Intent("android.intent.action.VIEW");
        intent.setData(Uri.parse((String)string2));
        this.d.startActivity(intent);
    }

    static /* synthetic */ Future e(ap ap2) {
        return ap2.c;
    }

    static /* synthetic */ WebView f(ap ap2) {
        return ap2.f;
    }

    @Override
    public final String C() {
        throw new IllegalStateException("getAdUnitId not implemented");
    }

    @Override
    public final brf D() {
        throw new IllegalStateException("getIAppEventListener not implemented");
    }

    @Override
    public final bqp E() {
        throw new IllegalStateException("getIAdListener not implemented");
    }

    @Override
    public final void F() {
        throw new IllegalStateException("Unused method");
    }

    @Override
    public final String a() {
        return null;
    }

    final void a(int n2) {
        if (this.f == null) {
            return;
        }
        ViewGroup.LayoutParams layoutParams = new ViewGroup.LayoutParams(-1, n2);
        this.f.setLayoutParams(layoutParams);
    }

    @Override
    public final void a(bpy bpy2) {
        throw new IllegalStateException("AdSize must be set before initialization");
    }

    @Override
    public final void a(bqm bqm2) {
        throw new IllegalStateException("Unused method");
    }

    @Override
    public final void a(bqp bqp2) {
        this.g = bqp2;
    }

    @Override
    public final void a(brf brf2) {
        throw new IllegalStateException("Unused method");
    }

    @Override
    public final void a(brm brm2) {
        throw new IllegalStateException("Unused method");
    }

    @Override
    public final void a(bsa bsa2) {
        throw new IllegalStateException("Unused method");
    }

    @Override
    public final void a(bst bst2) {
        throw new IllegalStateException("Unused method");
    }

    @Override
    public final void a(bue bue2) {
        throw new IllegalStateException("Unused method");
    }

    @Override
    public final void a(cdx cdx2) {
        throw new IllegalStateException("Unused method");
    }

    @Override
    public final void a(cee cee2, String string2) {
        throw new IllegalStateException("Unused method");
    }

    @Override
    public final void a(ej ej2) {
        throw new IllegalStateException("Unused method");
    }

    @Override
    public final void a(String string2) {
        throw new IllegalStateException("Unused method");
    }

    final int b(String string2) {
        if (TextUtils.isEmpty((CharSequence)(string2 = Uri.parse((String)string2).getQueryParameter("height")))) {
            return 0;
        }
        try {
            bqj.a();
            int n2 = jz.a(this.d, Integer.parseInt(string2));
            return n2;
        }
        catch (NumberFormatException numberFormatException) {
            return 0;
        }
    }

    @Override
    public final void b(boolean bl2) {
    }

    @Override
    public final boolean b(bpu bpu2) {
        ah.a(this.f, (Object)"This Search Ad has already been torn down");
        this.e.a(bpu2, this.a);
        this.i = new at(this, null).execute((Object[])new Void[0]);
        return true;
    }

    final String c() {
        Object object = new Uri.Builder();
        Object object2 = object.scheme("https://");
        Object object3 = btk.cn;
        object2.appendEncodedPath(bqj.f().a(object3));
        object.appendQueryParameter("query", this.e.b());
        object.appendQueryParameter("pubId", this.e.c());
        object2 = this.e.d();
        for (String string2 : object2.keySet()) {
            object.appendQueryParameter(string2, (String)object2.get(string2));
        }
        object2 = object.build();
        object = object2;
        if (this.h != null) {
            try {
                object = this.h.a((Uri)object2, this.d);
            }
            catch (agl agl2) {
                he.c("Unable to process ad data", agl2);
                object = object2;
            }
        }
        object2 = this.d();
        object = object.getEncodedQuery();
        object3 = new StringBuilder(String.valueOf(object2).length() + 1 + String.valueOf(object).length());
        object3.append((String)object2);
        object3.append("#");
        object3.append((String)object);
        return object3.toString();
    }

    @Override
    public final void c(boolean bl2) {
        throw new IllegalStateException("Unused method");
    }

    final String d() {
        Object object = this.e.a();
        String string2 = object;
        if (TextUtils.isEmpty((CharSequence)object)) {
            string2 = "www.google.com";
        }
        object = btk.cn;
        object = (String)bqj.f().a(object);
        StringBuilder stringBuilder = new StringBuilder(String.valueOf(string2).length() + 8 + String.valueOf(object).length());
        stringBuilder.append("https://");
        stringBuilder.append(string2);
        stringBuilder.append((String)object);
        return stringBuilder.toString();
    }

    @Override
    public final void j() {
        ah.b("destroy must be called on the main UI thread.");
        this.i.cancel(true);
        this.c.cancel(true);
        this.f.destroy();
        this.f = null;
    }

    @Override
    public final a k() {
        ah.b("getAdFrame must be called on the main UI thread.");
        return m.a(this.f);
    }

    @Override
    public final bpy l() {
        return this.b;
    }

    @Override
    public final boolean m() {
        return false;
    }

    @Override
    public final void n() {
        throw new IllegalStateException("Unused method");
    }

    @Override
    public final void o() {
        ah.b("pause must be called on the main UI thread.");
    }

    @Override
    public final void p() {
        ah.b("resume must be called on the main UI thread.");
    }

    @Override
    public final void q() {
    }

    @Override
    public final boolean r() {
        return false;
    }

    @Override
    public final String r_() {
        return null;
    }

    @Override
    public final bru s() {
        return null;
    }
}


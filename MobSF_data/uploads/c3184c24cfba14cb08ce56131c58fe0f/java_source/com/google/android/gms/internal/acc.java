/*
 * Decompiled with CFR 0_132.
 * 
 * Could not load the following classes:
 *  android.app.Application
 *  android.app.Application$ActivityLifecycleCallbacks
 *  android.content.ContentResolver
 *  android.content.Context
 *  android.content.pm.ApplicationInfo
 *  android.content.pm.PackageInfo
 *  android.content.pm.PackageManager
 *  android.content.pm.PackageManager$NameNotFoundException
 *  android.database.sqlite.SQLiteDatabase
 *  android.database.sqlite.SQLiteException
 *  android.net.Uri
 *  android.net.Uri$Builder
 *  android.os.Build
 *  android.os.Build$VERSION
 *  android.os.Bundle
 *  android.provider.Settings
 *  android.provider.Settings$Secure
 *  android.text.TextUtils
 *  android.util.Pair
 */
package com.google.android.gms.internal;

import android.app.Application;
import android.content.ContentResolver;
import android.content.Context;
import android.content.pm.ApplicationInfo;
import android.content.pm.PackageInfo;
import android.content.pm.PackageManager;
import android.database.sqlite.SQLiteDatabase;
import android.database.sqlite.SQLiteException;
import android.net.Uri;
import android.os.Build;
import android.os.Bundle;
import android.provider.Settings;
import android.text.TextUtils;
import android.util.Pair;
import com.google.android.gms.common.api.internal.az;
import com.google.android.gms.common.internal.ah;
import com.google.android.gms.common.util.f;
import com.google.android.gms.common.util.i;
import com.google.android.gms.internal.aab;
import com.google.android.gms.internal.aac;
import com.google.android.gms.internal.aad;
import com.google.android.gms.internal.aae;
import com.google.android.gms.internal.aai;
import com.google.android.gms.internal.aaj;
import com.google.android.gms.internal.aak;
import com.google.android.gms.internal.aal;
import com.google.android.gms.internal.aao;
import com.google.android.gms.internal.aaq;
import com.google.android.gms.internal.aas;
import com.google.android.gms.internal.aaw;
import com.google.android.gms.internal.aax;
import com.google.android.gms.internal.aaz;
import com.google.android.gms.internal.abb;
import com.google.android.gms.internal.abd;
import com.google.android.gms.internal.abf;
import com.google.android.gms.internal.abh;
import com.google.android.gms.internal.abj;
import com.google.android.gms.internal.abk;
import com.google.android.gms.internal.abm;
import com.google.android.gms.internal.abp;
import com.google.android.gms.internal.abr;
import com.google.android.gms.internal.abt;
import com.google.android.gms.internal.abw;
import com.google.android.gms.internal.abx;
import com.google.android.gms.internal.acd;
import com.google.android.gms.internal.ace;
import com.google.android.gms.internal.acf;
import com.google.android.gms.internal.acg;
import com.google.android.gms.internal.adb;
import com.google.android.gms.internal.adc;
import com.google.android.gms.internal.add;
import com.google.android.gms.internal.ade;
import com.google.android.gms.internal.adf;
import com.google.android.gms.internal.ads;
import com.google.android.gms.internal.adv;
import com.google.android.gms.internal.adz;
import com.google.android.gms.internal.aet;
import com.google.android.gms.internal.aez;
import com.google.android.gms.internal.aff;
import com.google.android.gms.internal.afh;
import com.google.android.gms.internal.afj;
import com.google.android.gms.internal.afk;
import com.google.android.gms.internal.afu;
import com.google.android.gms.internal.afx;
import com.google.android.gms.internal.afy;
import com.google.android.gms.internal.afz;
import com.google.android.gms.internal.aga;
import com.google.android.gms.internal.agb;
import com.google.android.gms.internal.agd;
import com.google.android.gms.internal.ye;
import com.google.android.gms.internal.zr;
import com.google.android.gms.internal.zv;
import com.google.android.gms.internal.zw;
import com.google.android.gms.internal.zy;
import com.google.android.gms.internal.zz;
import com.google.android.gms.measurement.AppMeasurement;
import com.google.firebase.analytics.FirebaseAnalytics;
import java.io.File;
import java.io.FileNotFoundException;
import java.io.IOException;
import java.io.RandomAccessFile;
import java.net.MalformedURLException;
import java.net.URL;
import java.nio.Buffer;
import java.nio.ByteBuffer;
import java.nio.channels.FileChannel;
import java.nio.channels.FileLock;
import java.security.SecureRandom;
import java.util.ArrayList;
import java.util.Collection;
import java.util.Iterator;
import java.util.List;
import java.util.Locale;
import java.util.Map;
import java.util.concurrent.Callable;
import java.util.concurrent.ExecutionException;
import java.util.concurrent.Future;
import java.util.concurrent.TimeUnit;
import java.util.concurrent.TimeoutException;
import java.util.concurrent.atomic.AtomicReference;

public class acc {
    private static volatile acc a;
    private boolean A;
    private Boolean B;
    private long C;
    private FileLock D;
    private FileChannel E;
    private List<Long> F;
    private List<Runnable> G;
    private int H;
    private int I;
    private long J;
    private long K;
    private boolean L;
    private boolean M;
    private boolean N;
    private final long O;
    private final Context b;
    private final aab c;
    private final abm d;
    private final abb e;
    private final abx f;
    private final aez g;
    private final abw h;
    private final AppMeasurement i;
    private final FirebaseAnalytics j;
    private final afk k;
    private final aaz l;
    private final abf m;
    private final f n;
    private final adv o;
    private final ade p;
    private final zr q;
    private aac r;
    private aax s;
    private adz t;
    private aai u;
    private aaw v;
    private abk w;
    private aff x;
    private zy y;
    private boolean z;

    private acc(add add2) {
        block2 : {
            String string2;
            Object object;
            block3 : {
                block1 : {
                    this.z = false;
                    ah.a(add2);
                    this.b = add2.a;
                    this.J = -1L;
                    this.n = i.d();
                    this.O = this.n.a();
                    this.c = new aab(this);
                    object = new abm(this);
                    object.R();
                    this.d = object;
                    object = new abb(this);
                    object.R();
                    this.e = object;
                    object = new afk(this);
                    object.R();
                    this.k = object;
                    object = new aaz(this);
                    object.R();
                    this.l = object;
                    this.q = new zr(this);
                    object = new abf(this);
                    object.R();
                    this.m = object;
                    object = new adv(this);
                    object.R();
                    this.o = object;
                    object = new ade(this);
                    object.R();
                    this.p = object;
                    this.i = new AppMeasurement(this);
                    this.j = new FirebaseAnalytics(this);
                    object = new aez(this);
                    object.R();
                    this.g = object;
                    object = new abw(this);
                    object.R();
                    this.h = object;
                    object = new abx(this);
                    object.R();
                    this.f = object;
                    if (!(this.b.getApplicationContext() instanceof Application)) break block1;
                    object = this.l();
                    if (!(object.l().getApplicationContext() instanceof Application)) break block2;
                    string2 = (Application)object.l().getApplicationContext();
                    if (object.a == null) {
                        object.a = new ads((ade)object, null);
                    }
                    string2.unregisterActivityLifecycleCallbacks((Application.ActivityLifecycleCallbacks)object.a);
                    string2.registerActivityLifecycleCallbacks((Application.ActivityLifecycleCallbacks)object.a);
                    object = object.t().E();
                    string2 = "Registered activity lifecycle callback";
                    break block3;
                }
                object = this.f().A();
                string2 = "Application context is not an Application";
            }
            object.a(string2);
        }
        this.f.a(new acd(this, add2));
    }

    static void D() {
        throw new IllegalStateException("Unexpected call on client side");
    }

    private final abk H() {
        if (this.w != null) {
            return this.w;
        }
        throw new IllegalStateException("Network broadcast receiver not created");
    }

    private final aff I() {
        acc.b(this.x);
        return this.x;
    }

    private final boolean J() {
        block5 : {
            void var1_4;
            String string2;
            abd abd2;
            block4 : {
                this.h().c();
                File file = new File(this.b.getFilesDir(), "google_app_measurement.db");
                this.E = new RandomAccessFile(file, "rw").getChannel();
                this.D = this.E.tryLock();
                if (this.D == null) break block4;
                this.f().E().a("Storage concurrent access okay");
                return true;
            }
            try {
                this.f().y().a("Storage concurrent data access panic");
                break block5;
            }
            catch (IOException iOException) {
                abd2 = this.f().y();
                string2 = "Failed to access storage lock file";
            }
            catch (FileNotFoundException fileNotFoundException) {
                abd2 = this.f().y();
                string2 = "Failed to acquire storage lock";
            }
            abd2.a(string2, var1_4);
        }
        return false;
    }

    private final long K() {
        long l2;
        long l3 = this.n.a();
        abm abm2 = this.e();
        abm2.Q();
        abm2.c();
        long l4 = l2 = abm2.g.a();
        if (l2 == 0L) {
            l4 = abm2.p().z().nextInt(86400000) + 1;
            abm2.g.a(l4);
        }
        return (l3 + l4) / 1000L / 60L / 60L / 24L;
    }

    private final boolean L() {
        this.h().c();
        this.a();
        if (!this.q().G() && TextUtils.isEmpty((CharSequence)this.q().B())) {
            return false;
        }
        return true;
    }

    /*
     * Unable to fully structure code
     * Enabled aggressive block sorting
     * Lifted jumps to return sites
     */
    private final void M() {
        block12 : {
            block15 : {
                block14 : {
                    block13 : {
                        this.h().c();
                        this.a();
                        if (!this.N()) {
                            return;
                        }
                        if (this.K > 0L) {
                            var2_1 = 3600000L - Math.abs(this.n.b() - this.K);
                            if (var2_1 > 0L) {
                                this.f().E().a("Upload has been suspended. Will update scheduling later in approximately ms", var2_1);
                                this.H().b();
                                this.I().y();
                                return;
                            }
                            this.K = 0L;
                        }
                        if (!this.b() || !this.L()) break block13;
                        var4_2 = this.n.a();
                        var2_1 = Math.max(0L, aaq.G.b());
                        var1_3 = !this.q().H() && !this.q().C() ? 0 : 1;
                        var14_4 = var1_3 != 0 ? (!TextUtils.isEmpty((CharSequence)(var14_4 = this.c.A())) && !".none.".equals(var14_4) ? aaq.B : aaq.A) : aaq.z;
                        var10_5 = Math.max(0L, (Long)var14_4.b());
                        var12_6 = this.e().c.a();
                        var6_7 = this.e().d.a();
                        var8_8 = Math.max(this.q().E(), this.q().F());
                        if (var8_8 == 0L) break block14;
                        var8_8 = var4_2 - Math.abs(var8_8 - var4_2);
                        var12_6 = Math.abs(var12_6 - var4_2);
                        var6_7 = var4_2 - Math.abs(var6_7 - var4_2);
                        var12_6 = Math.max(var4_2 - var12_6, var6_7);
                        var4_2 = var2_1 += var8_8;
                        if (var1_3 != 0) {
                            var4_2 = var2_1;
                            if (var12_6 > 0L) {
                                var4_2 = Math.min(var8_8, var12_6) + var10_5;
                            }
                        }
                        if (!this.o().a(var12_6, var10_5)) {
                            var4_2 = var12_6 + var10_5;
                        }
                        var2_1 = var4_2;
                        if (var6_7 == 0L) break block12;
                        var2_1 = var4_2;
                        if (var6_7 < var8_8) break block12;
                        var2_1 = var4_2;
                        var1_3 = 0;
                        break block15;
                    }
                    this.f().E().a("Nothing to upload or uploading impossible");
                    this.H().b();
                    this.I().y();
                    return;
                }
                do {
                    var2_1 = 0L;
                    break block12;
                    break;
                } while (true);
            }
            do {
                if (var1_3 >= Math.min(20, Math.max(0, aaq.I.b()))) ** continue;
                var4_2 = 1 << var1_3;
                if ((var2_1 += Math.max(0L, aaq.H.b()) * var4_2) > var6_7) break;
                ++var1_3;
            } while (true);
        }
        if (var2_1 == 0L) {
            this.f().E().a("Next upload time is 0");
            this.H().b();
            this.I().y();
            return;
        }
        if (!this.s().y()) {
            this.f().E().a("No network");
            this.H().a();
            this.I().y();
            return;
        }
        var6_7 = this.e().e.a();
        var8_8 = Math.max(0L, aaq.x.b());
        var4_2 = var2_1;
        if (!this.o().a(var6_7, var8_8)) {
            var4_2 = Math.max(var2_1, var6_7 + var8_8);
        }
        this.H().b();
        var2_1 = var4_2 -= this.n.a();
        if (var4_2 <= 0L) {
            var2_1 = Math.max(0L, aaq.C.b());
            this.e().c.a(this.n.a());
        }
        this.f().E().a("Upload scheduled in approximately ms", var2_1);
        this.I().a(var2_1);
    }

    private final boolean N() {
        this.h().c();
        this.a();
        if (this.A) {
            return true;
        }
        return false;
    }

    private final void O() {
        this.h().c();
        if (!(this.L || this.M || this.N)) {
            this.f().E().a("Stopping uploading service(s)");
            if (this.G == null) {
                return;
            }
            Iterator<Runnable> iterator = this.G.iterator();
            while (iterator.hasNext()) {
                iterator.next().run();
            }
            this.G.clear();
            return;
        }
        this.f().E().a("Not stopping services. fetch, network, upload", this.L, this.M, this.N);
    }

    /*
     * Enabled force condition propagation
     * Lifted jumps to return sites
     */
    private final int a(FileChannel fileChannel) {
        this.h().c();
        if (fileChannel != null && fileChannel.isOpen()) {
            ByteBuffer byteBuffer;
            block5 : {
                int n2;
                byteBuffer = ByteBuffer.allocate(4);
                try {
                    fileChannel.position(0L);
                    n2 = fileChannel.read(byteBuffer);
                    if (n2 == 4) break block5;
                    if (n2 == -1) return 0;
                }
                catch (IOException iOException) {
                    this.f().y().a("Failed to read from channel", iOException);
                    return 0;
                }
                this.f().A().a("Unexpected data length. Bytes read", n2);
                return 0;
            }
            byteBuffer.flip();
            return byteBuffer.getInt();
        }
        this.f().y().a("Bad channel to read from");
        return 0;
    }

    /*
     * Enabled aggressive block sorting
     * Enabled unnecessary exception pruning
     * Enabled aggressive exception aggregation
     */
    public static acc a(Context context) {
        ah.a(context);
        ah.a(context.getApplicationContext());
        if (a != null) return a;
        synchronized (acc.class) {
            if (a != null) return a;
            a = new acc(new add(context));
            return a;
        }
    }

    /*
     * Enabled aggressive block sorting
     * Enabled unnecessary exception pruning
     * Enabled aggressive exception aggregation
     */
    private final zw a(Context context, String string2, String string3, boolean bl2, boolean bl3) {
        String string4;
        void var7_14;
        int n2;
        String string5;
        block10 : {
            string5 = "Unknown";
            string4 = "Unknown";
            PackageManager packageManager = context.getPackageManager();
            if (packageManager == null) {
                this.f().y().a("PackageManager is null, can not log app install information");
                return null;
            }
            try {
                String string6;
                string5 = string6 = packageManager.getInstallerPackageName(string2);
                break block10;
            }
            catch (IllegalArgumentException illegalArgumentException) {}
            this.f().y().a("Error retrieving installer package name. appId", abb.a(string2));
        }
        if (string5 == null) {
            String string7 = "manual_install";
        } else {
            String string8 = string5;
            if ("com.android.vending".equals(string5)) {
                String string9 = "";
            }
        }
        String string10 = string4;
        try {
            PackageInfo packageInfo = ye.a(context).b(string2, 0);
            if (packageInfo != null) {
                string10 = string4;
                CharSequence charSequence = ye.a(context).b(string2);
                string5 = string4;
                string10 = string4;
                if (!TextUtils.isEmpty((CharSequence)charSequence)) {
                    string10 = string4;
                    string5 = charSequence.toString();
                }
                string10 = string5;
                string4 = packageInfo.versionName;
                string10 = string5;
                n2 = packageInfo.versionCode;
                string5 = string4;
                return new zw(string2, string3, string5, n2, (String)var7_14, 12211L, this.o().b(context, string2), null, bl2, false, "", 0L, 0L, 0, bl3);
            }
            string5 = "Unknown";
            n2 = Integer.MIN_VALUE;
        }
        catch (PackageManager.NameNotFoundException nameNotFoundException) {}
        return new zw(string2, string3, string5, n2, (String)var7_14, 12211L, this.o().b(context, string2), null, bl2, false, "", 0L, 0L, 0, bl3);
        this.f().y().a("Error retrieving newly installed package info. appId, appName", abb.a(string2), string10);
        return null;
    }

    static /* synthetic */ void a(acc acc2, add add2) {
        acc2.a(add2);
    }

    private static void a(adb adb2) {
        if (adb2 != null) {
            return;
        }
        throw new IllegalStateException("Component not created");
    }

    private final void a(add object) {
        this.h().c();
        object = new aai(this);
        object.R();
        this.u = object;
        object = new aaw(this);
        object.R();
        this.v = object;
        Object object2 = new aac(this);
        object2.R();
        this.r = object2;
        object2 = new aax(this);
        object2.R();
        this.s = object2;
        object2 = new zy(this);
        object2.R();
        this.y = object2;
        object2 = new adz(this);
        object2.R();
        this.t = object2;
        object2 = new aff(this);
        object2.R();
        this.x = object2;
        this.w = new abk(this);
        this.k.S();
        this.d.S();
        this.v.S();
        this.f().C().a("App measurement is starting up, version", 12211L);
        this.f().C().a("To enable debug logging run: adb shell setprop log.tag.FA VERBOSE");
        object = object.z();
        if (this.o().i((String)object)) {
            object2 = this.f().C();
            object = "Faster debug mode event logging enabled. To disable, run:\n  adb shell setprop debug.firebase.analytics.app .none.";
        } else {
            object2 = this.f().C();
            object = (object = String.valueOf(object)).length() != 0 ? "To enable faster debug mode event logging run:\n  adb shell setprop debug.firebase.analytics.app ".concat((String)object) : new String("To enable faster debug mode event logging run:\n  adb shell setprop debug.firebase.analytics.app ");
        }
        object2.a((String)object);
        this.f().D().a("Debug-level message logging enabled");
        if (this.H != this.I) {
            this.f().y().a("Not all components initialized", this.H, this.I);
        }
        this.z = true;
    }

    /*
     * Enabled aggressive block sorting
     * Enabled unnecessary exception pruning
     * Enabled aggressive exception aggregation
     */
    private final void a(zv zv2) {
        this.h().c();
        if (TextUtils.isEmpty((CharSequence)zv2.d())) {
            this.a(zv2.b(), 204, null, null, null);
            return;
        }
        Object object = zv2.d();
        String string2 = zv2.c();
        Object object2 = new Uri.Builder();
        Object object3 = object2.scheme(aaq.k.b()).encodedAuthority(aaq.l.b());
        object = (object = String.valueOf(object)).length() != 0 ? "config/app/".concat((String)object) : new String("config/app/");
        object3.path((String)object).appendQueryParameter("app_instance_id", string2).appendQueryParameter("platform", "android").appendQueryParameter("gmp_version", "12211");
        string2 = object2.build().toString();
        try {
            object2 = new URL(string2);
            this.f().E().a("Fetching remote configuration", zv2.b());
            object = this.j().a(zv2.b());
            object3 = this.j().b(zv2.b());
            if (object != null && !TextUtils.isEmpty((CharSequence)object3)) {
                object = new android.support.v4.g.a<String, Object>();
                object.put("If-Modified-Since", object3);
            } else {
                object = null;
            }
            this.L = true;
            object3 = this.s();
            String string3 = zv2.b();
            acg acg2 = new acg(this);
            object3.c();
            object3.Q();
            ah.a(object2);
            ah.a(acg2);
            object3.s().b(new abj((abf)object3, string3, (URL)object2, null, object, (abh)acg2));
            return;
        }
        catch (MalformedURLException malformedURLException) {}
        this.f().y().a("Failed to parse config URL. Not fetching. appId", abb.a(zv2.b()), string2);
    }

    private final boolean a(int n2, FileChannel fileChannel) {
        this.h().c();
        if (fileChannel != null && fileChannel.isOpen()) {
            ByteBuffer byteBuffer = ByteBuffer.allocate(4);
            byteBuffer.putInt(n2);
            byteBuffer.flip();
            try {
                fileChannel.truncate(0L);
                fileChannel.write(byteBuffer);
                fileChannel.force(true);
                if (fileChannel.size() != 4L) {
                    this.f().y().a("Error writing to channel. Bytes written", fileChannel.size());
                }
                return true;
            }
            catch (IOException iOException) {
                this.f().y().a("Failed to write to channel", iOException);
                return false;
            }
        }
        this.f().y().a("Bad channel to read from");
        return false;
    }

    private static boolean a(afy arrafz, String string2, Object object) {
        if (!TextUtils.isEmpty((CharSequence)string2)) {
            if (object == null) {
                return false;
            }
            for (afz afz2 : arrafz.a) {
                if (!string2.equals(afz2.a)) continue;
                if (object instanceof Long && object.equals(afz2.c) || object instanceof String && object.equals(afz2.b) || object instanceof Double && object.equals(afz2.d)) {
                    return true;
                }
                return false;
            }
        }
        return false;
    }

    /*
     * Exception decompiling
     */
    private final boolean a(String var1_1, long var2_13) {
        // This method has failed to decompile.  When submitting a bug report, please provide this stack trace, and (if you hold appropriate legal rights) the relevant class file.
        // java.lang.IllegalStateException: Backjump on non jumping statement [] lbl43 : TryStatement: try { 4[TRYBLOCK]

        // org.benf.cfr.reader.bytecode.analysis.opgraph.op3rewriters.Cleaner$1.call(Cleaner.java:44)
        // org.benf.cfr.reader.bytecode.analysis.opgraph.op3rewriters.Cleaner$1.call(Cleaner.java:22)
        // org.benf.cfr.reader.util.graph.GraphVisitorDFS.process(GraphVisitorDFS.java:67)
        // org.benf.cfr.reader.bytecode.analysis.opgraph.op3rewriters.Cleaner.removeUnreachableCode(Cleaner.java:54)
        // org.benf.cfr.reader.bytecode.analysis.opgraph.op3rewriters.RemoveDeterministicJumps.apply(RemoveDeterministicJumps.java:35)
        // org.benf.cfr.reader.bytecode.CodeAnalyser.getAnalysisInner(CodeAnalyser.java:497)
        // org.benf.cfr.reader.bytecode.CodeAnalyser.getAnalysisOrWrapFail(CodeAnalyser.java:196)
        // org.benf.cfr.reader.bytecode.CodeAnalyser.getAnalysis(CodeAnalyser.java:141)
        // org.benf.cfr.reader.entities.attributes.AttributeCode.analyse(AttributeCode.java:95)
        // org.benf.cfr.reader.entities.Method.analyse(Method.java:372)
        // org.benf.cfr.reader.entities.ClassFile.analyseMid(ClassFile.java:867)
        // org.benf.cfr.reader.entities.ClassFile.analyseTop(ClassFile.java:768)
        // org.benf.cfr.reader.Main.doJar(Main.java:141)
        // org.benf.cfr.reader.Main.main(Main.java:242)
        throw new IllegalStateException("Decompilation failed");
    }

    /*
     * Unable to fully structure code
     * Enabled aggressive block sorting
     * Enabled unnecessary exception pruning
     * Enabled aggressive exception aggregation
     * Lifted jumps to return sites
     */
    private final boolean a(String var1_1, aao var2_2) {
        var12_3 = var2_2.b.d("currency");
        if (!"ecommerce_purchase".equals(var2_2.a)) ** GOTO lbl11
        var3_5 = var5_4 = var2_2.b.c("value") * 1000000.0;
        if (var5_4 == 0.0) {
            var3_5 = (double)var2_2.b.b("value").longValue() * 1000000.0;
        }
        if (var3_5 <= 9.223372036854776E18 && var3_5 >= -9.223372036854776E18) {
            var8_6 = Math.round(var3_5);
        } else {
            this.f().A().a("Data lost. Currency value is too big. appId", abb.a(var1_1), var3_5);
            return false;
lbl11: // 1 sources:
            var8_6 = var2_2.b.b("value");
        }
        if (TextUtils.isEmpty((CharSequence)var12_3) != false) return true;
        var13_7 = var12_3.toUpperCase(Locale.US);
        if (var13_7.matches("[A-Z]{3}") == false) return true;
        var12_3 = String.valueOf("_ltv_");
        var12_3 = (var13_7 = String.valueOf(var13_7)).length() != 0 ? var12_3.concat((String)var13_7) : new String(var12_3);
        var13_7 = this.q().c(var1_1, var12_3);
        if (var13_7 != null && var13_7.e instanceof Long) {
            var10_8 = (Long)var13_7.e;
            var2_2 = new afj(var1_1, var2_2.c, var12_3, this.n.a(), var10_8 + var8_6);
        } else {
            var13_7 = this.q();
            var7_9 = this.c.b(var1_1, aaq.K);
            ah.a(var1_1);
            var13_7.c();
            var13_7.Q();
            try {
                var13_7.A().execSQL("delete from user_attributes where app_id=? and name in (select name from user_attributes where app_id=? and name like '_ltv_%' order by set_timestamp desc limit ?,10);", (Object[])new String[]{var1_1, var1_1, String.valueOf(var7_9 - 1)});
            }
            catch (SQLiteException var14_10) {
                var13_7.t().y().a("Error pruning currencies. appId", abb.a(var1_1), (Object)var14_10);
            }
            var2_2 = new afj(var1_1, var2_2.c, var12_3, this.n.a(), var8_6);
        }
        if (this.q().a((afj)var2_2) != false) return true;
        this.f().y().a("Too many unique user properties are set. Ignoring user property. appId", abb.a(var1_1), this.p().c(var2_2.c), var2_2.e);
        this.o().a(var1_1, 9, null, null, 0);
        return true;
    }

    private final afx[] a(String string2, agd[] arragd, afy[] arrafy) {
        ah.a(string2);
        return this.z().a(string2, arrafy, arragd);
    }

    /*
     * Enabled aggressive block sorting
     * Lifted jumps to return sites
     */
    private final zw b(String object) {
        Object object2 = object;
        Object object3 = this.q().b((String)object2);
        if (object3 != null && !TextUtils.isEmpty((CharSequence)object3.i())) {
            object2 = this.b((zv)object3);
            if (object2 == null) return new zw((String)object, object3.d(), object3.i(), object3.j(), object3.k(), object3.l(), object3.m(), null, object3.n(), false, object3.f(), object3.A(), 0L, 0, object3.B());
            if (object2.booleanValue()) return new zw((String)object, object3.d(), object3.i(), object3.j(), object3.k(), object3.l(), object3.m(), null, object3.n(), false, object3.f(), object3.A(), 0L, 0, object3.B());
            object2 = this.f().y();
            object3 = "App version does not match; dropping. appId";
            Object object4 = abb.a((String)object);
            object = object2;
            object2 = object4;
        } else {
            object = this.f().D();
            object3 = "No app data available; dropping";
        }
        object.a((String)object3, object2);
        return null;
    }

    /*
     * Enabled force condition propagation
     * Lifted jumps to return sites
     */
    private final Boolean b(zv zv2) {
        try {
            if (zv2.j() != Integer.MIN_VALUE) {
                int n2 = ye.a((Context)this.b).b((String)zv2.b(), (int)0).versionCode;
                if (zv2.j() != (long)n2) return false;
                return true;
            }
            String string2 = ye.a((Context)this.b).b((String)zv2.b(), (int)0).versionName;
            if (zv2.i() == null || !zv2.i().equals(string2)) return false;
        }
        catch (PackageManager.NameNotFoundException nameNotFoundException) {
            return null;
        }
        return true;
    }

    /*
     * Unable to fully structure code
     * Enabled aggressive block sorting
     * Enabled unnecessary exception pruning
     * Enabled aggressive exception aggregation
     * Lifted jumps to return sites
     */
    private final void b(aao var1_1, zw var2_3) {
        block43 : {
            block41 : {
                block42 : {
                    block45 : {
                        block44 : {
                            block40 : {
                                block39 : {
                                    block38 : {
                                        block37 : {
                                            ah.a(var2_3);
                                            ah.a(var2_3.a);
                                            var5_5 = System.nanoTime();
                                            this.h().c();
                                            this.a();
                                            var12_6 = var2_3.a;
                                            this.o();
                                            if (!afk.a((aao)var1_1, (zw)var2_3)) {
                                                return;
                                            }
                                            if (!var2_3.h) {
                                                this.d((zw)var2_3);
                                                return;
                                            }
                                            var9_7 = this.j().b((String)var12_6, var1_1.a);
                                            var4_8 = true;
                                            if (var9_7) {
                                                this.f().A().a("Dropping blacklisted event. appId", abb.a((String)var12_6), this.p().a(var1_1.a));
                                                var3_9 = var4_8;
                                                if (!this.o().k((String)var12_6)) {
                                                    var3_9 = this.o().l((String)var12_6) != false ? var4_8 : false;
                                                }
                                                if (!var3_9) {
                                                    if ("_err".equals(var1_1.a) != false) return;
                                                    this.o().a((String)var12_6, 11, "_ev", var1_1.a, 0);
                                                }
                                                if (var3_9 == false) return;
                                                var1_1 = this.q().b((String)var12_6);
                                                if (var1_1 == null) return;
                                                var5_5 = Math.max(var1_1.q(), var1_1.p());
                                                if (Math.abs(this.n.a() - var5_5) <= aaq.F.b()) return;
                                                this.f().D().a("Fetching config for blacklisted app");
                                                this.a((zv)var1_1);
                                                return;
                                            }
                                            if (this.f().a(2)) {
                                                this.f().E().a("Logging event", this.p().a((aao)var1_1));
                                            }
                                            this.q().x();
                                            this.d((zw)var2_3);
                                            if (("_iap".equals(var1_1.a) || "ecommerce_purchase".equals(var1_1.a)) && !this.a((String)var12_6, (aao)var1_1)) {
                                                this.q().y();
                                                this.q().z();
                                                return;
                                            }
                                            var9_7 = afk.a(var1_1.a);
                                            var10_11 = "_err".equals(var1_1.a);
                                            var13_12 = this.q().a(this.K(), (String)var12_6, true, var9_7, false, var10_11, false);
                                            var7_13 = var13_12.b - (long)aaq.q.b().intValue();
                                            if (var7_13 <= 0L) break block37;
                                            if (var7_13 % 1000L != 1L) ** GOTO lbl48
                                            this.f().y().a("Data loss. Too many events logged. appId, count", abb.a((String)var12_6), var13_12.b);
lbl48: // 2 sources:
                                            this.q().y();
                                            return;
                                        }
                                        if (!var9_7) break block38;
                                        var7_13 = var13_12.a - (long)aaq.s.b().intValue();
                                        if (var7_13 <= 0L) break block38;
                                        if (var7_13 % 1000L != 1L) ** GOTO lbl58
                                        this.f().y().a("Data loss. Too many public events logged. appId, count", abb.a((String)var12_6), var13_12.a);
lbl58: // 2 sources:
                                        this.o().a((String)var12_6, 16, "_ev", var1_1.a, 0);
                                        this.q().y();
                                        this.q().z();
                                        return;
                                    }
                                    if (var10_11) {
                                        var7_13 = var13_12.d - (long)Math.max(0, Math.min(1000000, this.c.b(var2_3.a, aaq.r)));
                                        if (var7_13 <= 0L) break block39;
                                        if (var7_13 == 1L) {
                                            this.f().y().a("Too many error events logged. appId, count", abb.a((String)var12_6), var13_12.d);
                                        }
                                        this.q().y();
                                        this.q().z();
                                        return;
                                    }
                                }
                                var10_11 = false;
                                var13_12 = var1_1.b.b();
                                this.o().a((Bundle)var13_12, "_o", (Object)var1_1.c);
                                if (this.o().i((String)var12_6)) {
                                    this.o().a((Bundle)var13_12, "_dbg", 1L);
                                    this.o().a((Bundle)var13_12, "_r", 1L);
                                }
                                if ((var7_13 = this.q().c((String)var12_6)) > 0L) {
                                    this.f().A().a("Data lost. Too many events stored on disk, deleted. appId", abb.a((String)var12_6), var7_13);
                                }
                                var1_1 = new aaj(this, var1_1.c, (String)var12_6, var1_1.a, var1_1.d, 0L, (Bundle)var13_12);
                                var13_12 = this.q().a((String)var12_6, var1_1.b);
                                if (var13_12 != null) ** GOTO lbl94
                                if (this.q().f((String)var12_6) < 500L || !var9_7) break block40;
                                this.f().y().a("Too many event names used, ignoring event. appId, name, supported count", abb.a((String)var12_6), this.p().a(var1_1.b), 500);
                                this.o().a((String)var12_6, 8, null, null, 0);
                                this.q().z();
                                return;
                            }
                            var12_6 = new aak((String)var12_6, var1_1.b, 0L, 0L, var1_1.c, 0L, null, null, null);
                            break block44;
lbl94: // 1 sources:
                            var1_1 = var1_1.a(this, var13_12.e);
                            var12_6 = var13_12.a(var1_1.c);
                        }
                        this.q().a((aak)var12_6);
                        this.h().c();
                        this.a();
                        ah.a(var1_1);
                        ah.a(var2_3);
                        ah.a(var1_1.a);
                        ah.b(var1_1.a.equals(var2_3.a));
                        var14_14 = new agb();
                        var14_14.a = 1;
                        var14_14.i = "android";
                        var14_14.o = var2_3.a;
                        var14_14.n = var2_3.d;
                        var14_14.p = var2_3.c;
                        var12_6 = var2_3.j == Integer.MIN_VALUE ? null : Integer.valueOf((int)var2_3.j);
                        var14_14.C = var12_6;
                        var14_14.q = var2_3.e;
                        var14_14.y = var2_3.b;
                        var12_6 = var2_3.f == 0L ? null : Long.valueOf(var2_3.f);
                        var14_14.v = var12_6;
                        var12_6 = this.e().a(var2_3.a);
                        if (var12_6 != null && !TextUtils.isEmpty((CharSequence)((CharSequence)var12_6.first))) {
                            if (var2_3.o) {
                                var14_14.s = (String)var12_6.first;
                                var14_14.t = (Boolean)var12_6.second;
                            }
                        } else if (!this.x().a(this.b)) {
                            var13_12 = Settings.Secure.getString((ContentResolver)this.b.getContentResolver(), (String)"android_id");
                            if (var13_12 == null) {
                                this.f().A().a("null secure ID. appId", abb.a(var14_14.o));
                                var12_6 = "null";
                            } else {
                                var12_6 = var13_12;
                                if (var13_12.isEmpty()) {
                                    this.f().A().a("empty secure ID. appId", abb.a(var14_14.o));
                                    var12_6 = var13_12;
                                }
                            }
                            var14_14.D = var12_6;
                        }
                        this.x().Q();
                        var14_14.k = Build.MODEL;
                        this.x().Q();
                        var14_14.j = Build.VERSION.RELEASE;
                        var14_14.m = (int)this.x().x();
                        var14_14.l = this.x().y();
                        var14_14.r = null;
                        var14_14.d = null;
                        var14_14.e = null;
                        var14_14.f = null;
                        var14_14.F = var2_3.l;
                        if (this.B() && aab.B()) {
                            var14_14.G = null;
                        }
                        var12_6 = var13_12 = this.q().b(var2_3.a);
                        if (var13_12 == null) {
                            var12_6 = new zv(this, var2_3.a);
                            var12_6.a(this.y().y());
                            var12_6.d(var2_3.k);
                            var12_6.b(var2_3.b);
                            var12_6.c(this.e().b(var2_3.a));
                            var12_6.f(0L);
                            var12_6.a(0L);
                            var12_6.b(0L);
                            var12_6.e(var2_3.c);
                            var12_6.c(var2_3.j);
                            var12_6.f(var2_3.d);
                            var12_6.d(var2_3.e);
                            var12_6.e(var2_3.f);
                            var12_6.a(var2_3.h);
                            var12_6.o(var2_3.l);
                            this.q().a((zv)var12_6);
                        }
                        var14_14.u = var12_6.c();
                        var14_14.B = var12_6.f();
                        var2_3 = this.q().a(var2_3.a);
                        var14_14.c = new agd[var2_3.size()];
                        break block45;
                        finally {
                            this.q().z();
                        }
                    }
                    for (var3_10 = 0; var3_10 < var2_3.size(); ++var3_10) {
                        var14_14.c[var3_10] = var12_6 = new agd();
                        var12_6.b = ((afj)var2_3.get((int)var3_10)).c;
                        var12_6.a = ((afj)var2_3.get((int)var3_10)).d;
                        this.o().a((agd)var12_6, ((afj)var2_3.get((int)var3_10)).e);
                    }
                    try {
                        try {
                            var7_13 = this.q().a(var14_14);
                            var2_3 = this.q();
                            var9_7 = var10_11;
                            if (var1_1.e == null) break block41;
                            var12_6 = var1_1.e.iterator();
                        }
                        catch (IOException var2_4) {
                            this.f().y().a("Data loss. Failed to insert raw event metadata. appId", abb.a(var14_14.o), var2_4);
                            break block43;
                        }
                        while (var12_6.hasNext()) {
                            if (!"_r".equals((String)var12_6.next())) continue;
                            break block42;
                        }
                        var11_15 = this.j().c(var1_1.a, var1_1.b);
                        var12_6 = this.q().a(this.K(), var1_1.a, false, false, false, false, false);
                        var9_7 = var10_11;
                        if (!var11_15) break block41;
                        var9_7 = var10_11;
                        if (var12_6.e >= (long)this.c.a(var1_1.a)) break block41;
                        break block42;
                    }
                    catch (Throwable var1_2) {}
                    throw var1_2;
                }
                var9_7 = true;
            }
            if (var2_3.a((aaj)var1_1, var7_13, var9_7)) {
                this.K = 0L;
            }
        }
        this.q().y();
        if (this.f().a(2)) {
            this.f().E().a("Event recorded", this.p().a((aaj)var1_1));
        }
        this.q().z();
        this.M();
        this.f().E().a("Background event processing time, ms", (System.nanoTime() - var5_5 + 500000L) / 1000000L);
    }

    private static void b(adc object) {
        if (object != null) {
            if (object.P()) {
                return;
            }
            object = String.valueOf(object.getClass());
            StringBuilder stringBuilder = new StringBuilder(String.valueOf(object).length() + 27);
            stringBuilder.append("Component not initialized: ");
            stringBuilder.append((String)object);
            throw new IllegalStateException(stringBuilder.toString());
        }
        throw new IllegalStateException("Component not created");
    }

    /*
     * Unable to fully structure code
     * Enabled aggressive block sorting
     * Lifted jumps to return sites
     */
    private final void d(zw var1_1) {
        block19 : {
            this.h().c();
            this.a();
            ah.a(var1_1);
            ah.a(var1_1.a);
            var4_2 = this.q().b(var1_1.a);
            var5_3 = this.e().b(var1_1.a);
            if (var4_2 != null) break block19;
            var4_2 = new zv(this, var1_1.a);
            var4_2.a(this.y().y());
            var4_2.c(var5_3);
            ** GOTO lbl16
        }
        if (!var5_3.equals(var4_2.e())) {
            var4_2.c(var5_3);
            var4_2.a(this.y().y());
lbl16: // 2 sources:
            var3_4 = true;
        } else {
            var3_4 = false;
        }
        var2_5 = var3_4;
        if (!TextUtils.isEmpty((CharSequence)var1_1.b)) {
            var2_5 = var3_4;
            if (!var1_1.b.equals(var4_2.d())) {
                var4_2.b(var1_1.b);
                var2_5 = true;
            }
        }
        var3_4 = var2_5;
        if (!TextUtils.isEmpty((CharSequence)var1_1.k)) {
            var3_4 = var2_5;
            if (!var1_1.k.equals(var4_2.f())) {
                var4_2.d(var1_1.k);
                var3_4 = true;
            }
        }
        var2_5 = var3_4;
        if (var1_1.e != 0L) {
            var2_5 = var3_4;
            if (var1_1.e != var4_2.l()) {
                var4_2.d(var1_1.e);
                var2_5 = true;
            }
        }
        var3_4 = var2_5;
        if (!TextUtils.isEmpty((CharSequence)var1_1.c)) {
            var3_4 = var2_5;
            if (!var1_1.c.equals(var4_2.i())) {
                var4_2.e(var1_1.c);
                var3_4 = true;
            }
        }
        if (var1_1.j != var4_2.j()) {
            var4_2.c(var1_1.j);
            var3_4 = true;
        }
        var2_5 = var3_4;
        if (var1_1.d != null) {
            var2_5 = var3_4;
            if (!var1_1.d.equals(var4_2.k())) {
                var4_2.f(var1_1.d);
                var2_5 = true;
            }
        }
        if (var1_1.f != var4_2.m()) {
            var4_2.e(var1_1.f);
            var2_5 = true;
        }
        if (var1_1.h != var4_2.n()) {
            var4_2.a(var1_1.h);
            var2_5 = true;
        }
        var3_4 = var2_5;
        if (!TextUtils.isEmpty((CharSequence)var1_1.g)) {
            var3_4 = var2_5;
            if (!var1_1.g.equals(var4_2.y())) {
                var4_2.g(var1_1.g);
                var3_4 = true;
            }
        }
        if (var1_1.l != var4_2.A()) {
            var4_2.o(var1_1.l);
            var3_4 = true;
        }
        if (var1_1.o != var4_2.B()) {
            var4_2.b(var1_1.o);
            var3_4 = true;
            if (var3_4 == false) return;
        }
        this.q().a(var4_2);
    }

    public final zr A() {
        acc.a(this.q);
        return this.q;
    }

    public final boolean B() {
        this.h().c();
        this.a();
        boolean bl2 = this.c.x();
        boolean bl3 = false;
        if (bl2) {
            return false;
        }
        Boolean bl4 = this.c.b("firebase_analytics_collection_enabled");
        if (bl4 != null) {
            bl3 = bl4;
        } else if (!az.b()) {
            bl3 = true;
        }
        return this.e().c(bl3);
    }

    final long C() {
        Long l2 = this.e().h.a();
        if (l2 == 0L) {
            return this.O;
        }
        return Math.min(this.O, l2);
    }

    /*
     * Unable to fully structure code
     * Enabled aggressive block sorting
     * Enabled unnecessary exception pruning
     * Enabled aggressive exception aggregation
     * Lifted jumps to return sites
     */
    public final void E() {
        block35 : {
            block26 : {
                block27 : {
                    block28 : {
                        this.h().c();
                        this.a();
                        this.N = true;
                        try {
                            block34 : {
                                block32 : {
                                    block33 : {
                                        block30 : {
                                            block31 : {
                                                block29 : {
                                                    var7_1 = this.w().D();
                                                    if (var7_1 != null) break block29;
                                                    var7_1 = this.f().A();
                                                    var8_4 = "Upload data called on the client side before use of service was decided";
                                                    break block30;
                                                }
                                                if (!var7_1.booleanValue()) break block31;
                                                var7_1 = this.f().y();
                                                var8_4 = "Upload called in the client side when service should be used";
                                                break block30;
                                            }
                                            if (this.K > 0L) break block32;
                                            this.h().c();
                                            var1_6 = this.F != null ? 1 : 0;
                                            if (var1_6 == 0) break block33;
                                            var7_1 = this.f().E();
                                            var8_4 = "Uploading requested multiple times";
                                        }
                                        var7_1.a(var8_4);
                                        break block26;
                                    }
                                    if (this.s().y()) break block34;
                                    this.f().E().a("Network not connected, ignoring upload request");
                                }
                                this.M();
                                break block26;
                            }
                            var3_7 = this.n.a();
                            var5_8 = aab.z();
                            var9_9 = null;
                            this.a(null, var3_7 - var5_8);
                            var5_8 = this.e().c.a();
                            if (var5_8 != 0L) {
                                this.f().D().a("Uploading events. Elapsed time since last upload attempt (ms)", Math.abs(var3_7 - var5_8));
                            }
                            if (!TextUtils.isEmpty((CharSequence)(var11_10 = this.q().B()))) {
                                if (this.J == -1L) {
                                    this.J = this.q().I();
                                }
                                var1_6 = this.c.b(var11_10, aaq.m);
                                var2_11 = Math.max(0, this.c.b(var11_10, aaq.n));
                                var10_12 = this.q().a(var11_10, var1_6, var2_11);
                                if (var10_12.isEmpty()) break block26;
                                var7_1 = var10_12.iterator();
                                while (var7_1.hasNext()) {
                                    var8_5 = (agb)var7_1.next().first;
                                    if (TextUtils.isEmpty((CharSequence)var8_5.s)) continue;
                                    var8_5 = var8_5.s;
                                    break block27;
                                }
                                break block28;
                            }
                            this.J = -1L;
                            var7_1 = this.q().a(var3_7 - aab.z());
                            if (TextUtils.isEmpty((CharSequence)var7_1) || (var7_1 = this.q().b((String)var7_1)) == null) break block26;
                            this.a((zv)var7_1);
                            break block26;
                        }
                        catch (Throwable var7_2) {
                            this.N = false;
                            this.O();
                            throw var7_2;
                        }
                    }
                    var8_5 = null;
                }
                var7_1 = var10_12;
                if (var8_5 == null) ** GOTO lbl81
                break block35;
            }
lbl69: // 3 sources:
            do {
                this.N = false;
                this.O();
                return;
                break;
            } while (true);
        }
        var1_6 = 0;
        do {
            block37 : {
                block36 : {
                    var7_1 = var10_12;
                    if (var1_6 >= var10_12.size()) break block36;
                    var7_1 = (agb)((Pair)var10_12.get((int)var1_6)).first;
                    if (TextUtils.isEmpty((CharSequence)var7_1.s) || var7_1.s.equals(var8_5)) break block37;
                    var7_1 = var10_12.subList(0, var1_6);
                }
                var10_12 = new aga();
                var10_12.a = new agb[var7_1.size()];
                var8_5 = new ArrayList<Long>(var7_1.size());
                var1_6 = aab.B() != false && this.c.c(var11_10) != false ? 1 : 0;
            }
            ++var1_6;
        } while (true);
        var2_11 = 0;
        do {
            block39 : {
                block38 : {
                    if (var2_11 >= var10_12.a.length) break block38;
                    var10_12.a[var2_11] = (agb)((Pair)var7_1.get((int)var2_11)).first;
                    var8_5.add((Long)((Pair)var7_1.get((int)var2_11)).second);
                    var10_12.a[var2_11].r = 12211L;
                    var10_12.a[var2_11].d = var3_7;
                    var10_12.a[var2_11].z = false;
                    if (var1_6 == 0) {
                        var10_12.a[var2_11].G = null;
                    }
                    break block39;
                }
                var7_1 = var9_9;
                if (this.f().a(2)) {
                    var7_1 = this.p().a((aga)var10_12);
                }
                var12_13 = this.o().a((aga)var10_12);
                var9_9 = aaq.w.b();
                try {
                    var13_14 = new URL(var9_9);
                    ah.b(var8_5.isEmpty() ^ true);
                    if (this.F != null) {
                        this.f().y().a("Set uploading progress before finishing the previous upload");
                    } else {
                        this.F = new ArrayList<Long>((Collection<Long>)var8_5);
                    }
                    this.e().d.a(var3_7);
                    var8_5 = "?";
                    if (var10_12.a.length > 0) {
                        var8_5 = var10_12.a[0].o;
                    }
                    this.f().E().a("Uploading data. app, uncompressed size, data", var8_5, var12_13.length, var7_1);
                    this.M = true;
                    var7_1 = this.s();
                    var8_5 = new acf(this);
                    var7_1.c();
                    var7_1.Q();
                    ah.a(var13_14);
                    ah.a(var12_13);
                    ah.a(var8_5);
                    var7_1.s().b(new abj((abf)var7_1, var11_10, var13_14, var12_13, null, (abh)var8_5));
                    ** GOTO lbl69
                }
                catch (MalformedURLException var7_3) {}
                this.f().y().a("Failed to parse upload URL. Not uploading. appId", abb.a(var11_10), var9_9);
                ** continue;
            }
            ++var2_11;
        } while (true);
    }

    final void F() {
        ++this.I;
    }

    /*
     * Enabled aggressive block sorting
     */
    final void G() {
        block5 : {
            block6 : {
                int n2;
                abd abd2;
                int n3;
                String string2;
                block8 : {
                    block7 : {
                        this.h().c();
                        this.a();
                        if (this.A) break block5;
                        this.f().C().a("This instance being marked as an uploader");
                        this.h().c();
                        this.a();
                        if (!this.N() || !this.J()) break block6;
                        n2 = this.a(this.E);
                        n3 = this.y().B();
                        this.h().c();
                        if (n2 <= n3) break block7;
                        abd2 = this.f().y();
                        string2 = "Panic: can't downgrade version. Previous, current version";
                        break block8;
                    }
                    if (n2 >= n3) break block6;
                    if (this.a(n3, this.E)) {
                        abd2 = this.f().E();
                        string2 = "Storage version upgraded. Previous, current version";
                    } else {
                        abd2 = this.f().y();
                        string2 = "Storage version upgrade failed. Previous, current version";
                    }
                }
                abd2.a(string2, n2, n3);
            }
            this.A = true;
            this.M();
        }
    }

    public final String a(String string2) {
        Object object = this.h().a(new ace(this, string2));
        try {
            object = (String)object.get(30000L, TimeUnit.MILLISECONDS);
            return object;
        }
        catch (InterruptedException | ExecutionException | TimeoutException exception) {
            this.f().y().a("Failed to get app instance id. appId", abb.a(string2), exception);
            return null;
        }
    }

    final void a() {
        if (this.z) {
            return;
        }
        throw new IllegalStateException("AppMeasurement is not initialized");
    }

    /*
     * Exception decompiling
     */
    protected final void a(int var1_1, Throwable var2_2, byte[] var3_6) {
        // This method has failed to decompile.  When submitting a bug report, please provide this stack trace, and (if you hold appropriate legal rights) the relevant class file.
        // org.benf.cfr.reader.util.ConfusedCFRException: Started 2 blocks at once
        // org.benf.cfr.reader.bytecode.analysis.opgraph.Op04StructuredStatement.getStartingBlocks(Op04StructuredStatement.java:393)
        // org.benf.cfr.reader.bytecode.analysis.opgraph.Op04StructuredStatement.buildNestedBlocks(Op04StructuredStatement.java:471)
        // org.benf.cfr.reader.bytecode.analysis.opgraph.Op03SimpleStatement.createInitialStructuredBlock(Op03SimpleStatement.java:2960)
        // org.benf.cfr.reader.bytecode.CodeAnalyser.getAnalysisInner(CodeAnalyser.java:818)
        // org.benf.cfr.reader.bytecode.CodeAnalyser.getAnalysisOrWrapFail(CodeAnalyser.java:196)
        // org.benf.cfr.reader.bytecode.CodeAnalyser.getAnalysis(CodeAnalyser.java:141)
        // org.benf.cfr.reader.entities.attributes.AttributeCode.analyse(AttributeCode.java:95)
        // org.benf.cfr.reader.entities.Method.analyse(Method.java:372)
        // org.benf.cfr.reader.entities.ClassFile.analyseMid(ClassFile.java:867)
        // org.benf.cfr.reader.entities.ClassFile.analyseTop(ClassFile.java:768)
        // org.benf.cfr.reader.Main.doJar(Main.java:141)
        // org.benf.cfr.reader.Main.main(Main.java:242)
        throw new IllegalStateException("Decompilation failed");
    }

    /*
     * Exception decompiling
     */
    final void a(aao var1_1, zw var2_3) {
        // This method has failed to decompile.  When submitting a bug report, please provide this stack trace, and (if you hold appropriate legal rights) the relevant class file.
        // org.benf.cfr.reader.util.ConfusedCFRException: Tried to end blocks [8[FORLOOP]], but top level block is 2[TRYBLOCK]
        // org.benf.cfr.reader.bytecode.analysis.opgraph.Op04StructuredStatement.processEndingBlocks(Op04StructuredStatement.java:416)
        // org.benf.cfr.reader.bytecode.analysis.opgraph.Op04StructuredStatement.buildNestedBlocks(Op04StructuredStatement.java:468)
        // org.benf.cfr.reader.bytecode.analysis.opgraph.Op03SimpleStatement.createInitialStructuredBlock(Op03SimpleStatement.java:2960)
        // org.benf.cfr.reader.bytecode.CodeAnalyser.getAnalysisInner(CodeAnalyser.java:818)
        // org.benf.cfr.reader.bytecode.CodeAnalyser.getAnalysisOrWrapFail(CodeAnalyser.java:196)
        // org.benf.cfr.reader.bytecode.CodeAnalyser.getAnalysis(CodeAnalyser.java:141)
        // org.benf.cfr.reader.entities.attributes.AttributeCode.analyse(AttributeCode.java:95)
        // org.benf.cfr.reader.entities.Method.analyse(Method.java:372)
        // org.benf.cfr.reader.entities.ClassFile.analyseMid(ClassFile.java:867)
        // org.benf.cfr.reader.entities.ClassFile.analyseTop(ClassFile.java:768)
        // org.benf.cfr.reader.Main.doJar(Main.java:141)
        // org.benf.cfr.reader.Main.main(Main.java:242)
        throw new IllegalStateException("Decompilation failed");
    }

    final void a(aao aao2, String string2) {
        zv zv2 = this.q().b(string2);
        if (zv2 != null && !TextUtils.isEmpty((CharSequence)zv2.i())) {
            Boolean bl2 = this.b(zv2);
            if (bl2 == null) {
                if (!"_ui".equals(aao2.a)) {
                    this.f().A().a("Could not find package. appId", abb.a(string2));
                }
            } else if (!bl2.booleanValue()) {
                this.f().y().a("App version does not match; dropping event. appId", abb.a(string2));
                return;
            }
            this.a(aao2, new zw(string2, zv2.d(), zv2.i(), zv2.j(), zv2.k(), zv2.l(), zv2.m(), null, zv2.n(), false, zv2.f(), zv2.A(), 0L, 0, zv2.B()));
            return;
        }
        this.f().D().a("No app data available; dropping event", string2);
    }

    final void a(adc adc2) {
        ++this.H;
    }

    final void a(afh object, zw zw2) {
        this.h().c();
        this.a();
        if (TextUtils.isEmpty((CharSequence)zw2.b)) {
            return;
        }
        if (!zw2.h) {
            this.d(zw2);
            return;
        }
        int n2 = this.o().d(object.a);
        if (n2 != 0) {
            this.o();
            String string2 = afk.a(object.a, 24, true);
            int n3 = object.a != null ? object.a.length() : 0;
            this.o().a(zw2.a, n2, "_ev", string2, n3);
            return;
        }
        n2 = this.o().b(object.a, object.a());
        if (n2 != 0) {
            this.o();
            String string3 = afk.a(object.a, 24, true);
            object = object.a();
            int n4 = object != null && (object instanceof String || object instanceof CharSequence) ? String.valueOf(object).length() : 0;
            this.o().a(zw2.a, n2, "_ev", string3, n4);
            return;
        }
        Object object2 = this.o().c(object.a, object.a());
        if (object2 == null) {
            return;
        }
        object = new afj(zw2.a, object.c, object.a, object.b, object2);
        this.f().D().a("Setting user property", this.p().c(object.c), object2);
        this.q().x();
        try {
            this.d(zw2);
            boolean bl2 = this.q().a((afj)object);
            this.q().y();
            if (bl2) {
                this.f().D().a("User property set", this.p().c(object.c), object.e);
            } else {
                this.f().y().a("Too many unique user properties are set. Ignoring user property", this.p().c(object.c), object.e);
                this.o().a(zw2.a, 9, null, null, 0);
            }
            return;
        }
        finally {
            this.q().z();
        }
    }

    /*
     * Enabled aggressive block sorting
     * Enabled unnecessary exception pruning
     * Enabled aggressive exception aggregation
     */
    final void a(zw zw2) {
        this.q().b(zw2.a);
        aac aac2 = this.q();
        String string2 = zw2.a;
        ah.a(string2);
        aac2.c();
        aac2.Q();
        SQLiteDatabase sQLiteDatabase = aac2.A();
        String[] arrstring = new String[]{string2};
        try {
            int n2 = sQLiteDatabase.delete("apps", "app_id=?", arrstring) + 0 + sQLiteDatabase.delete("events", "app_id=?", arrstring) + sQLiteDatabase.delete("user_attributes", "app_id=?", arrstring) + sQLiteDatabase.delete("conditional_properties", "app_id=?", arrstring) + sQLiteDatabase.delete("raw_events", "app_id=?", arrstring) + sQLiteDatabase.delete("raw_events_metadata", "app_id=?", arrstring) + sQLiteDatabase.delete("queue", "app_id=?", arrstring) + sQLiteDatabase.delete("audience_filter_values", "app_id=?", arrstring) + sQLiteDatabase.delete("main_event_params", "app_id=?", arrstring);
            if (n2 > 0) {
                aac2.t().E().a("Reset analytics data. app, records", string2, n2);
            }
        }
        catch (SQLiteException sQLiteException) {
            aac2.t().y().a("Error resetting analytics data. appId, error", abb.a(string2), (Object)sQLiteException);
        }
        this.c(this.a(this.b, zw2.a, zw2.b, zw2.h, zw2.o));
    }

    final void a(zz zz2) {
        zw zw2 = this.b(zz2.a);
        if (zw2 != null) {
            this.a(zz2, zw2);
        }
    }

    /*
     * Enabled aggressive block sorting
     * Enabled unnecessary exception pruning
     * Enabled aggressive exception aggregation
     */
    final void a(zz object, zw object2) {
        ah.a(object);
        ah.a(object.a);
        ah.a(object.b);
        ah.a(object.c);
        ah.a(object.c.a);
        this.h().c();
        this.a();
        if (TextUtils.isEmpty((CharSequence)object2.b)) {
            return;
        }
        if (!object2.h) {
            this.d((zw)object2);
            return;
        }
        zz zz2 = new zz((zz)object);
        boolean bl2 = false;
        zz2.e = false;
        this.q().x();
        try {
            Object object3;
            String string2;
            String string3;
            object = this.q().d(zz2.a, zz2.c.a);
            if (object != null && !object.b.equals(zz2.b)) {
                this.f().A().a("Updating a conditional user property with different origin. name, origin, origin (from DB)", this.p().c(zz2.c.a), zz2.b, object.b);
            }
            if (object != null && object.e) {
                zz2.b = object.b;
                zz2.d = object.d;
                zz2.h = object.h;
                zz2.f = object.f;
                zz2.i = object.i;
                zz2.e = object.e;
                zz2.c = new afh(zz2.c.a, object.c.b, zz2.c.a(), object.c.c);
            } else if (TextUtils.isEmpty((CharSequence)zz2.f)) {
                zz2.c = new afh(zz2.c.a, zz2.d, zz2.c.a(), zz2.c.c);
                zz2.e = true;
                bl2 = true;
            }
            if (zz2.e) {
                object = zz2.c;
                Object object4 = new afj(zz2.a, zz2.b, object.a, object.b, object.a());
                if (this.q().a((afj)object4)) {
                    object = this.f().D();
                    string3 = "User property updated immediately";
                    object3 = zz2.a;
                    string2 = this.p().c(object4.c);
                    object4 = object4.e;
                } else {
                    object = this.f().y();
                    string3 = "(2)Too many active user properties, ignoring";
                    object3 = abb.a(zz2.a);
                    string2 = this.p().c(object4.c);
                    object4 = object4.e;
                }
                object.a(string3, object3, string2, object4);
                if (bl2 && zz2.i != null) {
                    this.b(new aao(zz2.i, zz2.d), (zw)object2);
                }
            }
            if (this.q().a(zz2)) {
                object3 = this.f().D();
                string2 = "Conditional property added";
                object2 = zz2.a;
                string3 = this.p().c(zz2.c.a);
                object = zz2.c.a();
            } else {
                object3 = this.f().y();
                string2 = "Too many conditional properties, ignoring";
                object2 = abb.a(zz2.a);
                string3 = this.p().c(zz2.c.a);
                object = zz2.c.a();
            }
            object3.a(string2, object2, string3, object);
            this.q().y();
            return;
        }
        finally {
            this.q().z();
        }
    }

    final void a(Runnable runnable) {
        this.h().c();
        if (this.G == null) {
            this.G = new ArrayList<Runnable>();
        }
        this.G.add(runnable);
    }

    /*
     * Unable to fully structure code
     * Enabled aggressive exception aggregation
     */
    final void a(String var1_1, int var2_4, Throwable var3_5, byte[] var4_6, Map<String, List<String>> var5_7) {
        block26 : {
            block27 : {
                block25 : {
                    block29 : {
                        block23 : {
                            block24 : {
                                this.h().c();
                                this.a();
                                ah.a((String)var1_1);
                                var9_8 = var4_6;
                                if (var4_6 != null) ** GOTO lbl8
                                var9_8 = new byte[]{};
lbl8: // 2 sources:
                                this.f().E().a("onConfigFetched. Response size", var9_8.length);
                                this.q().x();
                                var4_6 = this.q().b((String)var1_1);
                                var7_9 = true;
                                if (var2_4 != 200 && var2_4 != 204 && var2_4 != 304) break block23;
lbl15: // 2 sources:
                                if (var4_6 != null) break block29;
                                this.f().A().a("App does not exist in onConfigFetched. appId", abb.a((String)var1_1));
                                ** GOTO lbl71
lbl19: // 1 sources:
                                var4_6.h(this.n.a());
                                this.q().a((zv)var4_6);
                                this.f().E().a("Fetching config failed. code, error", var2_4, var3_5);
                                this.j().c((String)var1_1);
                                this.e().d.a(this.n.a());
                                var6_10 = var7_9;
                                if (var2_4 == 503) break block24;
                                if (var2_4 != 429) break block25;
                                var6_10 = var7_9;
                            }
lbl29: // 2 sources:
                            if (!var6_10) ** GOTO lbl32
                            this.e().e.a(this.n.a());
lbl32: // 3 sources:
                            do {
                                this.M();
                                ** GOTO lbl71
                                break;
                            } while (true);
lbl35: // 1 sources:
                            while (var5_7 != null) {
                                var3_5 = var5_7.get("Last-Modified");
lbl37: // 2 sources:
                                do {
                                    var3_5 = var3_5 != null && var3_5.size() > 0 ? var3_5.get(0) : null;
                                    break;
                                } while (true);
                                break block26;
                            }
                            break block27;
lbl41: // 1 sources:
                            var8_11 = this.j().a((String)var1_1, var9_8, (String)var3_5);
                            if (var8_11) ** GOTO lbl59
                            var1_1 = this.q();
lbl45: // 3 sources:
                            do {
                                var1_1.z();
                                this.L = false;
                                this.O();
                                return;
                                break;
                            } while (true);
lbl50: // 1 sources:
                            do {
                                block30 : {
                                    block28 : {
                                        if (this.j().a((String)var1_1) != null || (var8_12 = this.j().a((String)var1_1, null, null))) break block28;
                                        {
                                            catch (Throwable var1_2) {
                                                this.q().z();
                                                throw var1_2;
                                            }
                                        }
                                        var1_1 = this.q();
                                        ** GOTO lbl45
                                    }
                                    var4_6.g(this.n.a());
                                    this.q().a((zv)var4_6);
                                    if (var2_4 != 404) ** GOTO lbl67
                                    this.f().B().a("Config not found. Using empty config. appId", var1_1);
                                    break block30;
lbl67: // 1 sources:
                                    this.f().E().a("Successfully fetched config. Got network response. code, size", var2_4, var9_8.length);
                                }
                                if (!this.s().y() || !this.L()) ** continue;
                                this.E();
lbl71: // 3 sources:
                                this.q().y();
                                try {
                                    var1_1 = this.q();
                                    ** continue;
                                }
                                catch (Throwable var1_3) {
                                    ** continue;
                                }
lbl75: // 1 sources:
                                do {
                                    this.L = false;
                                    this.O();
                                    throw var1_3;
                                    break;
                                } while (true);
                                break;
                            } while (true);
                            if (var3_5 != null) break block23;
                            var6_10 = true;
                            ** GOTO lbl15
                        }
                        var6_10 = false;
                        ** GOTO lbl15
                    }
                    if (!var6_10 && var2_4 != 404) ** GOTO lbl19
                    ** GOTO lbl35
                }
                var6_10 = false;
                ** GOTO lbl29
            }
            var3_5 = null;
            ** while (true)
        }
        if (var2_4 != 404 && var2_4 != 304) ** GOTO lbl41
        ** while (true)
    }

    public final void a(boolean bl2) {
        this.M();
    }

    final void b(afh afh2, zw zw2) {
        this.h().c();
        this.a();
        if (TextUtils.isEmpty((CharSequence)zw2.b)) {
            return;
        }
        if (!zw2.h) {
            this.d(zw2);
            return;
        }
        this.f().D().a("Removing user property", this.p().c(afh2.a));
        this.q().x();
        try {
            this.d(zw2);
            this.q().b(zw2.a, afh2.a);
            this.q().y();
            this.f().D().a("User property removed", this.p().c(afh2.a));
            return;
        }
        finally {
            this.q().z();
        }
    }

    final void b(zw zw2) {
        this.h().c();
        this.a();
        ah.a(zw2.a);
        this.d(zw2);
    }

    final void b(zz zz2) {
        zw zw2 = this.b(zz2.a);
        if (zw2 != null) {
            this.b(zz2, zw2);
        }
    }

    final void b(zz zz2, zw zw2) {
        ah.a(zz2);
        ah.a(zz2.a);
        ah.a(zz2.c);
        ah.a(zz2.c.a);
        this.h().c();
        this.a();
        if (TextUtils.isEmpty((CharSequence)zw2.b)) {
            return;
        }
        if (!zw2.h) {
            this.d(zw2);
            return;
        }
        this.q().x();
        try {
            this.d(zw2);
            zz zz3 = this.q().d(zz2.a, zz2.c.a);
            if (zz3 != null) {
                this.f().D().a("Removing conditional user property", zz2.a, this.p().c(zz2.c.a));
                this.q().e(zz2.a, zz2.c.a);
                if (zz3.e) {
                    this.q().b(zz2.a, zz2.c.a);
                }
                if (zz2.k != null) {
                    Bundle bundle = null;
                    if (zz2.k.b != null) {
                        bundle = zz2.k.b.b();
                    }
                    this.b(this.o().a(zz2.k.a, bundle, zz3.b, zz2.k.d, true, false), zw2);
                }
            } else {
                this.f().A().a("Conditional user property doesn't exist", abb.a(zz2.a), this.p().c(zz2.c.a));
            }
            this.q().y();
            return;
        }
        finally {
            this.q().z();
        }
    }

    protected final boolean b() {
        block4 : {
            boolean bl2;
            block5 : {
                block6 : {
                    boolean bl3;
                    this.a();
                    this.h().c();
                    if (this.B != null && this.C != 0L && (this.B == null || this.B.booleanValue() || Math.abs(this.n.b() - this.C) <= 1000L)) break block4;
                    this.C = this.n.b();
                    boolean bl4 = this.o().g("android.permission.INTERNET");
                    bl2 = bl3 = false;
                    if (!bl4) break block5;
                    bl2 = bl3;
                    if (!this.o().g("android.permission.ACCESS_NETWORK_STATE")) break block5;
                    if (ye.a(this.b).a()) break block6;
                    bl2 = bl3;
                    if (!abt.a(this.b)) break block5;
                    bl2 = bl3;
                    if (!aet.a(this.b, false)) break block5;
                }
                bl2 = true;
            }
            this.B = bl2;
            if (this.B.booleanValue()) {
                this.B = this.o().e(this.y().A());
            }
        }
        return this.B;
    }

    /*
     * Exception decompiling
     */
    public final byte[] b(aao var1_1, String var2_7) {
        // This method has failed to decompile.  When submitting a bug report, please provide this stack trace, and (if you hold appropriate legal rights) the relevant class file.
        // org.benf.cfr.reader.util.ConfusedCFRException: Tried to end blocks [10[UNCONDITIONALDOLOOP]], but top level block is 2[TRYBLOCK]
        // org.benf.cfr.reader.bytecode.analysis.opgraph.Op04StructuredStatement.processEndingBlocks(Op04StructuredStatement.java:416)
        // org.benf.cfr.reader.bytecode.analysis.opgraph.Op04StructuredStatement.buildNestedBlocks(Op04StructuredStatement.java:468)
        // org.benf.cfr.reader.bytecode.analysis.opgraph.Op03SimpleStatement.createInitialStructuredBlock(Op03SimpleStatement.java:2960)
        // org.benf.cfr.reader.bytecode.CodeAnalyser.getAnalysisInner(CodeAnalyser.java:818)
        // org.benf.cfr.reader.bytecode.CodeAnalyser.getAnalysisOrWrapFail(CodeAnalyser.java:196)
        // org.benf.cfr.reader.bytecode.CodeAnalyser.getAnalysis(CodeAnalyser.java:141)
        // org.benf.cfr.reader.entities.attributes.AttributeCode.analyse(AttributeCode.java:95)
        // org.benf.cfr.reader.entities.Method.analyse(Method.java:372)
        // org.benf.cfr.reader.entities.ClassFile.analyseMid(ClassFile.java:867)
        // org.benf.cfr.reader.entities.ClassFile.analyseTop(ClassFile.java:768)
        // org.benf.cfr.reader.Main.doJar(Main.java:141)
        // org.benf.cfr.reader.Main.main(Main.java:242)
        throw new IllegalStateException("Decompilation failed");
    }

    protected final void c() {
        this.h().c();
        this.q().D();
        if (this.e().c.a() == 0L) {
            this.e().c.a(this.n.a());
        }
        if (Long.valueOf(this.e().h.a()) == 0L) {
            this.f().E().a("Persisting first open", this.O);
            this.e().h.a(this.O);
        }
        if (!this.b()) {
            if (this.B()) {
                if (!this.o().g("android.permission.INTERNET")) {
                    this.f().y().a("App is missing INTERNET permission");
                }
                if (!this.o().g("android.permission.ACCESS_NETWORK_STATE")) {
                    this.f().y().a("App is missing ACCESS_NETWORK_STATE permission");
                }
                if (!ye.a(this.b).a()) {
                    if (!abt.a(this.b)) {
                        this.f().y().a("AppMeasurementReceiver not registered/enabled");
                    }
                    if (!aet.a(this.b, false)) {
                        this.f().y().a("AppMeasurementService not registered/enabled");
                    }
                }
                this.f().y().a("Uploading is not possible. App measurement disabled");
            }
        } else {
            Object object;
            if (!TextUtils.isEmpty((CharSequence)this.y().A())) {
                object = this.e().y();
                if (object == null) {
                    this.e().c(this.y().A());
                } else if (!object.equals(this.y().A())) {
                    this.f().C().a("Rechecking which service to use due to a GMP App Id change");
                    this.e().B();
                    this.t.E();
                    this.t.C();
                    this.e().c(this.y().A());
                    this.e().h.a(this.O);
                    this.e().i.a(null);
                }
            }
            this.l().a(this.e().i.a());
            if (!TextUtils.isEmpty((CharSequence)this.y().A())) {
                object = this.l();
                object.c();
                object.Q();
                if (object.p.b()) {
                    object.i().B();
                    String string2 = object.u().C();
                    if (!TextUtils.isEmpty((CharSequence)string2)) {
                        object.h().Q();
                        if (!string2.equals(Build.VERSION.RELEASE)) {
                            Bundle bundle = new Bundle();
                            bundle.putString("_po", string2);
                            object.a("auto", "_ou", bundle);
                        }
                    }
                }
                this.w().a(new AtomicReference<String>());
            }
        }
        this.M();
    }

    /*
     * Unable to fully structure code
     * Enabled aggressive block sorting
     * Enabled unnecessary exception pruning
     * Enabled aggressive exception aggregation
     * Lifted jumps to return sites
     */
    public final void c(zw var1_1) {
        block48 : {
            block47 : {
                block46 : {
                    block45 : {
                        block42 : {
                            block44 : {
                                block43 : {
                                    block40 : {
                                        this.h().c();
                                        this.a();
                                        ah.a(var1_1);
                                        ah.a(var1_1.a);
                                        if (TextUtils.isEmpty((CharSequence)var1_1.b)) {
                                            return;
                                        }
                                        var10_3 = this.q().b(var1_1.a);
                                        if (var10_3 != null && TextUtils.isEmpty((CharSequence)var10_3.d()) && !TextUtils.isEmpty((CharSequence)var1_1.b)) {
                                            var10_3.g(0L);
                                            this.q().a((zv)var10_3);
                                            this.j().d(var1_1.a);
                                        }
                                        if (!var1_1.h) {
                                            this.d(var1_1);
                                            return;
                                        }
                                        var4_7 = var6_6 = var1_1.m;
                                        if (var6_6 == 0L) {
                                            var4_7 = this.n.a();
                                        }
                                        if ((var2_8 = var1_1.n) != 0 && var2_8 != 1) {
                                            this.f().A().a("Incorrect app type, assuming installed app. appId, appType", abb.a(var1_1.a), var2_8);
                                            var2_8 = 0;
                                        }
                                        this.q().x();
                                        try {
                                            var10_3 = var11_9 = this.q().b(var1_1.a);
                                            if (var11_9 == null) break block40;
                                            var10_3 = var11_9;
                                            if (var11_9.d() == null) break block40;
                                            var10_3 = var11_9;
                                            if (var11_9.d().equals(var1_1.b)) break block40;
                                            this.f().A().a("New GMP App Id passed in. Removing cached database data. appId", abb.a(var11_9.b()));
                                            var10_3 = this.q();
                                            var11_9 = var11_9.b();
                                            var10_3.Q();
                                            var10_3.c();
                                            ah.a((String)var11_9);
                                            var12_10 = var10_3.A();
                                            var13_12 = new String[]{var11_9};
                                            try {
                                                var3_13 = var12_10.delete("events", "app_id=?", var13_12) + 0 + var12_10.delete("user_attributes", "app_id=?", var13_12) + var12_10.delete("conditional_properties", "app_id=?", var13_12) + var12_10.delete("apps", "app_id=?", var13_12) + var12_10.delete("raw_events", "app_id=?", var13_12) + var12_10.delete("raw_events_metadata", "app_id=?", var13_12) + var12_10.delete("event_filters", "app_id=?", var13_12) + var12_10.delete("property_filters", "app_id=?", var13_12) + var12_10.delete("audience_filter_values", "app_id=?", var13_12);
                                                if (var3_13 > 0) {
                                                    var10_3.t().E().a("Deleted application data. app, records", var11_9, var3_13);
                                                }
                                            }
                                            catch (SQLiteException var12_11) {
                                                var10_3.t().y().a("Error deleting application data. appId, error", abb.a((String)var11_9), (Object)var12_11);
                                            }
                                        }
                                        catch (Throwable var1_2) {
                                            this.q().z();
                                            throw var1_2;
                                        }
                                        var10_3 = null;
                                    }
                                    if (var10_3 == null) break block42;
                                    if (var10_3.j() == Integer.MIN_VALUE) break block43;
                                    if (var10_3.j() == var1_1.j) break block42;
                                    var11_9 = new Bundle();
                                    var11_9.putString("_pv", var10_3.i());
                                    var10_3 = new aao("_au", new aal((Bundle)var11_9), "auto", var4_7);
                                    break block44;
                                }
                                if (var10_3.i() == null || var10_3.i().equals(var1_1.c)) break block42;
                                var11_9 = new Bundle();
                                var11_9.putString("_pv", var10_3.i());
                                var10_3 = new aao("_au", new aal((Bundle)var11_9), "auto", var4_7);
                            }
                            this.a((aao)var10_3, var1_1);
                        }
                        this.d(var1_1);
                        if (var2_8 != 0) break block45;
                        var10_3 = this.q();
                        var11_9 = var1_1.a;
                        var12_10 = "_f";
                        ** GOTO lbl79
                    }
                    if (var2_8 == 1) {
                        var10_3 = this.q();
                        var11_9 = var1_1.a;
                        var12_10 = "_v";
lbl79: // 2 sources:
                        var10_3 = var10_3.a((String)var11_9, var12_10);
                    } else {
                        var10_3 = null;
                    }
                    if (var10_3 != null) break block46;
                    var6_6 = (var4_7 / 3600000L + 1L) * 3600000L;
                    if (var2_8 == 0) {
                        var8_14 = 1L;
                        this.a(new afh("_fot", var4_7, var6_6, "auto"), var1_1);
                        this.h().c();
                        this.a();
                        var11_9 = new Bundle();
                        var11_9.putLong("_c", var8_14);
                        var11_9.putLong("_r", var8_14);
                        var11_9.putLong("_uwa", 0L);
                        var11_9.putLong("_pfo", 0L);
                        var11_9.putLong("_sys", 0L);
                        var11_9.putLong("_sysu", 0L);
                        if (this.b.getPackageManager() == null) {
                            this.f().y().a("PackageManager is null, first open report might be inaccurate. appId", abb.a(var1_1.a));
                        } else {
                            try {
                                var10_3 = ye.a(this.b).b(var1_1.a, 0);
                            }
                            catch (PackageManager.NameNotFoundException var10_4) {
                                this.f().y().a("Package info is null, first open report might be inaccurate. appId", abb.a(var1_1.a), (Object)var10_4);
                                var10_3 = null;
                            }
                            if (var10_3 != null && var10_3.firstInstallTime != 0L) {
                                if (var10_3.firstInstallTime != var10_3.lastUpdateTime) {
                                    var11_9.putLong("_uwa", var8_14);
                                    var2_8 = 0;
                                } else {
                                    var2_8 = 1;
                                }
                                var6_6 = var2_8 != 0 ? var8_14 : 0L;
                                this.a(new afh("_fi", var4_7, var6_6, "auto"), var1_1);
                            }
                            try {
                                var10_3 = ye.a(this.b).a(var1_1.a, 0);
                            }
                            catch (PackageManager.NameNotFoundException var10_5) {
                                this.f().y().a("Application info is null, first open report might be inaccurate. appId", abb.a(var1_1.a), (Object)var10_5);
                                var10_3 = null;
                            }
                            if (var10_3 != null) {
                                if ((var10_3.flags & 1) != 0) {
                                    var11_9.putLong("_sys", var8_14);
                                }
                                if ((var10_3.flags & 128) != 0) {
                                    var11_9.putLong("_sysu", var8_14);
                                }
                            }
                        }
                        var10_3 = this.q();
                        var12_10 = var1_1.a;
                        ah.a(var12_10);
                        var10_3.c();
                        var10_3.Q();
                        var6_6 = var10_3.h(var12_10, "first_open_count");
                        if (var6_6 >= 0L) {
                            var11_9.putLong("_pfo", var6_6);
                        }
                        this.a(new aao("_f", new aal((Bundle)var11_9), "auto", var4_7), var1_1);
                    } else {
                        var8_15 = 1L;
                        if (var2_8 == 1) {
                            this.a(new afh("_fvt", var4_7, var6_6, "auto"), var1_1);
                            this.h().c();
                            this.a();
                            var10_3 = new Bundle();
                            var10_3.putLong("_c", var8_15);
                            var10_3.putLong("_r", var8_15);
                            this.a(new aao("_v", new aal((Bundle)var10_3), "auto", var4_7), var1_1);
                        }
                    }
                    var10_3 = new Bundle();
                    var10_3.putLong("_et", 1L);
                    var10_3 = new aao("_e", new aal((Bundle)var10_3), "auto", var4_7);
                    break block47;
                }
                if (!var1_1.i) break block48;
                var10_3 = new aao("_cd", new aal(new Bundle()), "auto", var4_7);
            }
            this.a((aao)var10_3, var1_1);
        }
        this.q().y();
        this.q().z();
    }

    public final aab d() {
        return this.c;
    }

    public final abm e() {
        acc.a(this.d);
        return this.d;
    }

    public final abb f() {
        acc.b(this.e);
        return this.e;
    }

    public final abb g() {
        if (this.e != null && this.e.P()) {
            return this.e;
        }
        return null;
    }

    public final abx h() {
        acc.b(this.f);
        return this.f;
    }

    public final aez i() {
        acc.b(this.g);
        return this.g;
    }

    public final abw j() {
        acc.b(this.h);
        return this.h;
    }

    final abx k() {
        return this.f;
    }

    public final ade l() {
        acc.b(this.p);
        return this.p;
    }

    public final AppMeasurement m() {
        return this.i;
    }

    public final FirebaseAnalytics n() {
        return this.j;
    }

    public final afk o() {
        acc.a(this.k);
        return this.k;
    }

    public final aaz p() {
        acc.a(this.l);
        return this.l;
    }

    public final aac q() {
        acc.b(this.r);
        return this.r;
    }

    public final aax r() {
        acc.b(this.s);
        return this.s;
    }

    public final abf s() {
        acc.b(this.m);
        return this.m;
    }

    public final Context t() {
        return this.b;
    }

    public final f u() {
        return this.n;
    }

    public final adv v() {
        acc.b(this.o);
        return this.o;
    }

    public final adz w() {
        acc.b(this.t);
        return this.t;
    }

    public final aai x() {
        acc.b(this.u);
        return this.u;
    }

    public final aaw y() {
        acc.b(this.v);
        return this.v;
    }

    public final zy z() {
        acc.b(this.y);
        return this.y;
    }

    final class a
    implements aae {
        agb a;
        List<Long> b;
        List<afy> c;
        private long d;
        private /* synthetic */ acc e;

        private a(acc acc2) {
            this.e = acc2;
        }

        /* synthetic */ a(acc acc2, acd acd2) {
            this(acc2);
        }

        private static long a(afy afy2) {
            return afy2.c / 1000L / 60L / 60L;
        }

        @Override
        public final void a(agb agb2) {
            ah.a(agb2);
            this.a = agb2;
        }

        @Override
        public final boolean a(long l2, afy afy2) {
            ah.a(afy2);
            if (this.c == null) {
                this.c = new ArrayList<afy>();
            }
            if (this.b == null) {
                this.b = new ArrayList<Long>();
            }
            if (this.c.size() > 0 && a.a(this.c.get(0)) != a.a(afy2)) {
                return false;
            }
            long l3 = this.d + (long)afy2.f();
            if (l3 >= (long)Math.max(0, aaq.o.b())) {
                return false;
            }
            this.d = l3;
            this.c.add(afy2);
            this.b.add(l2);
            if (this.c.size() >= Math.max(1, aaq.p.b())) {
                return false;
            }
            return true;
        }
    }

}


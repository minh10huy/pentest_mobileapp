/*
 * Decompiled with CFR 0_132.
 */
package com.google.android.gms.internal;

import com.google.android.gms.common.internal.ah;
import com.google.android.gms.internal.abb;
import com.google.android.gms.internal.abd;
import com.google.android.gms.internal.abf;
import com.google.android.gms.internal.abg;
import com.google.android.gms.internal.abh;
import com.google.android.gms.internal.abi;
import com.google.android.gms.internal.abx;
import com.google.android.gms.internal.afk;
import java.io.IOException;
import java.io.OutputStream;
import java.net.HttpURLConnection;
import java.net.URL;
import java.util.Iterator;
import java.util.List;
import java.util.Map;
import java.util.Set;

final class abj
implements Runnable {
    private final URL a;
    private final byte[] b;
    private final abh c;
    private final String d;
    private final Map<String, String> e;
    private /* synthetic */ abf f;

    public abj(String string2, URL uRL, byte[] arrby, Map<String, String> map, abh abh2) {
        this.f = var1_1;
        ah.a(string2);
        ah.a(uRL);
        ah.a(abh2);
        this.a = uRL;
        this.b = arrby;
        this.c = abh2;
        this.d = string2;
        this.e = map;
    }

    /*
     * Loose catch block
     * Enabled aggressive block sorting
     * Enabled unnecessary exception pruning
     * Enabled aggressive exception aggregation
     * Lifted jumps to return sites
     */
    @Override
    public final void run() {
        Object object;
        Object object2;
        block30 : {
            Object object3;
            Object object4;
            void var5_17;
            int n2;
            block34 : {
                block29 : {
                    Iterator<Map.Entry<String, String>> iterator;
                    block33 : {
                        void var5_15;
                        block31 : {
                            block28 : {
                                Iterator<Map.Entry<String, String>> iterator2;
                                block32 : {
                                    block27 : {
                                        Object object5;
                                        this.f.b();
                                        object4 = null;
                                        iterator = null;
                                        object3 = null;
                                        iterator2 = null;
                                        object = this.f.a(this.a);
                                        if (this.e != null) {
                                            object2 = this.e.entrySet().iterator();
                                            while (object2.hasNext()) {
                                                object5 = object2.next();
                                                object.addRequestProperty((String)object5.getKey(), (String)object5.getValue());
                                            }
                                        }
                                        if (this.b == null) break block27;
                                        object5 = this.f.p().a(this.b);
                                        this.f.t().E().a("Uploading data. size", ((Object)object5).length);
                                        object.setDoOutput(true);
                                        object.addRequestProperty("Content-Encoding", "gzip");
                                        object.setFixedLengthStreamingMode(((Object)object5).length);
                                        object.connect();
                                        object2 = object.getOutputStream();
                                        try {
                                            object2.write((byte[])object5);
                                            object2.close();
                                        }
                                        catch (Throwable throwable) {
                                            object4 = object;
                                            object = throwable;
                                            break block28;
                                        }
                                        catch (IOException iOException) {
                                            break block29;
                                        }
                                    }
                                    n2 = object.getResponseCode();
                                    object2 = object.getHeaderFields();
                                    try {
                                        byte[] arrby = abf.a(this.f, (HttpURLConnection)object);
                                        if (object != null) {
                                            object.disconnect();
                                        }
                                        object = this.f.s();
                                        object2 = new abi(this.d, this.c, n2, null, arrby, (Map)object2, null);
                                        break block30;
                                    }
                                    catch (Throwable throwable) {
                                        object3 = object4;
                                        object4 = object;
                                        object = throwable;
                                        Object object6 = object2;
                                        break block31;
                                    }
                                    catch (IOException iOException) {
                                        break block32;
                                    }
                                    catch (Throwable throwable) {
                                        Object var5_10 = null;
                                        object3 = object4;
                                        object4 = object;
                                        object = throwable;
                                        break block31;
                                    }
                                    catch (IOException iOException) {
                                        object2 = null;
                                    }
                                }
                                Object object7 = object2;
                                break block34;
                                catch (Throwable throwable) {
                                    object2 = iterator2;
                                    object4 = object;
                                    object = throwable;
                                    break block28;
                                }
                                catch (IOException iOException) {
                                    break block33;
                                }
                                catch (Throwable throwable) {
                                    object4 = null;
                                    object2 = iterator2;
                                }
                            }
                            Object var5_14 = null;
                            n2 = 0;
                            object3 = object2;
                        }
                        if (object3 != null) {
                            try {
                                object3.close();
                            }
                            catch (IOException iOException) {
                                this.f.t().y().a("Error closing HTTP compressed POST connection output stream. appId", abb.a(this.d), iOException);
                            }
                        }
                        if (object4 != null) {
                            object4.disconnect();
                        }
                        this.f.s().a(new abi(this.d, this.c, n2, null, null, (Map)var5_15, null));
                        throw object;
                        catch (IOException iOException) {
                            object = null;
                        }
                    }
                    object4 = object2;
                    object2 = iterator;
                }
                Object var5_16 = null;
                n2 = 0;
                object3 = object2;
            }
            if (object3 != null) {
                try {
                    object3.close();
                }
                catch (IOException iOException) {
                    this.f.t().y().a("Error closing HTTP compressed POST connection output stream. appId", abb.a(this.d), iOException);
                }
            }
            if (object != null) {
                object.disconnect();
            }
            object = this.f.s();
            object2 = new abi(this.d, this.c, n2, (Throwable)object4, null, (Map)var5_17, null);
        }
        object.a((Runnable)object2);
    }
}


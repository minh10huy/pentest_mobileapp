/*
 * Decompiled with CFR 0_132.
 * 
 * Could not load the following classes:
 *  android.app.Activity
 *  android.content.Context
 *  android.graphics.Bitmap
 *  android.graphics.Point
 *  android.graphics.Rect
 *  android.os.Bundle
 *  android.os.RemoteException
 *  android.text.TextUtils
 *  android.view.View
 *  android.view.Window
 *  org.json.JSONException
 *  org.json.JSONObject
 */
package com.google.android.gms.ads.internal;

import android.app.Activity;
import android.content.Context;
import android.graphics.Bitmap;
import android.graphics.Point;
import android.graphics.Rect;
import android.os.Bundle;
import android.os.RemoteException;
import android.text.TextUtils;
import android.view.View;
import android.view.Window;
import com.google.android.gms.ads.internal.al;
import com.google.android.gms.ads.internal.ao;
import com.google.android.gms.ads.internal.av;
import com.google.android.gms.ads.internal.aw;
import com.google.android.gms.ads.internal.be;
import com.google.android.gms.ads.internal.br;
import com.google.android.gms.ads.internal.bs;
import com.google.android.gms.ads.internal.gmsg.aa;
import com.google.android.gms.ads.internal.gmsg.ae;
import com.google.android.gms.ads.internal.gmsg.g;
import com.google.android.gms.ads.internal.gmsg.h;
import com.google.android.gms.ads.internal.gmsg.i;
import com.google.android.gms.ads.internal.m;
import com.google.android.gms.ads.internal.n;
import com.google.android.gms.ads.internal.o;
import com.google.android.gms.ads.internal.overlay.AdOverlayInfoParcel;
import com.google.android.gms.ads.internal.overlay.d;
import com.google.android.gms.ads.internal.overlay.t;
import com.google.android.gms.ads.internal.q;
import com.google.android.gms.common.internal.ah;
import com.google.android.gms.internal.agk;
import com.google.android.gms.internal.ak;
import com.google.android.gms.internal.bj;
import com.google.android.gms.internal.bkw;
import com.google.android.gms.internal.blx;
import com.google.android.gms.internal.bmb;
import com.google.android.gms.internal.bn;
import com.google.android.gms.internal.boc;
import com.google.android.gms.internal.bp;
import com.google.android.gms.internal.bpp;
import com.google.android.gms.internal.bpu;
import com.google.android.gms.internal.bpy;
import com.google.android.gms.internal.bqj;
import com.google.android.gms.internal.bsz;
import com.google.android.gms.internal.btk;
import com.google.android.gms.internal.btx;
import com.google.android.gms.internal.caw;
import com.google.android.gms.internal.cax;
import com.google.android.gms.internal.cbn;
import com.google.android.gms.internal.cbq;
import com.google.android.gms.internal.cdo;
import com.google.android.gms.internal.ceo;
import com.google.android.gms.internal.cx;
import com.google.android.gms.internal.du;
import com.google.android.gms.internal.ey;
import com.google.android.gms.internal.fk;
import com.google.android.gms.internal.fu;
import com.google.android.gms.internal.fx;
import com.google.android.gms.internal.ga;
import com.google.android.gms.internal.gl;
import com.google.android.gms.internal.gm;
import com.google.android.gms.internal.he;
import com.google.android.gms.internal.hs;
import com.google.android.gms.internal.hy;
import com.google.android.gms.internal.km;
import com.google.android.gms.internal.lf;
import com.google.android.gms.internal.nu;
import com.google.android.gms.internal.pk;
import com.google.android.gms.internal.pn;
import com.google.android.gms.internal.pr;
import java.util.Collections;
import java.util.List;
import org.json.JSONException;
import org.json.JSONObject;

@ak
public final class l
extends be
implements ae,
h {
    private transient boolean j;
    private int k = -1;
    private boolean l;
    private float m;
    private boolean n;
    private ga o;
    private String p;
    private final String q;
    private final du r;

    public l(Context object, bpy bpy2, String string2, cbn cbn2, km km2, br br2) {
        super((Context)object, bpy2, string2, cbn2, km2, br2);
        boolean bl2 = false;
        this.j = false;
        boolean bl3 = bl2;
        if (bpy2 != null) {
            bl3 = bl2;
            if ("reward_mb".equals(bpy2.a)) {
                bl3 = true;
            }
        }
        object = bl3 ? "/Rewarded" : "/Interstitial";
        this.q = object;
        if (bl3) {
            object = new n(this);
            object = new du(this.e, this.i, (ey)object, this);
        } else {
            object = null;
        }
        this.r = object;
    }

    private final void a(Bundle bundle) {
        av.e().b(this.e.c, this.e.e.a, "gmob-apps", bundle, false);
    }

    static /* synthetic */ boolean a(l l2) {
        return l2.l;
    }

    static /* synthetic */ float b(l l2) {
        return l2.m;
    }

    private static gm b(gm gm2) {
        Object object;
        Object object2;
        try {
            object = cx.a(gm2.b).toString();
            object2 = new JSONObject();
            object2.put("pubid", (Object)gm2.a.e);
            object2 = object2.toString();
        }
        catch (JSONException jSONException) {
            he.b("Unable to generate ad state for an interstitial ad with pooling.", (Throwable)jSONException);
            return gm2;
        }
        object2 = new caw((String)object, null, Collections.singletonList("com.google.ads.mediation.admob.AdMobAdapter"), null, null, Collections.<String>emptyList(), Collections.<String>emptyList(), Collections.<String>emptyList(), (String)object2, null, Collections.<String>emptyList(), Collections.<String>emptyList(), Collections.<String>emptyList(), null, null, null, null, null, Collections.<String>emptyList(), null, -1L);
        object = gm2.b;
        object2 = Collections.singletonList(object2);
        bsz<Long> bsz2 = btk.bt;
        object2 = new cax((List<caw>)object2, bqj.f().a(bsz2), Collections.<String>emptyList(), Collections.<String>emptyList(), Collections.<String>emptyList(), object.H, object.I, "", -1L, 0, 1, null, 0, -1, -1L, false);
        object = new bn(gm2.a, object.a, object.b, Collections.<String>emptyList(), Collections.<String>emptyList(), object.f, true, object.h, Collections.<String>emptyList(), object.j, object.k, object.l, object.m, object.n, object.o, object.p, null, object.r, object.s, object.t, object.u, object.v, object.x, object.y, object.z, null, Collections.<String>emptyList(), Collections.<String>emptyList(), object.D, object.E, object.F, object.G, object.H, object.I, object.J, null, object.L, object.M, object.N, object.O, 0);
        return new gm(gm2.a, (bn)object, (cax)object2, gm2.d, gm2.e, gm2.f, gm2.g, null, gm2.i, null);
    }

    static /* synthetic */ boolean c(l l2) {
        return l2.n;
    }

    private final boolean e(boolean bl2) {
        if (this.r != null && bl2) {
            return true;
        }
        return false;
    }

    /*
     * Enabled aggressive block sorting
     * Enabled unnecessary exception pruning
     * Enabled aggressive exception aggregation
     */
    @Override
    public final void F() {
        int n2;
        Object object;
        Object object2;
        ah.b("showInterstitial must be called on the main UI thread.");
        boolean bl2 = this.e.j != null && this.e.j.m;
        if (this.e(bl2)) {
            this.r.a(this.n);
            return;
        }
        if (av.A().d(this.e.c)) {
            this.p = av.A().g(this.e.c);
            object2 = String.valueOf(this.p);
            object = String.valueOf(this.q);
            object2 = object.length() != 0 ? object2.concat((String)object) : new String((String)object2);
            this.p = object2;
        }
        if (this.e.j == null) {
            he.e("The interstitial has not loaded.");
            return;
        }
        object2 = btk.bj;
        if (bqj.f().a(object2).booleanValue()) {
            object2 = this.e.c.getApplicationContext() != null ? this.e.c.getApplicationContext() : this.e.c;
            object2 = object2.getPackageName();
            if (!this.j) {
                he.e("It is not recommended to show an interstitial before onAdLoaded completes.");
                object = new Bundle();
                object.putString("appid", object2);
                object.putString("action", "show_interstitial_before_load_finish");
                this.a((Bundle)object);
            }
            av.e();
            if (!hs.g(this.e.c)) {
                he.e("It is not recommended to show an interstitial when app is not in foreground.");
                object = new Bundle();
                object.putString("appid", object2);
                object.putString("action", "show_interstitial_app_not_in_foreground");
                this.a((Bundle)object);
            }
        }
        if (this.e.e()) {
            return;
        }
        if (this.e.j.m && this.e.j.o != null) {
            try {
                object2 = btk.aJ;
                if (bqj.f().a(object2).booleanValue()) {
                    this.e.j.o.a(this.n);
                }
                this.e.j.o.b();
                return;
            }
            catch (RemoteException remoteException) {
                he.c("Could not show interstitial.", (Throwable)remoteException);
                this.H();
                return;
            }
        }
        if (this.e.j.b == null) {
            he.e("The interstitial failed to load.");
            return;
        }
        if (this.e.j.b.x()) {
            he.e("The interstitial is already showing.");
            return;
        }
        this.e.j.b.b(true);
        this.e.a(this.e.j.b.getView());
        if (this.e.j.j != null) {
            this.g.a(this.e.i, this.e.j);
        }
        if ((object2 = this.e.j).a()) {
            new blx(this.e.c, object2.b.getView()).a(object2.b);
        } else {
            object2.b.u().a(new m(this, (gl)object2));
        }
        if (this.e.H) {
            av.e();
            object2 = hs.h(this.e.c);
        } else {
            object2 = null;
        }
        this.k = av.x().a((Bitmap)object2);
        object = btk.bK;
        if (((Boolean)bqj.f().a(object)).booleanValue() && object2 != null) {
            new o(this, this.k).i();
            return;
        }
        object2 = new q(this.e.H, this.G(), false, 0.0f, -1, this.n, this.e.j.I);
        int n3 = n2 = this.e.j.b.getRequestedOrientation();
        if (n2 == -1) {
            n3 = this.e.j.g;
        }
        object2 = new AdOverlayInfoParcel(this, this, this, this.e.j.b, n3, this.e.e, this.e.j.z, (q)object2);
        av.c();
        com.google.android.gms.ads.internal.overlay.l.a(this.e.c, (AdOverlayInfoParcel)object2, true);
    }

    protected final boolean G() {
        if (!(this.e.c instanceof Activity)) {
            return false;
        }
        Window window = ((Activity)this.e.c).getWindow();
        if (window != null) {
            if (window.getDecorView() == null) {
                return false;
            }
            Rect rect = new Rect();
            Rect rect2 = new Rect();
            window.getDecorView().getGlobalVisibleRect(rect, null);
            window.getDecorView().getWindowVisibleDisplayFrame(rect2);
            if (rect.bottom != 0 && rect2.bottom != 0 && rect.top == rect2.top) {
                return true;
            }
        }
        return false;
    }

    public final void H() {
        av.x().b(this.k);
        if (this.e.d()) {
            this.e.b();
            this.e.j = null;
            this.e.H = false;
            this.j = false;
        }
    }

    @Override
    public final void I() {
        d d2 = this.e.j.b.q();
        if (d2 != null) {
            d2.a();
        }
    }

    @Override
    protected final nu a(gm gm2, bs bs2, fx fx2) {
        nu nu2 = av.f().a(this.e.c, pr.a(this.e.i), this.e.i.a, false, false, this.e.d, this.e.e, this.a, this, this.h, gm2.i);
        pk pk2 = nu2.u();
        bsz<Boolean> bsz2 = btk.ae;
        pk2.a(this, null, this, this, bqj.f().a(bsz2), this, bs2, null, fx2);
        this.a(nu2);
        nu2.a(gm2.a.v);
        nu2.u().a("/reward", new g(this));
        return nu2;
    }

    @Override
    public final void a(fk fk2) {
        boolean bl2 = this.e.j != null && this.e.j.m;
        if (this.e(bl2)) {
            this.b(this.r.a(fk2));
            return;
        }
        fk fk3 = fk2;
        if (this.e.j != null) {
            if (this.e.j.w != null) {
                av.e();
                hs.a(this.e.c, this.e.e.a, this.e.j.w);
            }
            fk3 = fk2;
            if (this.e.j.u != null) {
                fk3 = this.e.j.u;
            }
        }
        this.b(fk3);
    }

    @Override
    public final void a(gm gm2, btx btx2) {
        if (gm2.e != -2) {
            super.a(gm2, btx2);
            return;
        }
        boolean bl2 = gm2.c != null;
        if (this.e(bl2)) {
            this.r.b();
            return;
        }
        bsz<Boolean> bsz2 = btk.aL;
        if (!bqj.f().a(bsz2).booleanValue()) {
            super.a(gm2, btx2);
            return;
        }
        bl2 = gm2.b.g;
        if (l.a(gm2.a.c) && bl2 ^ true) {
            this.e.k = l.b(gm2);
        }
        super.a(this.e.k, btx2);
    }

    @Override
    public final void a(boolean bl2) {
        this.e.H = bl2;
    }

    @Override
    public final void a(boolean bl2, float f2) {
        this.l = bl2;
        this.m = f2;
    }

    @Override
    public final boolean a(bpu bpu2, btx btx2) {
        if (this.e.j != null) {
            he.e("An interstitial is already loading. Aborting.");
            return false;
        }
        if (this.o == null && l.a(bpu2) && av.A().d(this.e.c) && !TextUtils.isEmpty((CharSequence)this.e.b)) {
            this.o = new ga(this.e.c, this.e.b);
        }
        return super.a(bpu2, btx2);
    }

    @Override
    protected final boolean a(bpu bpu2, gl gl2, boolean bl2) {
        if (this.e.d() && gl2.b != null) {
            av.g();
            hy.a(gl2.b);
        }
        return this.d.e();
    }

    @Override
    public final boolean a(gl gl2, gl gl3) {
        if (this.e(gl3.m)) {
            return du.a(gl2, gl3);
        }
        if (!super.a(gl2, gl3)) {
            return false;
        }
        if (!this.e.d() && this.e.F != null && gl3.j != null) {
            this.g.a(this.e.i, gl3, this.e.F);
        }
        return true;
    }

    @Override
    public final void b_() {
        boolean bl2 = this.e.j != null && this.e.j.m;
        if (this.e(bl2)) {
            this.r.f();
            this.z();
            return;
        }
        if (this.e.j != null && this.e.j.v != null) {
            av.e();
            hs.a(this.e.c, this.e.e.a, this.e.j.v);
        }
        this.z();
    }

    @Override
    public final void c(boolean bl2) {
        ah.b("setImmersiveMode must be called on the main UI thread.");
        this.n = bl2;
    }

    @Override
    public final void c_() {
        boolean bl2 = this.e.j != null && this.e.j.m;
        if (this.e(bl2)) {
            this.r.g();
        }
        this.A();
    }

    @Override
    public final void g() {
        pk pk2;
        this.X();
        super.g();
        if (this.e.j != null && this.e.j.b != null && (pk2 = this.e.j.b.u()) != null) {
            pk2.g();
        }
        if (av.A().d(this.e.c) && this.e.j != null && this.e.j.b != null) {
            av.A().c(this.e.j.b.getContext(), this.p);
        }
        if (this.o != null) {
            this.o.a(true);
        }
    }

    @Override
    public final void q_() {
        super.q_();
        this.g.a(this.e.j);
        if (this.o != null) {
            this.o.a(false);
        }
    }

    @Override
    protected final void t() {
        this.H();
        super.t();
    }

    @Override
    protected final void w() {
        super.w();
        this.j = true;
    }
}


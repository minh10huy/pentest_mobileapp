/*
 * Decompiled with CFR 0_132.
 * 
 * Could not load the following classes:
 *  android.content.ComponentName
 *  android.content.Context
 *  android.content.Intent
 *  android.content.ServiceConnection
 *  android.content.pm.PackageManager
 *  android.os.RemoteException
 */
package com.google.android.gms.internal;

import android.content.ComponentName;
import android.content.Context;
import android.content.Intent;
import android.content.ServiceConnection;
import android.content.pm.PackageManager;
import android.os.RemoteException;
import com.google.android.gms.common.internal.ah;
import com.google.android.gms.common.m;
import com.google.android.gms.common.stats.a;
import com.google.android.gms.common.util.f;
import com.google.android.gms.internal.aab;
import com.google.android.gms.internal.aac;
import com.google.android.gms.internal.aag;
import com.google.android.gms.internal.aai;
import com.google.android.gms.internal.aao;
import com.google.android.gms.internal.aaq;
import com.google.android.gms.internal.aas;
import com.google.android.gms.internal.aat;
import com.google.android.gms.internal.aaw;
import com.google.android.gms.internal.aax;
import com.google.android.gms.internal.aaz;
import com.google.android.gms.internal.abb;
import com.google.android.gms.internal.abd;
import com.google.android.gms.internal.abm;
import com.google.android.gms.internal.abw;
import com.google.android.gms.internal.abx;
import com.google.android.gms.internal.acc;
import com.google.android.gms.internal.adc;
import com.google.android.gms.internal.ade;
import com.google.android.gms.internal.adt;
import com.google.android.gms.internal.adv;
import com.google.android.gms.internal.aea;
import com.google.android.gms.internal.aeb;
import com.google.android.gms.internal.aec;
import com.google.android.gms.internal.aed;
import com.google.android.gms.internal.aee;
import com.google.android.gms.internal.aef;
import com.google.android.gms.internal.aeg;
import com.google.android.gms.internal.aeh;
import com.google.android.gms.internal.aei;
import com.google.android.gms.internal.aej;
import com.google.android.gms.internal.aek;
import com.google.android.gms.internal.ael;
import com.google.android.gms.internal.aem;
import com.google.android.gms.internal.aen;
import com.google.android.gms.internal.aez;
import com.google.android.gms.internal.afe;
import com.google.android.gms.internal.afh;
import com.google.android.gms.internal.afk;
import com.google.android.gms.internal.wz;
import com.google.android.gms.internal.zr;
import com.google.android.gms.internal.zw;
import com.google.android.gms.internal.zy;
import com.google.android.gms.internal.zz;
import java.util.ArrayList;
import java.util.Collection;
import java.util.List;
import java.util.concurrent.atomic.AtomicReference;

public final class adz
extends adc {
    private final aen a;
    private aat b;
    private volatile Boolean c;
    private final aag d;
    private final afe e;
    private final List<Runnable> f = new ArrayList<Runnable>();
    private final aag g;

    protected adz(acc acc2) {
        super(acc2);
        this.e = new afe(acc2.u());
        this.a = new aen(this);
        this.d = new aea(this, acc2);
        this.g = new aef(this, acc2);
    }

    private final void F() {
        this.c();
        this.e.a();
        this.d.a(aaq.M.b());
    }

    private final void G() {
        this.c();
        if (!this.y()) {
            return;
        }
        this.t().E().a("Inactivity, disconnecting from the service");
        this.E();
    }

    private final void H() {
        this.c();
        this.t().E().a("Processing queued up service tasks", this.f.size());
        for (Runnable runnable : this.f) {
            try {
                runnable.run();
            }
            catch (Throwable throwable) {
                this.t().y().a("Task exception while flushing queue", throwable);
            }
        }
        this.f.clear();
        this.g.c();
    }

    static /* synthetic */ aat a(adz adz2, aat aat2) {
        adz2.b = null;
        return null;
    }

    static /* synthetic */ aen a(adz adz2) {
        return adz2.a;
    }

    private final zw a(boolean bl2) {
        aaw aaw2 = this.g();
        String string2 = bl2 ? this.t().F() : null;
        return aaw2.a(string2);
    }

    private final void a(ComponentName componentName) {
        this.c();
        if (this.b != null) {
            this.b = null;
            this.t().E().a("Disconnected from device MeasurementService", (Object)componentName);
            this.c();
            this.C();
        }
    }

    static /* synthetic */ void a(adz adz2, ComponentName componentName) {
        adz2.a(componentName);
    }

    private final void a(Runnable runnable) {
        this.c();
        if (this.y()) {
            runnable.run();
            return;
        }
        if ((long)this.f.size() >= 1000L) {
            this.t().y().a("Discarding data. Max runnable queue size reached");
            return;
        }
        this.f.add(runnable);
        this.g.a(60000L);
        this.C();
    }

    static /* synthetic */ void b(adz adz2) {
        adz2.H();
    }

    static /* synthetic */ void c(adz adz2) {
        adz2.G();
    }

    static /* synthetic */ aat d(adz adz2) {
        return adz2.b;
    }

    static /* synthetic */ void e(adz adz2) {
        adz2.F();
    }

    protected final void A() {
        this.c();
        this.Q();
        zw zw2 = this.a(false);
        this.m().y();
        this.a(new aeb(this, zw2));
    }

    protected final void B() {
        this.c();
        this.Q();
        this.a(new aed(this, this.a(true)));
    }

    /*
     * Unable to fully structure code
     * Enabled aggressive block sorting
     * Lifted jumps to return sites
     */
    final void C() {
        block12 : {
            block14 : {
                block20 : {
                    block21 : {
                        block18 : {
                            block19 : {
                                block16 : {
                                    block15 : {
                                        block22 : {
                                            block17 : {
                                                block13 : {
                                                    this.c();
                                                    this.Q();
                                                    if (this.y()) {
                                                        return;
                                                    }
                                                    var5_1 = this.c;
                                                    var2_2 = 0;
                                                    if (var5_1 != null) break block12;
                                                    this.c();
                                                    this.Q();
                                                    var5_1 = this.u().A();
                                                    if (var5_1 == null || !var5_1.booleanValue()) break block13;
                                                    var4_3 = true;
                                                    break block14;
                                                }
                                                if (this.g().C() == 1) break block15;
                                                this.t().E().a("Checking service availability");
                                                var5_1 = this.p();
                                                var1_4 = m.b().a(var5_1.l());
                                                if (var1_4 == 9) break block16;
                                                if (var1_4 == 18) break block17;
                                                switch (var1_4) {
                                                    default: {
                                                        this.t().A().a("Unexpected service status", var1_4);
                                                        break block18;
                                                    }
                                                    case 3: {
                                                        var5_1 = this.t().A();
                                                        var6_6 = "Service disabled";
                                                        break block19;
                                                    }
                                                    case 2: {
                                                        this.t().D().a("Service container out of date");
                                                        var5_1 = this.u().A();
                                                        var3_5 = var5_1 == null || var5_1.booleanValue();
                                                        var1_4 = 0;
                                                        break block20;
                                                    }
                                                    case 1: {
                                                        this.t().E().a("Service missing");
                                                        var1_4 = 1;
                                                        break block21;
                                                    }
                                                    case 0: 
                                                }
                                                var5_1 = this.t().E();
                                                var6_7 = "Service available";
                                                break block22;
                                            }
                                            var5_1 = this.t().A();
                                            var6_7 = "Service updating";
                                        }
                                        var5_1.a(var6_7);
                                        ** break;
                                    }
                                    var1_4 = 1;
                                    var3_5 = true;
                                    break block20;
                                }
                                var5_1 = this.t().A();
                                var6_6 = "Service invalid";
                            }
                            var5_1.a(var6_6);
                        }
                        var1_4 = 0;
                    }
                    var3_5 = false;
                }
                var4_3 = var3_5;
                if (var1_4 != 0) {
                    this.u().a(var3_5);
                    var4_3 = var3_5;
                }
            }
            this.c = var4_3;
        }
        if (this.c.booleanValue()) {
            this.a.a();
            return;
        }
        var5_1 = this.l().getPackageManager().queryIntentServices(new Intent().setClassName(this.l(), "com.google.android.gms.measurement.AppMeasurementService"), 65536);
        var1_4 = var2_2;
        if (var5_1 != null) {
            var1_4 = var2_2;
            if (var5_1.size() > 0) {
                var1_4 = 1;
            }
        }
        if (var1_4 != 0) {
            var5_1 = new Intent("com.google.android.gms.measurement.START");
            var5_1.setComponent(new ComponentName(this.l(), "com.google.android.gms.measurement.AppMeasurementService"));
            this.a.a((Intent)var5_1);
            return;
        }
        this.t().y().a("Unable to use remote or local measurement implementation. Please register the AppMeasurementService service in the app manifest");
    }

    final Boolean D() {
        return this.c;
    }

    /*
     * Enabled aggressive block sorting
     * Enabled unnecessary exception pruning
     * Enabled aggressive exception aggregation
     */
    public final void E() {
        this.c();
        this.Q();
        try {
            a.a();
            this.l().unbindService((ServiceConnection)this.a);
        }
        catch (IllegalArgumentException | IllegalStateException runtimeException) {}
        this.b = null;
    }

    protected final void a(aao aao2, String string2) {
        ah.a(aao2);
        this.c();
        this.Q();
        this.a(new aeh(this, true, this.m().a(aao2), aao2, this.a(true), string2));
    }

    protected final void a(aat aat2) {
        this.c();
        ah.a(aat2);
        this.b = aat2;
        this.F();
        this.H();
    }

    /*
     * Unable to fully structure code
     * Enabled aggressive block sorting
     * Enabled unnecessary exception pruning
     * Enabled aggressive exception aggregation
     * Lifted jumps to return sites
     */
    final void a(aat var1_1, wz var2_2, zw var3_3) {
        this.c();
        this.Q();
        var5_4 = 0;
        var4_5 = 100;
        while (var5_4 < 1001) {
            if (var4_5 != 100) return;
            var8_8 = new ArrayList<wz>();
            var9_12 = this.m().a(100);
            if (var9_12 != null) {
                var8_8.addAll(var9_12);
                var4_5 = var9_12.size();
            } else {
                var4_5 = 0;
            }
            if (var2_2 != null && var4_5 < 100) {
                var8_8.add(var2_2);
            }
            var11_14 = var8_8;
            var7_7 = var11_14.size();
            var6_6 = 0;
            while (var6_6 < var7_7) {
                block13 : {
                    var8_8 = var11_14.get(var6_6);
                    ++var6_6;
                    if (!((var8_8 = (wz)var8_8) instanceof aao)) ** GOTO lbl30
                    try {
                        var1_1.a((aao)var8_8, var3_3);
                    }
                    catch (RemoteException var8_9) {
                        block12 : {
                            var9_12 = this.t().y();
                            var10_13 = "Failed to send event to the service";
                            break block12;
lbl30: // 1 sources:
                            if (var8_8 instanceof afh) {
                                try {
                                    var1_1.a((afh)var8_8, var3_3);
                                    continue;
                                }
                                catch (RemoteException var8_10) {
                                    var9_12 = this.t().y();
                                    var10_13 = "Failed to send attribute to the service";
                                    break block12;
                                }
                            }
                            if (!(var8_8 instanceof zz)) break block13;
                            try {
                                var1_1.a((zz)var8_8, var3_3);
                                continue;
                            }
                            catch (RemoteException var8_11) {
                                var9_12 = this.t().y();
                                var10_13 = "Failed to send conditional property to the service";
                            }
                        }
                        var9_12.a(var10_13, var8_8);
                    }
                    continue;
                }
                this.t().y().a("Discarding data. Unrecognized parcel type.");
            }
            ++var5_4;
        }
    }

    protected final void a(adt adt2) {
        this.c();
        this.Q();
        this.a(new aee(this, adt2));
    }

    protected final void a(afh afh2) {
        this.c();
        this.Q();
        this.a(new ael(this, this.m().a(afh2), afh2, this.a(true)));
    }

    protected final void a(zz zz2) {
        ah.a(zz2);
        this.c();
        this.Q();
        this.a(new aei(this, true, this.m().a(zz2), new zz(zz2), this.a(true), zz2));
    }

    public final void a(AtomicReference<String> atomicReference) {
        this.c();
        this.Q();
        this.a(new aec(this, atomicReference, this.a(false)));
    }

    protected final void a(AtomicReference<List<zz>> atomicReference, String string2, String string3, String string4) {
        this.c();
        this.Q();
        this.a(new aej(this, atomicReference, string2, string3, string4, this.a(false)));
    }

    protected final void a(AtomicReference<List<afh>> atomicReference, String string2, String string3, String string4, boolean bl2) {
        this.c();
        this.Q();
        this.a(new aek(this, atomicReference, string2, string3, string4, bl2, this.a(false)));
    }

    protected final void a(AtomicReference<List<afh>> atomicReference, boolean bl2) {
        this.c();
        this.Q();
        this.a(new aem(this, atomicReference, this.a(false), bl2));
    }

    @Override
    protected final boolean w() {
        return false;
    }

    public final boolean y() {
        this.c();
        this.Q();
        if (this.b != null) {
            return true;
        }
        return false;
    }

    protected final void z() {
        this.c();
        this.Q();
        this.a(new aeg(this, this.a(true)));
    }
}


/*
 * Decompiled with CFR 0_132.
 * 
 * Could not load the following classes:
 *  android.content.Context
 *  android.content.SharedPreferences
 *  android.content.SharedPreferences$Editor
 *  android.text.TextUtils
 */
package com.google.android.gms.internal;

import android.content.Context;
import android.content.SharedPreferences;
import android.text.TextUtils;
import com.google.android.gms.analytics.p;
import com.google.android.gms.common.util.f;
import com.google.android.gms.internal.qv;
import com.google.android.gms.internal.qx;
import com.google.android.gms.internal.sh;
import com.google.android.gms.internal.si;
import com.google.android.gms.internal.sx;
import com.google.android.gms.internal.sy;
import com.google.android.gms.internal.te;

public final class sw
extends qv {
    private SharedPreferences a;
    private long b;
    private long c = -1L;
    private final sy d = new sy(this, "monitoring", sh.D.a(), null);

    protected sw(qx qx2) {
        super(qx2);
    }

    static /* synthetic */ SharedPreferences a(sw sw2) {
        return sw2.a;
    }

    @Override
    protected final void a() {
        this.a = this.i().getSharedPreferences("com.google.android.gms.analytics.prefs", 0);
    }

    public final void a(String string2) {
        p.d();
        this.x();
        SharedPreferences.Editor editor = this.a.edit();
        if (TextUtils.isEmpty((CharSequence)string2)) {
            editor.remove("installation_campaign");
        } else {
            editor.putString("installation_campaign", string2);
        }
        if (!editor.commit()) {
            this.e("Failed to commit campaign data");
        }
    }

    /*
     * Enabled aggressive block sorting
     */
    public final long b() {
        p.d();
        this.x();
        if (this.b != 0L) return this.b;
        long l2 = this.a.getLong("first_run", 0L);
        if (l2 == 0L) {
            long l3 = this.h().a();
            SharedPreferences.Editor editor = this.a.edit();
            editor.putLong("first_run", l3);
            l2 = l3;
            if (!editor.commit()) {
                this.e("Failed to commit first run time");
                l2 = l3;
            }
        }
        this.b = l2;
        return this.b;
    }

    public final te c() {
        return new te(this.h(), this.b());
    }

    public final long d() {
        p.d();
        this.x();
        if (this.c == -1L) {
            this.c = this.a.getLong("last_dispatch", 0L);
        }
        return this.c;
    }

    public final void e() {
        p.d();
        this.x();
        long l2 = this.h().a();
        SharedPreferences.Editor editor = this.a.edit();
        editor.putLong("last_dispatch", l2);
        editor.apply();
        this.c = l2;
    }

    public final String f() {
        p.d();
        this.x();
        String string2 = this.a.getString("installation_campaign", null);
        if (TextUtils.isEmpty((CharSequence)string2)) {
            return null;
        }
        return string2;
    }

    public final sy z() {
        return this.d;
    }
}


/*
 * Decompiled with CFR 0_132.
 * 
 * Could not load the following classes:
 *  android.accounts.Account
 *  android.net.Uri
 *  android.os.Parcel
 *  android.os.Parcelable
 *  android.os.Parcelable$Creator
 *  android.text.TextUtils
 *  org.json.JSONArray
 *  org.json.JSONException
 *  org.json.JSONObject
 */
package com.google.android.gms.auth.api.signin;

import android.accounts.Account;
import android.net.Uri;
import android.os.Parcel;
import android.os.Parcelable;
import android.text.TextUtils;
import com.google.android.gms.auth.api.signin.b;
import com.google.android.gms.auth.api.signin.c;
import com.google.android.gms.common.api.Scope;
import com.google.android.gms.common.internal.ReflectedParcelable;
import com.google.android.gms.common.internal.ah;
import com.google.android.gms.common.util.f;
import com.google.android.gms.common.util.i;
import com.google.android.gms.internal.wz;
import com.google.android.gms.internal.xc;
import java.util.ArrayList;
import java.util.Arrays;
import java.util.Collection;
import java.util.Comparator;
import java.util.HashSet;
import java.util.List;
import java.util.Set;
import org.json.JSONArray;
import org.json.JSONException;
import org.json.JSONObject;

public class GoogleSignInAccount
extends wz
implements ReflectedParcelable {
    public static final Parcelable.Creator<GoogleSignInAccount> CREATOR = new c();
    private static f a = i.d();
    private int b;
    private String c;
    private String d;
    private String e;
    private String f;
    private Uri g;
    private String h;
    private long i;
    private String j;
    private List<Scope> k;
    private String l;
    private String m;
    private Set<Scope> n = new HashSet<Scope>();

    GoogleSignInAccount(int n2, String string2, String string3, String string4, String string5, Uri uri, String string6, long l2, String string7, List<Scope> list, String string8, String string9) {
        this.b = n2;
        this.c = string2;
        this.d = string3;
        this.e = string4;
        this.f = string5;
        this.g = uri;
        this.h = string6;
        this.i = l2;
        this.j = string7;
        this.k = list;
        this.l = string8;
        this.m = string9;
    }

    static final /* synthetic */ int a(Scope scope, Scope scope2) {
        return scope.a().compareTo(scope2.a());
    }

    public static GoogleSignInAccount a(String object) {
        if (TextUtils.isEmpty((CharSequence)object)) {
            return null;
        }
        JSONObject jSONObject = new JSONObject((String)object);
        object = jSONObject.optString("photoUrl", null);
        object = !TextUtils.isEmpty((CharSequence)object) ? Uri.parse((String)object) : null;
        long l2 = Long.parseLong(jSONObject.getString("expirationTime"));
        HashSet<Scope> hashSet = new HashSet<Scope>();
        JSONArray jSONArray = jSONObject.getJSONArray("grantedScopes");
        int n2 = jSONArray.length();
        for (int i2 = 0; i2 < n2; ++i2) {
            hashSet.add(new Scope(jSONArray.getString(i2)));
        }
        object = GoogleSignInAccount.a(jSONObject.optString("id"), jSONObject.optString("tokenId", null), jSONObject.optString("email", null), jSONObject.optString("displayName", null), jSONObject.optString("givenName", null), jSONObject.optString("familyName", null), (Uri)object, l2, jSONObject.getString("obfuscatedIdentifier"), hashSet);
        object.h = jSONObject.optString("serverAuthCode", null);
        return object;
    }

    private static GoogleSignInAccount a(String string2, String string3, String string4, String string5, String string6, String string7, Uri uri, Long l2, String string8, Set<Scope> set) {
        if (l2 == null) {
            l2 = a.a() / 1000L;
        }
        return new GoogleSignInAccount(3, string2, string3, string4, string5, uri, null, l2, ah.a(string8), new ArrayList<Scope>((Collection)ah.a(set)), string6, string7);
    }

    private final JSONObject m() {
        JSONObject jSONObject = new JSONObject();
        if (this.a() != null) {
            jSONObject.put("id", (Object)this.a());
        }
        if (this.b() != null) {
            jSONObject.put("tokenId", (Object)this.b());
        }
        if (this.c() != null) {
            jSONObject.put("email", (Object)this.c());
        }
        if (this.e() != null) {
            jSONObject.put("displayName", (Object)this.e());
        }
        if (this.f() != null) {
            jSONObject.put("givenName", (Object)this.f());
        }
        if (this.g() != null) {
            jSONObject.put("familyName", (Object)this.g());
        }
        if (this.h() != null) {
            jSONObject.put("photoUrl", (Object)this.h().toString());
        }
        if (this.i() != null) {
            jSONObject.put("serverAuthCode", (Object)this.i());
        }
        jSONObject.put("expirationTime", this.i);
        jSONObject.put("obfuscatedIdentifier", (Object)this.j);
        JSONArray jSONArray = new JSONArray();
        Scope[] arrscope = this.k.toArray(new Scope[this.k.size()]);
        Arrays.sort(arrscope, b.a);
        int n2 = arrscope.length;
        for (int i2 = 0; i2 < n2; ++i2) {
            jSONArray.put((Object)arrscope[i2].a());
            continue;
        }
        try {
            jSONObject.put("grantedScopes", (Object)jSONArray);
            return jSONObject;
        }
        catch (JSONException jSONException) {
            throw new RuntimeException((Throwable)jSONException);
        }
    }

    public String a() {
        return this.c;
    }

    public String b() {
        return this.d;
    }

    public String c() {
        return this.e;
    }

    public Account d() {
        if (this.e == null) {
            return null;
        }
        return new Account(this.e, "com.google");
    }

    public String e() {
        return this.f;
    }

    public boolean equals(Object object) {
        if (object == this) {
            return true;
        }
        if (!(object instanceof GoogleSignInAccount)) {
            return false;
        }
        object = (GoogleSignInAccount)object;
        if (object.j.equals(this.j) && object.k().equals(this.k())) {
            return true;
        }
        return false;
    }

    public String f() {
        return this.l;
    }

    public String g() {
        return this.m;
    }

    public Uri h() {
        return this.g;
    }

    public int hashCode() {
        return (this.j.hashCode() + 527) * 31 + this.k().hashCode();
    }

    public String i() {
        return this.h;
    }

    public final String j() {
        return this.j;
    }

    public final Set<Scope> k() {
        HashSet<Scope> hashSet = new HashSet<Scope>(this.k);
        hashSet.addAll(this.n);
        return hashSet;
    }

    public final String l() {
        JSONObject jSONObject = this.m();
        jSONObject.remove("serverAuthCode");
        return jSONObject.toString();
    }

    public void writeToParcel(Parcel parcel, int n2) {
        int n3 = xc.a(parcel);
        xc.a(parcel, 1, this.b);
        xc.a(parcel, 2, this.a(), false);
        xc.a(parcel, 3, this.b(), false);
        xc.a(parcel, 4, this.c(), false);
        xc.a(parcel, 5, this.e(), false);
        xc.a(parcel, 6, (Parcelable)this.h(), n2, false);
        xc.a(parcel, 7, this.i(), false);
        xc.a(parcel, 8, this.i);
        xc.a(parcel, 9, this.j, false);
        xc.c(parcel, 10, this.k, false);
        xc.a(parcel, 11, this.f(), false);
        xc.a(parcel, 12, this.g(), false);
        xc.a(parcel, n3);
    }
}


/*
 * Decompiled with CFR 0_132.
 * 
 * Could not load the following classes:
 *  android.content.ComponentName
 *  android.content.Context
 *  android.content.Intent
 *  android.content.pm.PackageInfo
 *  android.content.pm.PackageManager
 *  android.content.pm.PackageManager$NameNotFoundException
 *  android.content.pm.ServiceInfo
 *  android.content.pm.Signature
 *  android.net.Uri
 *  android.os.Bundle
 *  android.os.Parcel
 *  android.os.Parcelable
 *  android.os.Parcelable$Creator
 *  android.text.TextUtils
 */
package com.google.android.gms.internal;

import android.content.ComponentName;
import android.content.Context;
import android.content.Intent;
import android.content.pm.PackageInfo;
import android.content.pm.PackageManager;
import android.content.pm.ServiceInfo;
import android.content.pm.Signature;
import android.net.Uri;
import android.os.Bundle;
import android.os.Parcel;
import android.os.Parcelable;
import android.text.TextUtils;
import com.google.android.gms.common.internal.ah;
import com.google.android.gms.common.util.f;
import com.google.android.gms.internal.aab;
import com.google.android.gms.internal.aac;
import com.google.android.gms.internal.aai;
import com.google.android.gms.internal.aal;
import com.google.android.gms.internal.aao;
import com.google.android.gms.internal.aaw;
import com.google.android.gms.internal.aax;
import com.google.android.gms.internal.aaz;
import com.google.android.gms.internal.abb;
import com.google.android.gms.internal.abd;
import com.google.android.gms.internal.abm;
import com.google.android.gms.internal.abw;
import com.google.android.gms.internal.abx;
import com.google.android.gms.internal.acc;
import com.google.android.gms.internal.adc;
import com.google.android.gms.internal.ade;
import com.google.android.gms.internal.adv;
import com.google.android.gms.internal.adz;
import com.google.android.gms.internal.aez;
import com.google.android.gms.internal.afy;
import com.google.android.gms.internal.afz;
import com.google.android.gms.internal.aga;
import com.google.android.gms.internal.agd;
import com.google.android.gms.internal.bjq;
import com.google.android.gms.internal.bjs;
import com.google.android.gms.internal.xb;
import com.google.android.gms.internal.ye;
import com.google.android.gms.internal.zr;
import com.google.android.gms.internal.zw;
import com.google.android.gms.internal.zy;
import com.google.android.gms.measurement.AppMeasurement;
import java.io.ByteArrayInputStream;
import java.io.ByteArrayOutputStream;
import java.io.Closeable;
import java.io.IOException;
import java.io.InputStream;
import java.io.ObjectInputStream;
import java.io.ObjectOutputStream;
import java.io.OutputStream;
import java.security.MessageDigest;
import java.security.NoSuchAlgorithmException;
import java.security.SecureRandom;
import java.security.cert.Certificate;
import java.security.cert.CertificateException;
import java.security.cert.CertificateFactory;
import java.security.cert.X509Certificate;
import java.util.ArrayList;
import java.util.Arrays;
import java.util.BitSet;
import java.util.Collections;
import java.util.Iterator;
import java.util.List;
import java.util.Random;
import java.util.Set;
import java.util.concurrent.atomic.AtomicLong;
import java.util.zip.GZIPInputStream;
import java.util.zip.GZIPOutputStream;
import javax.security.auth.x500.X500Principal;

public final class afk
extends adc {
    private static String[] a = new String[]{"firebase_"};
    private SecureRandom b;
    private final AtomicLong c = new AtomicLong(0L);
    private int d;

    afk(acc acc2) {
        super(acc2);
    }

    private final int a(String string2, Object object, boolean bl2) {
        block6 : {
            boolean bl3;
            block9 : {
                int n2;
                boolean bl4;
                block8 : {
                    block7 : {
                        if (!bl2) break block6;
                        boolean bl5 = object instanceof Parcelable[];
                        bl4 = true;
                        if (!bl5) break block7;
                        n2 = ((Parcelable[])object).length;
                        break block8;
                    }
                    bl3 = bl4;
                    if (!(object instanceof ArrayList)) break block9;
                    n2 = ((ArrayList)object).size();
                }
                bl3 = bl4;
                if (n2 > 1000) {
                    this.t().A().a("Parameter array is too long; discarded. Value kind, name, array length", "param", string2, n2);
                    bl3 = false;
                }
            }
            if (!bl3) {
                return 17;
            }
        }
        bl2 = afk.h(string2) ? this.a("param", string2, 256, object, bl2) : this.a("param", string2, 100, object, bl2);
        if (bl2) {
            return 0;
        }
        return 4;
    }

    public static afz a(afy arrafz, String string2) {
        for (afz afz2 : arrafz.a) {
            if (!afz2.a.equals(string2)) continue;
            return afz2;
        }
        return null;
    }

    private static Object a(int n2, Object object, boolean bl2) {
        if (object == null) {
            return null;
        }
        if (!(object instanceof Long)) {
            if (object instanceof Double) {
                return object;
            }
            if (object instanceof Integer) {
                return (long)((Integer)object);
            }
            if (object instanceof Byte) {
                return (long)((Byte)object);
            }
            if (object instanceof Short) {
                return (long)((Short)object);
            }
            if (object instanceof Boolean) {
                long l2 = (Boolean)object != false ? 1L : 0L;
                return l2;
            }
            if (object instanceof Float) {
                return ((Float)object).doubleValue();
            }
            if (!(object instanceof String || object instanceof Character || object instanceof CharSequence)) {
                return null;
            }
            return afk.a(String.valueOf(object), n2, bl2);
        }
        return object;
    }

    public static String a(String string2, int n2, boolean bl2) {
        String string3 = string2;
        if (string2.codePointCount(0, string2.length()) > n2) {
            if (bl2) {
                return String.valueOf(string2.substring(0, string2.offsetByCodePoints(0, n2))).concat("...");
            }
            string3 = null;
        }
        return string3;
    }

    public static String a(String string2, String[] arrstring, String[] arrstring2) {
        ah.a(arrstring);
        ah.a(arrstring2);
        int n2 = Math.min(arrstring.length, arrstring2.length);
        for (int i2 = 0; i2 < n2; ++i2) {
            if (!afk.b(string2, arrstring[i2])) continue;
            return arrstring2[i2];
        }
        return null;
    }

    private static void a(Bundle bundle, Object object) {
        ah.a(bundle);
        if (object != null && (object instanceof String || object instanceof CharSequence)) {
            bundle.putLong("_el", (long)String.valueOf(object).length());
        }
    }

    public static boolean a(Context context, String string2) {
        block5 : {
            PackageManager packageManager;
            block4 : {
                try {
                    packageManager = context.getPackageManager();
                    if (packageManager != null) break block4;
                    return false;
                }
                catch (PackageManager.NameNotFoundException nameNotFoundException) {
                    return false;
                }
            }
            context = packageManager.getServiceInfo(new ComponentName(context, string2), 0);
            if (context == null) break block5;
            boolean bl2 = context.enabled;
            if (!bl2) break block5;
            return true;
        }
        return false;
    }

    public static boolean a(Intent object) {
        if (!("android-app://com.google.android.googlequicksearchbox/https/www.google.com".equals(object = object.getStringExtra("android.intent.extra.REFERRER_NAME")) || "https://www.google.com".equals(object) || "android-app://com.google.appcrawler".equals(object))) {
            return false;
        }
        return true;
    }

    private static boolean a(Bundle bundle, int n2) {
        if (bundle.getLong("_err") == 0L) {
            bundle.putLong("_err", (long)n2);
            return true;
        }
        return false;
    }

    static boolean a(aao aao2, zw zw2) {
        ah.a(aao2);
        ah.a(zw2);
        if (TextUtils.isEmpty((CharSequence)zw2.b)) {
            return false;
        }
        return true;
    }

    static boolean a(String string2) {
        ah.a(string2);
        if (string2.charAt(0) == '_' && !string2.equals("_ep")) {
            return false;
        }
        return true;
    }

    private final boolean a(String object, String string2, int n2, Object object22, boolean bl2) {
        if (object22 == null) {
            return true;
        }
        if (!(object22 instanceof Long || object22 instanceof Float || object22 instanceof Integer || object22 instanceof Byte || object22 instanceof Short || object22 instanceof Boolean)) {
            if (object22 instanceof Double) {
                return true;
            }
            if (!(object22 instanceof String || object22 instanceof Character || object22 instanceof CharSequence)) {
                void var5_10;
                if (object22 instanceof Bundle && var5_10 != false) {
                    return true;
                }
                if (object22 instanceof Parcelable[] && var5_10 != false) {
                    for (Parcelable parcelable : (Parcelable[])object22) {
                        if (parcelable instanceof Bundle) continue;
                        this.t().A().a("All Parcelable[] elements must be of type Bundle. Value type, name", parcelable.getClass(), string2);
                        return false;
                    }
                    return true;
                }
                if (object22 instanceof ArrayList && var5_10 != false) {
                    object = (ArrayList)object22;
                    int n3 = object.size();
                    for (n2 = 0; n2 < n3; ++n2) {
                        Object e2 = object.get(n2);
                        if (e2 instanceof Bundle) continue;
                        this.t().A().a("All ArrayList elements must be of type Bundle. Value type, name", e2.getClass(), string2);
                        return false;
                    }
                    return true;
                }
                return false;
            }
            String string3 = String.valueOf(object22);
            if (string3.codePointCount(0, string3.length()) > n2) {
                this.t().A().a("Value is too long; discarded. Value kind, name, value length", object, string2, string3.length());
                return false;
            }
        }
        return true;
    }

    public static boolean a(long[] arrl, int n2) {
        if (n2 >= arrl.length << 6) {
            return false;
        }
        if ((1L << n2 % 64 & arrl[n2 / 64]) != 0L) {
            return true;
        }
        return false;
    }

    static byte[] a(Parcelable arrby) {
        if (arrby == null) {
            return null;
        }
        Parcel parcel = Parcel.obtain();
        try {
            arrby.writeToParcel(parcel, 0);
            arrby = parcel.marshall();
            return arrby;
        }
        finally {
            parcel.recycle();
        }
    }

    public static long[] a(BitSet bitSet) {
        int n2 = (bitSet.length() + 63) / 64;
        long[] arrl = new long[n2];
        for (int i2 = 0; i2 < n2; ++i2) {
            int n3;
            arrl[i2] = 0L;
            for (int i3 = 0; i3 < 64 && (n3 = (i2 << 6) + i3) < bitSet.length(); ++i3) {
                if (!bitSet.get(n3)) continue;
                arrl[i2] = arrl[i2] | 1L << i3;
            }
        }
        return arrl;
    }

    /*
     * Enabled force condition propagation
     * Lifted jumps to return sites
     */
    public static Bundle[] a(Object object) {
        void var0_3;
        if (object instanceof Bundle) {
            return new Bundle[]{(Bundle)object};
        }
        if (object instanceof Parcelable[]) {
            Object object2 = object;
            T[] arrT = Arrays.copyOf(object2, ((Parcelable[])object2).length, Bundle[].class);
            do {
                return (Bundle[])var0_3;
                break;
            } while (true);
        }
        if (!(object instanceof ArrayList)) return null;
        ArrayList arrayList = (ArrayList)object;
        Bundle[] arrbundle = arrayList.toArray((T[])new Bundle[arrayList.size()]);
        return (Bundle[])var0_3;
    }

    static afz[] a(afz[] arrafz, String string2, Object object) {
        afz[] arrafz2;
        int n2 = arrafz.length;
        for (int i2 = 0; i2 < n2; ++i2) {
            arrafz2 = arrafz[i2];
            if (!string2.equals(arrafz2.a)) continue;
            arrafz2.c = null;
            arrafz2.b = null;
            arrafz2.d = null;
            if (object instanceof Long) {
                arrafz2.c = (Long)object;
                return arrafz;
            }
            if (object instanceof String) {
                arrafz2.b = (String)object;
                return arrafz;
            }
            if (object instanceof Double) {
                arrafz2.d = (Double)object;
            }
            return arrafz;
        }
        arrafz2 = new afz[arrafz.length + 1];
        System.arraycopy(arrafz, 0, arrafz2, 0, arrafz.length);
        afz afz2 = new afz();
        afz2.a = string2;
        if (object instanceof Long) {
            afz2.c = (Long)object;
        } else if (object instanceof String) {
            afz2.b = (String)object;
        } else if (object instanceof Double) {
            afz2.d = (Double)object;
        }
        arrafz2[arrafz.length] = afz2;
        return arrafz2;
    }

    public static Object b(afy bjs2, String string2) {
        if ((bjs2 = afk.a(bjs2, string2)) != null) {
            if (bjs2.b != null) {
                return bjs2.b;
            }
            if (bjs2.c != null) {
                return bjs2.c;
            }
            if (bjs2.d != null) {
                return bjs2.d;
            }
        }
        return null;
    }

    /*
     * Loose catch block
     * Enabled aggressive block sorting
     * Enabled unnecessary exception pruning
     * Enabled aggressive exception aggregation
     * Lifted jumps to return sites
     */
    public static Object b(Object object) {
        void var0_1;
        Closeable closeable;
        OutputStream outputStream;
        block10 : {
            if (object == null) {
                return null;
            }
            closeable = new ByteArrayOutputStream();
            outputStream = new ObjectOutputStream((OutputStream)closeable);
            outputStream.writeObject(object);
            outputStream.flush();
            closeable = new ObjectInputStream(new ByteArrayInputStream(closeable.toByteArray()));
            try {
                object = closeable.readObject();
            }
            catch (Throwable throwable) {
                break block10;
            }
            try {
                outputStream.close();
                closeable.close();
                return object;
            }
            catch (IOException | ClassNotFoundException exception) {
                return null;
            }
            catch (Throwable throwable) {
                closeable = null;
            }
            break block10;
            catch (Throwable throwable) {
                closeable = null;
                outputStream = closeable;
            }
        }
        if (outputStream != null) {
            outputStream.close();
        }
        if (closeable == null) throw var0_1;
        closeable.close();
        throw var0_1;
    }

    public static boolean b(String string2, String string3) {
        if (string2 == null && string3 == null) {
            return true;
        }
        if (string2 == null) {
            return false;
        }
        return string2.equals(string3);
    }

    static long c(byte[] arrby) {
        ah.a(arrby);
        int n2 = arrby.length;
        int n3 = 0;
        boolean bl2 = n2 > 0;
        ah.a(bl2);
        long l2 = 0L;
        for (n2 = arrby.length - 1; n2 >= 0 && n2 >= arrby.length - 8; --n2) {
            l2 += ((long)arrby[n2] & 255L) << n3;
            n3 += 8;
        }
        return l2;
    }

    /*
     * Enabled force condition propagation
     * Lifted jumps to return sites
     */
    private final boolean c(Context object, String string2) {
        void var2_11;
        void var1_7;
        Object object2;
        void var2_8;
        object2 = new X500Principal("CN=Android Debug,O=Android,C=US");
        PackageInfo packageInfo = ye.a(object).b((String)var2_8, 64);
        if (packageInfo == null) return true;
        try {
            if (packageInfo.signatures == null) return true;
            if (packageInfo.signatures.length <= 0) return true;
            Signature signature = packageInfo.signatures[0];
            return ((X509Certificate)CertificateFactory.getInstance("X.509").generateCertificate(new ByteArrayInputStream(signature.toByteArray()))).getSubjectX500Principal().equals(object2);
        }
        catch (PackageManager.NameNotFoundException nameNotFoundException) {
            object2 = this.t().y();
            String string3 = "Package name not found";
        }
        catch (CertificateException certificateException) {
            object2 = this.t().y();
            String string4 = "Error obtaining certificate";
        }
        object2.a((String)var1_7, var2_11);
        return true;
    }

    private final boolean c(String string2, String string3) {
        int n2;
        if (string3 == null) {
            this.t().y().a("Name is required and can't be null. Type", string2);
            return false;
        }
        if (string3.length() == 0) {
            this.t().y().a("Name is required and can't be empty. Type", string2);
            return false;
        }
        int n3 = string3.codePointAt(0);
        if (!Character.isLetter(n3) && n3 != 95) {
            this.t().y().a("Name must start with a letter or _ (underscore). Type, name", string2, string3);
            return false;
        }
        int n4 = string3.length();
        for (n3 = Character.charCount((int)n3); n3 < n4; n3 += Character.charCount((int)n2)) {
            n2 = string3.codePointAt(n3);
            if (n2 == 95 || Character.isLetterOrDigit(n2)) continue;
            this.t().y().a("Name must consist of letters, digits or _ (underscores). Type, name", string2, string3);
            return false;
        }
        return true;
    }

    /*
     * Enabled aggressive block sorting
     * Enabled unnecessary exception pruning
     * Enabled aggressive exception aggregation
     */
    static MessageDigest f(String string2) {
        int n2 = 0;
        while (n2 < 2) {
            try {
                MessageDigest messageDigest = MessageDigest.getInstance(string2);
                if (messageDigest != null) {
                    return messageDigest;
                }
            }
            catch (NoSuchAlgorithmException noSuchAlgorithmException) {}
            ++n2;
        }
        return null;
    }

    public static boolean h(String string2) {
        if (!TextUtils.isEmpty((CharSequence)string2) && string2.startsWith("_")) {
            return true;
        }
        return false;
    }

    static boolean j(String string2) {
        if (string2 != null && string2.matches("(\\+|-)?([0-9]+\\.?[0-9]*|[0-9]*\\.?[0-9]+)") && string2.length() <= 310) {
            return true;
        }
        return false;
    }

    /*
     * Unable to fully structure code
     * Enabled aggressive block sorting
     * Lifted jumps to return sites
     */
    static boolean m(String var0) {
        block7 : {
            block5 : {
                block6 : {
                    ah.a(var0);
                    var1_1 = var0.hashCode();
                    if (var1_1 == 94660) break block5;
                    if (var1_1 == 95025) break block6;
                    if (var1_1 != 95027 || !var0.equals("_ui")) ** GOTO lbl-1000
                    var1_1 = 1;
                    break block7;
                }
                if (!var0.equals("_ug")) ** GOTO lbl-1000
                var1_1 = 2;
                break block7;
            }
            if (var0.equals("_in")) {
                var1_1 = 0;
            } else lbl-1000: // 3 sources:
            {
                var1_1 = -1;
            }
        }
        switch (var1_1) {
            default: {
                return false;
            }
            case 0: 
            case 1: 
            case 2: 
        }
        return true;
    }

    private final int n(String string2) {
        if (!this.a("event param", string2)) {
            return 3;
        }
        if (!this.a("event param", null, string2)) {
            return 14;
        }
        if (!this.a("event param", 40, string2)) {
            return 3;
        }
        return 0;
    }

    private final int o(String string2) {
        if (!this.c("event param", string2)) {
            return 3;
        }
        if (!this.a("event param", null, string2)) {
            return 14;
        }
        if (!this.a("event param", 40, string2)) {
            return 3;
        }
        return 0;
    }

    private static int p(String string2) {
        if ("_ldl".equals(string2)) {
            return 2048;
        }
        if ("_id".equals(string2)) {
            return 256;
        }
        return 36;
    }

    public final Bundle a(Uri object) {
        String string2;
        String string3;
        String string4;
        Bundle bundle;
        String string5;
        block14 : {
            if (object == null) {
                return null;
            }
            try {
                if (object.isHierarchical()) {
                    string5 = object.getQueryParameter("utm_campaign");
                    string2 = object.getQueryParameter("utm_source");
                    string4 = object.getQueryParameter("utm_medium");
                    string3 = object.getQueryParameter("gclid");
                    break block14;
                }
                bundle = null;
                string3 = string2 = (string5 = bundle);
                string4 = string2;
                string2 = string5;
                string5 = bundle;
            }
            catch (UnsupportedOperationException unsupportedOperationException) {
                this.t().A().a("Install referrer url isn't a hierarchical URI", unsupportedOperationException);
                return null;
            }
        }
        if (TextUtils.isEmpty((CharSequence)string5) && TextUtils.isEmpty((CharSequence)string2) && TextUtils.isEmpty((CharSequence)string4) && TextUtils.isEmpty((CharSequence)string3)) {
            return null;
        }
        bundle = new Bundle();
        if (!TextUtils.isEmpty((CharSequence)string5)) {
            bundle.putString("campaign", string5);
        }
        if (!TextUtils.isEmpty((CharSequence)string2)) {
            bundle.putString("source", string2);
        }
        if (!TextUtils.isEmpty((CharSequence)string4)) {
            bundle.putString("medium", string4);
        }
        if (!TextUtils.isEmpty((CharSequence)string3)) {
            bundle.putString("gclid", string3);
        }
        if (!TextUtils.isEmpty((CharSequence)(string5 = object.getQueryParameter("utm_term")))) {
            bundle.putString("term", string5);
        }
        if (!TextUtils.isEmpty((CharSequence)(string5 = object.getQueryParameter("utm_content")))) {
            bundle.putString("content", string5);
        }
        if (!TextUtils.isEmpty((CharSequence)(string5 = object.getQueryParameter("aclid")))) {
            bundle.putString("aclid", string5);
        }
        if (!TextUtils.isEmpty((CharSequence)(string5 = object.getQueryParameter("cp1")))) {
            bundle.putString("cp1", string5);
        }
        if (!TextUtils.isEmpty((CharSequence)(object = object.getQueryParameter("anid")))) {
            bundle.putString("anid", (String)object);
        }
        return bundle;
    }

    final Bundle a(Bundle bundle) {
        Bundle bundle2 = new Bundle();
        if (bundle != null) {
            for (String string2 : bundle.keySet()) {
                Object object = this.a(string2, bundle.get(string2));
                if (object == null) {
                    this.t().A().a("Param value can't be null", this.o().b(string2));
                    continue;
                }
                this.a(bundle2, string2, object);
            }
        }
        return bundle2;
    }

    public final Bundle a(String string2, Bundle bundle, List<String> list, boolean bl2, boolean bl3) {
        Object object;
        if (bundle != null) {
            Bundle bundle2 = new Bundle(bundle);
            Iterator iterator = bundle.keySet().iterator();
            int n2 = 0;
            do {
                object = bundle2;
                if (iterator.hasNext()) {
                    int n3;
                    int n4;
                    object = (String)iterator.next();
                    if (list != null && list.contains(object)) {
                        n4 = 0;
                    } else {
                        n3 = bl2 ? this.n((String)object) : 0;
                        n4 = n3;
                        if (n3 == 0) {
                            n4 = this.o((String)object);
                        }
                    }
                    if (n4 != 0) {
                        n3 = n2;
                        if (afk.a(bundle2, n4)) {
                            bundle2.putString("_ev", afk.a((String)object, 40, true));
                            n3 = n2;
                            if (n4 == 3) {
                                afk.a(bundle2, object);
                                n3 = n2;
                            }
                        }
                    } else {
                        n4 = this.a((String)object, bundle.get((String)object), bl3);
                        if (n4 != 0 && !"_ev".equals(object)) {
                            n3 = n2;
                            if (afk.a(bundle2, n4)) {
                                bundle2.putString("_ev", afk.a((String)object, 40, true));
                                afk.a(bundle2, bundle.get((String)object));
                                n3 = n2;
                            }
                        } else {
                            if (!afk.a((String)object)) continue;
                            n2 = n3 = n2 + 1;
                            if (n3 <= 25) continue;
                            CharSequence charSequence = new StringBuilder(48);
                            charSequence.append("Event can't contain more than 25 params");
                            charSequence = charSequence.toString();
                            this.t().y().a((String)charSequence, this.o().a(string2), this.o().a(bundle));
                            afk.a(bundle2, 5);
                        }
                    }
                    bundle2.remove((String)object);
                    n2 = n3;
                    continue;
                }
                break;
            } while (true);
        } else {
            object = null;
        }
        return object;
    }

    /*
     * WARNING - Removed back jump from a try to a catch block - possible behaviour change.
     * Loose catch block
     * Enabled aggressive block sorting
     * Enabled unnecessary exception pruning
     * Enabled aggressive exception aggregation
     * Lifted jumps to return sites
     */
    final <T extends Parcelable> T a(byte[] parcelable, Parcelable.Creator<T> creator) {
        if (parcelable == null) {
            return null;
        }
        Parcel parcel = Parcel.obtain();
        try {
            parcel.unmarshall((byte[])parcelable, 0, ((Parcelable)parcelable).length);
            parcel.setDataPosition(0);
            parcelable = (Parcelable)creator.createFromParcel(parcel);
        }
        catch (Throwable throwable) {}
        parcel.recycle();
        return (T)parcelable;
        parcel.recycle();
        throw throwable;
        catch (xb xb2) {}
        {
            this.t().y().a("Failed to load parcelable from buffer");
        }
        parcel.recycle();
        return null;
    }

    final aao a(String string2, Bundle bundle, String string3, long l2, boolean bl2, boolean bl3) {
        if (TextUtils.isEmpty((CharSequence)string2)) {
            return null;
        }
        if (this.b(string2) == 0) {
            bundle = bundle != null ? new Bundle(bundle) : new Bundle();
            bundle.putString("_o", string3);
            return new aao(string2, new aal(this.a(this.a(string2, bundle, Collections.singletonList("_o"), false, false))), string3, l2);
        }
        this.t().y().a("Invalid conditional property event name", this.o().c(string2));
        throw new IllegalArgumentException();
    }

    /*
     * Enabled force condition propagation
     * Lifted jumps to return sites
     */
    public final Object a(String string2, Object object) {
        boolean bl2 = "_ev".equals(string2);
        int n2 = 256;
        if (bl2) {
            bl2 = true;
            do {
                return afk.a(n2, object, bl2);
                break;
            } while (true);
        }
        if (!afk.h(string2)) {
            n2 = 100;
        }
        bl2 = false;
        return afk.a(n2, object, bl2);
    }

    public final void a(int n2, String string2, String string3, int n3) {
        this.a(null, n2, string2, string3, n3);
    }

    public final void a(Bundle object, String string2, Object object2) {
        if (object == null) {
            return;
        }
        if (object2 instanceof Long) {
            object.putLong(string2, ((Long)object2).longValue());
            return;
        }
        if (object2 instanceof String) {
            object.putString(string2, String.valueOf(object2));
            return;
        }
        if (object2 instanceof Double) {
            object.putDouble(string2, ((Double)object2).doubleValue());
            return;
        }
        if (string2 != null) {
            object = object2 != null ? object2.getClass().getSimpleName() : null;
            this.t().B().a("Not putting event parameter. Invalid value type. name, type", this.o().b(string2), object);
        }
    }

    public final void a(afz afz2, Object object) {
        ah.a(object);
        afz2.b = null;
        afz2.c = null;
        afz2.d = null;
        if (object instanceof String) {
            afz2.b = (String)object;
            return;
        }
        if (object instanceof Long) {
            afz2.c = (Long)object;
            return;
        }
        if (object instanceof Double) {
            afz2.d = (Double)object;
            return;
        }
        this.t().y().a("Ignoring invalid (type) event param value", object);
    }

    public final void a(agd agd2, Object object) {
        ah.a(object);
        agd2.c = null;
        agd2.d = null;
        agd2.e = null;
        if (object instanceof String) {
            agd2.c = (String)object;
            return;
        }
        if (object instanceof Long) {
            agd2.d = (Long)object;
            return;
        }
        if (object instanceof Double) {
            agd2.e = (Double)object;
            return;
        }
        this.t().y().a("Ignoring invalid (type) user attribute value", object);
    }

    public final void a(String string2, int n2, String string3, String string4, int n3) {
        string2 = new Bundle();
        afk.a((Bundle)string2, n2);
        if (!TextUtils.isEmpty((CharSequence)string3)) {
            string2.putString(string3, string4);
        }
        if (n2 == 6 || n2 == 7 || n2 == 2) {
            string2.putLong("_el", (long)n3);
        }
        this.p.l().a("auto", "_err", (Bundle)string2);
    }

    public final boolean a(long l2, long l3) {
        if (l2 != 0L) {
            if (l3 <= 0L) {
                return true;
            }
            if (Math.abs(this.k().a() - l2) > l3) {
                return true;
            }
            return false;
        }
        return true;
    }

    final boolean a(String string2, int n2, String string3) {
        if (string3 == null) {
            this.t().y().a("Name is required and can't be null. Type", string2);
            return false;
        }
        if (string3.codePointCount(0, string3.length()) > n2) {
            this.t().y().a("Name is too long. Type, maximum supported length, name", string2, n2, string3);
            return false;
        }
        return true;
    }

    final boolean a(String string2, String string3) {
        int n2;
        if (string3 == null) {
            this.t().y().a("Name is required and can't be null. Type", string2);
            return false;
        }
        if (string3.length() == 0) {
            this.t().y().a("Name is required and can't be empty. Type", string2);
            return false;
        }
        int n3 = string3.codePointAt(0);
        if (!Character.isLetter(n3)) {
            this.t().y().a("Name must start with a letter. Type, name", string2, string3);
            return false;
        }
        int n4 = string3.length();
        for (n3 = Character.charCount((int)n3); n3 < n4; n3 += Character.charCount((int)n2)) {
            n2 = string3.codePointAt(n3);
            if (n2 == 95 || Character.isLetterOrDigit(n2)) continue;
            this.t().y().a("Name must consist of letters, digits or _ (underscores). Type, name", string2, string3);
            return false;
        }
        return true;
    }

    final boolean a(String string2, String[] arrstring, String string3) {
        int n2;
        block6 : {
            if (string3 == null) {
                this.t().y().a("Name is required and can't be null. Type", string2);
                return false;
            }
            ah.a(string3);
            for (n2 = 0; n2 < a.length; ++n2) {
                if (!string3.startsWith(a[n2])) continue;
                n2 = 1;
                break block6;
            }
            n2 = 0;
        }
        if (n2 != 0) {
            this.t().y().a("Name starts with reserved prefix. Type, name", string2, string3);
            return false;
        }
        if (arrstring != null) {
            block7 : {
                ah.a(arrstring);
                for (n2 = 0; n2 < arrstring.length; ++n2) {
                    if (!afk.b(string3, arrstring[n2])) continue;
                    n2 = 1;
                    break block7;
                }
                n2 = 0;
            }
            if (n2 != 0) {
                this.t().y().a("Name is reserved. Type, name", string2, string3);
                return false;
            }
        }
        return true;
    }

    public final byte[] a(aga aga2) {
        try {
            byte[] arrby = new byte[aga2.f()];
            bjq bjq2 = bjq.a(arrby, 0, arrby.length);
            aga2.a(bjq2);
            bjq2.a();
            return arrby;
        }
        catch (IOException iOException) {
            this.t().y().a("Data loss. Failed to serialize batch", iOException);
            return null;
        }
    }

    public final byte[] a(byte[] arrby) {
        try {
            ByteArrayOutputStream byteArrayOutputStream = new ByteArrayOutputStream();
            GZIPOutputStream gZIPOutputStream = new GZIPOutputStream(byteArrayOutputStream);
            gZIPOutputStream.write(arrby);
            gZIPOutputStream.close();
            byteArrayOutputStream.close();
            arrby = byteArrayOutputStream.toByteArray();
            return arrby;
        }
        catch (IOException iOException) {
            this.t().y().a("Failed to gzip content", iOException);
            throw iOException;
        }
    }

    public final int b(String string2) {
        if (!this.c("event", string2)) {
            return 2;
        }
        if (!this.a("event", AppMeasurement.a.a, string2)) {
            return 13;
        }
        if (!this.a("event", 40, string2)) {
            return 2;
        }
        return 0;
    }

    public final int b(String string2, Object object) {
        boolean bl2 = "_ldl".equals(string2) ? this.a("user property referrer", string2, afk.p(string2), object, false) : this.a("user property", string2, afk.p(string2), object, false);
        if (bl2) {
            return 0;
        }
        return 7;
    }

    final long b(Context context, String string2) {
        this.c();
        ah.a(context);
        ah.a(string2);
        PackageManager packageManager = context.getPackageManager();
        MessageDigest messageDigest = afk.f("MD5");
        if (messageDigest == null) {
            this.t().y().a("Could not get MD5 instance");
            return -1L;
        }
        if (packageManager != null) {
            try {
                if (!this.c(context, string2)) {
                    context = ye.a(context).b(this.l().getPackageName(), 64);
                    if (context.signatures != null && context.signatures.length > 0) {
                        return afk.c(messageDigest.digest(context.signatures[0].toByteArray()));
                    }
                    this.t().A().a("Could not get signatures");
                    return -1L;
                }
            }
            catch (PackageManager.NameNotFoundException nameNotFoundException) {
                this.t().y().a("Package name not found", (Object)nameNotFoundException);
            }
        }
        return 0L;
    }

    /*
     * Enabled aggressive block sorting
     * Enabled unnecessary exception pruning
     * Enabled aggressive exception aggregation
     */
    public final byte[] b(byte[] object) {
        try {
            object = new ByteArrayInputStream((byte[])object);
            GZIPInputStream gZIPInputStream = new GZIPInputStream((InputStream)object);
            ByteArrayOutputStream byteArrayOutputStream = new ByteArrayOutputStream();
            byte[] arrby = new byte[1024];
            do {
                int n2;
                if ((n2 = gZIPInputStream.read(arrby)) <= 0) {
                    gZIPInputStream.close();
                    object.close();
                    return byteArrayOutputStream.toByteArray();
                }
                byteArrayOutputStream.write(arrby, 0, n2);
            } while (true);
        }
        catch (IOException iOException) {
            this.t().y().a("Failed to ungzip content", iOException);
            throw iOException;
        }
    }

    public final int c(String string2) {
        if (!this.a("user property", string2)) {
            return 6;
        }
        if (!this.a("user property", AppMeasurement.e.a, string2)) {
            return 15;
        }
        if (!this.a("user property", 24, string2)) {
            return 6;
        }
        return 0;
    }

    /*
     * Enabled force condition propagation
     * Lifted jumps to return sites
     */
    public final Object c(String string2, Object object) {
        boolean bl2;
        int n2;
        if ("_ldl".equals(string2)) {
            n2 = afk.p(string2);
            bl2 = true;
            do {
                return afk.a(n2, object, bl2);
                break;
            } while (true);
        }
        n2 = afk.p(string2);
        bl2 = false;
        return afk.a(n2, object, bl2);
    }

    public final int d(String string2) {
        if (!this.c("user property", string2)) {
            return 6;
        }
        if (!this.a("user property", AppMeasurement.e.a, string2)) {
            return 15;
        }
        if (!this.a("user property", 24, string2)) {
            return 6;
        }
        return 0;
    }

    public final boolean e(String string2) {
        if (TextUtils.isEmpty((CharSequence)string2)) {
            this.t().y().a("Missing google_app_id. Firebase Analytics disabled. See https://goo.gl/NAOOOI");
            return false;
        }
        ah.a(string2);
        if (!string2.matches("^1:\\d+:android:[a-f0-9]+$")) {
            this.t().y().a("Invalid google_app_id. Firebase Analytics disabled. See https://goo.gl/NAOOOI. provided id", string2);
            return false;
        }
        return true;
    }

    public final boolean g(String string2) {
        this.c();
        if (ye.a(this.l()).a(string2) == 0) {
            return true;
        }
        this.t().D().a("Permission not granted", string2);
        return false;
    }

    public final boolean i(String string2) {
        if (TextUtils.isEmpty((CharSequence)string2)) {
            return false;
        }
        return this.v().A().equals(string2);
    }

    final boolean k(String string2) {
        return "1".equals(this.q().a(string2, "measurement.upload.blacklist_internal"));
    }

    final boolean l(String string2) {
        return "1".equals(this.q().a(string2, "measurement.upload.blacklist_public"));
    }

    @Override
    protected final void s_() {
        long l2;
        this.c();
        SecureRandom secureRandom = new SecureRandom();
        long l3 = l2 = secureRandom.nextLong();
        if (l2 == 0L) {
            l3 = l2 = secureRandom.nextLong();
            if (l2 == 0L) {
                this.t().A().a("Utils falling back to Random for random id");
                l3 = l2;
            }
        }
        this.c.set(l3);
    }

    @Override
    protected final boolean w() {
        return true;
    }

    /*
     * Enabled aggressive block sorting
     * Enabled unnecessary exception pruning
     * Enabled aggressive exception aggregation
     */
    public final long y() {
        if (this.c.get() == 0L) {
            AtomicLong atomicLong = this.c;
            synchronized (atomicLong) {
                int n2;
                long l2 = new Random(System.nanoTime() ^ this.k().a()).nextLong();
                this.d = n2 = this.d + 1;
                long l3 = n2;
                return l2 + l3;
            }
        }
        AtomicLong atomicLong = this.c;
        synchronized (atomicLong) {
            this.c.compareAndSet(-1L, 1L);
            return this.c.getAndIncrement();
        }
    }

    final SecureRandom z() {
        this.c();
        if (this.b == null) {
            this.b = new SecureRandom();
        }
        return this.b;
    }
}


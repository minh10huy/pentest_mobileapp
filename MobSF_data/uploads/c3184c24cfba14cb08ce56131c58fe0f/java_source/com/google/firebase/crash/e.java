/*
 * Decompiled with CFR 0_132.
 * 
 * Could not load the following classes:
 *  android.app.Application
 *  android.content.Context
 *  android.util.Log
 */
package com.google.firebase.crash;

import android.app.Application;
import android.content.Context;
import android.util.Log;
import com.google.android.gms.a.a;
import com.google.android.gms.a.m;
import com.google.android.gms.common.api.internal.cn;
import com.google.android.gms.common.api.internal.co;
import com.google.android.gms.common.util.h;
import com.google.android.gms.internal.bbt;
import com.google.android.gms.internal.bbv;
import com.google.android.gms.internal.bbx;
import com.google.firebase.crash.c;
import com.google.firebase.crash.f;
import com.google.firebase.crash.g;
import com.google.firebase.iid.FirebaseInstanceId;
import java.util.ArrayList;
import java.util.List;
import java.util.concurrent.ExecutionException;
import java.util.concurrent.Future;
import java.util.concurrent.TimeUnit;
import java.util.concurrent.TimeoutException;

final class e
implements Runnable {
    private /* synthetic */ Future a;
    private /* synthetic */ long b;
    private /* synthetic */ g c;
    private /* synthetic */ c d;

    e(c c2, Future future, long l2, g g2) {
        this.d = c2;
        this.a = future;
        this.b = 10000L;
        this.c = g2;
    }

    @Override
    public final void run() {
        Object object;
        Object object2;
        try {
            object = (bbv)this.a.get(this.b, TimeUnit.MILLISECONDS);
        }
        catch (InterruptedException | ExecutionException | TimeoutException exception) {
            Log.e((String)"FirebaseCrash", (String)"Failed to initialize crash reporting", (Throwable)exception);
            this.a.cancel(true);
            object = null;
        }
        if (object == null) {
            this.c.a();
            return;
        }
        try {
            object2 = c.a(this.d).c();
            object2 = new bbt(object2.b(), object2.a());
            object.a(m.a(c.b(this.d)), (bbt)object2);
            if (c.c(this.d) == null) {
                c.a(this.d, FirebaseInstanceId.a().c());
            }
            object.a(c.c(this.d));
            object.a(new ArrayList<String>());
            cn.a((Application)c.b(this.d).getApplicationContext());
            object.a(true ^ cn.a().b());
            cn.a().a(new f(this));
        }
        catch (Exception exception) {
            object = String.valueOf(exception.getMessage());
            object = object.length() != 0 ? "Failed to initialize crash reporting: ".concat((String)object) : new String("Failed to initialize crash reporting: ");
            Log.e((String)"FirebaseCrash", (String)object);
            h.a(c.b(this.d), exception);
            this.c.a();
            return;
        }
        object2 = String.valueOf(bbx.a());
        StringBuilder stringBuilder = new StringBuilder(String.valueOf(object2).length() + 36);
        stringBuilder.append("FirebaseCrash reporting initialized ");
        stringBuilder.append((String)object2);
        Log.i((String)"FirebaseCrash", (String)stringBuilder.toString());
        this.c.a((bbv)object);
    }
}


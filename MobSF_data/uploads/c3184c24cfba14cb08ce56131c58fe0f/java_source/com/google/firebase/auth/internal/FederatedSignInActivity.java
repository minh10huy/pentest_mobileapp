/*
 * Decompiled with CFR 0_132.
 * 
 * Could not load the following classes:
 *  android.content.ActivityNotFoundException
 *  android.content.Intent
 *  android.os.Bundle
 *  android.os.Parcelable
 *  android.os.Parcelable$Creator
 *  android.util.Log
 */
package com.google.firebase.auth.internal;

import android.content.ActivityNotFoundException;
import android.content.Intent;
import android.os.Bundle;
import android.os.Parcelable;
import android.support.v4.app.k;
import android.util.Log;
import com.google.android.gms.common.annotation.KeepName;
import com.google.android.gms.common.api.Status;
import com.google.android.gms.internal.bbn;
import com.google.android.gms.internal.xe;
import com.google.firebase.auth.internal.d;

@KeepName
public class FederatedSignInActivity
extends k {
    private static boolean n = false;
    private boolean o = false;

    private final void a(int n2, Intent intent) {
        n = false;
        this.setResult(-1, intent);
        this.finish();
    }

    private final void c(int n2) {
        n = false;
        this.o = false;
        this.setResult(0);
        this.finish();
    }

    /*
     * Enabled aggressive block sorting
     */
    @Override
    protected void onCreate(Bundle object) {
        block6 : {
            block5 : {
                block4 : {
                    super.onCreate((Bundle)object);
                    String string2 = this.getIntent().getAction();
                    if ("com.google.firebase.auth.internal.SIGN_IN".equals(string2) || "com.google.firebase.auth.internal.GET_CRED".equals(string2)) break block4;
                    object = String.valueOf(string2);
                    object = object.length() != 0 ? "Unknown action: ".concat((String)object) : new String("Unknown action: ");
                    Log.e((String)"IdpSignInActivity", (String)object);
                    break block5;
                }
                if (!n) break block6;
            }
            this.setResult(0);
            this.finish();
            return;
        }
        n = true;
        if (object != null) {
            this.o = object.getBoolean("com.google.firebase.auth.internal.KEY_STARTED_SIGN_IN");
        }
    }

    @Override
    public void onNewIntent(Intent intent) {
        super.onNewIntent(intent);
        this.setIntent(intent);
    }

    /*
     * Unable to fully structure code
     * Enabled aggressive block sorting
     * Enabled unnecessary exception pruning
     * Enabled aggressive exception aggregation
     * Lifted jumps to return sites
     */
    @Override
    protected void onResume() {
        block7 : {
            block9 : {
                block10 : {
                    block8 : {
                        super.onResume();
                        var2_1 = this.o;
                        var1_2 = true;
                        if (!var2_1) {
                            var3_3 = new Intent("com.google.firebase.auth.api.gms.ui.START_WEB_SIGN_IN");
                            var3_3.setPackage("com.google.android.gms");
                            var3_3.putExtras(this.getIntent().getExtras());
                            var3_3.putExtra("com.google.firebase.auth.internal.OPERATION", this.getIntent().getAction());
                            this.startActivityForResult(var3_3, 40963);
                            break block7;
                        }
                        var4_7 = this.getIntent();
                        if (!"com.google.firebase.auth.internal.WEB_SIGN_IN_FAILED".equals(var4_7.getAction())) break block8;
                        Log.e((String)"IdpSignInActivity", (String)"Web sign-in failed, finishing");
                        if (d.a(var4_7)) {
                            var3_4 = d.b(var4_7);
                            FederatedSignInActivity.n = false;
                            var4_8 = new Intent();
                            d.a(var4_8, var3_4);
                            this.setResult(-1, var4_8);
                            this.finish();
                        } else {
                            this.c(0);
                        }
                        break block9;
                    }
                    if (!var4_7.hasExtra("com.google.firebase.auth.internal.OPERATION") || !var4_7.hasExtra("com.google.firebase.auth.internal.VERIFY_ASSERTION_REQUEST")) ** GOTO lbl-1000
                    var3_5 = var4_7.getStringExtra("com.google.firebase.auth.internal.OPERATION");
                    if (!"com.google.firebase.auth.internal.SIGN_IN".equals(var3_5)) break block10;
                    var4_9 = xe.a(var4_7, "com.google.firebase.auth.internal.VERIFY_ASSERTION_REQUEST", bbn.CREATOR);
                    var3_5 = new Intent();
                    xe.a(var4_9, (Intent)var3_5, "com.google.firebase.auth.internal.CREDENTIAL_FOR_AUTH_RESULT");
                    ** GOTO lbl37
                }
                if ("com.google.firebase.auth.internal.GET_CRED".equals(var3_5)) {
                    var3_5 = new Intent();
                    var3_5.putExtra("com.google.firebase.auth.internal.VERIFY_ASSERTION_REQUEST", var4_7.getByteArrayExtra("com.google.firebase.auth.internal.VERIFY_ASSERTION_REQUEST"));
lbl37: // 2 sources:
                    this.a(-1, (Intent)var3_5);
                } else lbl-1000: // 2 sources:
                {
                    var1_2 = false;
                }
            }
            if (var1_2 != false) return;
            this.c(0);
            return;
            catch (ActivityNotFoundException var3_6) {}
            Log.w((String)"IdpSignInActivity", (String)"Could not launch web sign-in Intent. Google Play service is unavailable");
            this.c(0);
        }
        this.o = true;
    }

    @Override
    protected void onSaveInstanceState(Bundle bundle) {
        super.onSaveInstanceState(bundle);
        bundle.putBoolean("com.google.firebase.auth.internal.KEY_STARTED_SIGN_IN", this.o);
    }
}


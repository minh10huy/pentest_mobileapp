/*
 * Decompiled with CFR 0_132.
 * 
 * Could not load the following classes:
 *  android.app.Service
 *  android.content.Intent
 *  android.os.Binder
 *  android.os.IBinder
 *  android.util.Log
 */
package com.google.firebase.iid;

import android.app.Service;
import android.content.Intent;
import android.os.Binder;
import android.os.IBinder;
import android.util.Log;
import com.google.firebase.iid.g;
import com.google.firebase.iid.j;
import java.util.concurrent.ExecutorService;
import java.util.concurrent.Executors;

public abstract class f
extends Service {
    final ExecutorService a = Executors.newSingleThreadExecutor();
    private Binder b;
    private final Object c = new Object();
    private int d;
    private int e = 0;

    static /* synthetic */ void a(f f2, Intent intent) {
        f2.d(intent);
    }

    /*
     * Enabled aggressive block sorting
     * Enabled unnecessary exception pruning
     * Enabled aggressive exception aggregation
     */
    private final void d(Intent object) {
        if (object != null) {
            android.support.v4.content.f.a(object);
        }
        object = this.c;
        synchronized (object) {
            --this.e;
            if (this.e == 0) {
                this.stopSelfResult(this.d);
            }
            return;
        }
    }

    protected Intent a(Intent intent) {
        return intent;
    }

    public abstract void b(Intent var1);

    public boolean c(Intent intent) {
        return false;
    }

    public final IBinder onBind(Intent intent) {
        synchronized (this) {
            if (Log.isLoggable((String)"EnhancedIntentService", (int)3)) {
                Log.d((String)"EnhancedIntentService", (String)"Service received bind request");
            }
            if (this.b == null) {
                this.b = new j(this);
            }
            intent = this.b;
            return intent;
        }
    }

    /*
     * Enabled aggressive block sorting
     * Enabled unnecessary exception pruning
     * Enabled aggressive exception aggregation
     */
    public final int onStartCommand(Intent intent, int n2, int n3) {
        Object object = this.c;
        synchronized (object) {
            this.d = n3;
            ++this.e;
        }
        object = this.a(intent);
        if (object == null) {
            this.d(intent);
            return 2;
        }
        if (this.c((Intent)object)) {
            this.d(intent);
            return 2;
        }
        this.a.execute(new g(this, (Intent)object, intent));
        return 3;
    }
}


/*
 * Decompiled with CFR 0_132.
 */
package d.a.c;

import d.a.c;
import d.a.c.e;
import d.a.c.h;
import d.a.d;
import d.aa;
import d.ab;
import d.ac;
import d.ad;
import d.l;
import d.m;
import d.s;
import d.t;
import d.u;
import d.v;
import e.j;
import java.util.List;

public final class a
implements u {
    private final m a;

    public a(m m2) {
        this.a = m2;
    }

    private String a(List<l> list) {
        StringBuilder stringBuilder = new StringBuilder();
        int n2 = list.size();
        for (int i2 = 0; i2 < n2; ++i2) {
            if (i2 > 0) {
                stringBuilder.append("; ");
            }
            l l2 = list.get(i2);
            stringBuilder.append(l2.a());
            stringBuilder.append('=');
            stringBuilder.append(l2.b());
        }
        return stringBuilder.toString();
    }

    /*
     * Enabled aggressive block sorting
     */
    @Override
    public ac a(u.a object) {
        Object object2 = object.a();
        aa.a a2 = object2.e();
        Object object3 = object2.d();
        if (object3 != null) {
            long l2;
            v v2 = object3.a();
            if (v2 != null) {
                a2.a("Content-Type", v2.toString());
            }
            if ((l2 = object3.b()) != -1L) {
                a2.a("Content-Length", Long.toString(l2));
                object3 = "Transfer-Encoding";
            } else {
                a2.a("Transfer-Encoding", "chunked");
                object3 = "Content-Length";
            }
            a2.b((String)object3);
        }
        object3 = object2.a("Host");
        boolean bl2 = false;
        if (object3 == null) {
            a2.a("Host", c.a(object2.a(), false));
        }
        if (object2.a("Connection") == null) {
            a2.a("Connection", "Keep-Alive");
        }
        boolean bl3 = bl2;
        if (object2.a("Accept-Encoding") == null) {
            bl3 = bl2;
            if (object2.a("Range") == null) {
                bl3 = true;
                a2.a("Accept-Encoding", "gzip");
            }
        }
        if (!(object3 = this.a.a(object2.a())).isEmpty()) {
            a2.a("Cookie", this.a((List<l>)object3));
        }
        if (object2.a("User-Agent") == null) {
            a2.a("User-Agent", d.a());
        }
        object = object.a(a2.a());
        e.a(this.a, object2.a(), object.g());
        object3 = object.i().a((aa)object2);
        if (bl3 && "gzip".equalsIgnoreCase(object.a("Content-Encoding")) && e.d((ac)object)) {
            object2 = new j(object.h().c());
            object3.a(object.g().b().b("Content-Encoding").b("Content-Length").a());
            object3.a(new h(object.a("Content-Type"), -1L, e.l.a((e.s)object2)));
        }
        return object3.a();
    }
}


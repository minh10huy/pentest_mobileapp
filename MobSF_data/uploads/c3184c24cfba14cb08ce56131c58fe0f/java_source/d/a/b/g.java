/*
 * Decompiled with CFR 0_132.
 */
package d.a.b;

import d.a.b.c;
import d.a.b.d;
import d.a.b.e;
import d.a.b.f;
import d.a.e.b;
import d.a.e.n;
import d.ae;
import d.i;
import d.j;
import d.p;
import d.u;
import d.x;
import java.io.IOException;
import java.io.Serializable;
import java.lang.ref.Reference;
import java.lang.ref.WeakReference;
import java.net.Socket;
import java.util.List;

public final class g {
    static final /* synthetic */ boolean d;
    public final d.a a;
    public final d.e b;
    public final p c;
    private f.a e;
    private ae f;
    private final j g;
    private final Object h;
    private final f i;
    private int j;
    private c k;
    private boolean l;
    private boolean m;
    private boolean n;
    private d.a.c.c o;

    static {
        d = g.class.desiredAssertionStatus() ^ true;
    }

    public g(j j2, d.a a2, d.e e2, p p2, Object object) {
        this.g = j2;
        this.a = a2;
        this.b = e2;
        this.c = p2;
        this.i = new f(a2, this.i(), e2, p2);
        this.h = object;
    }

    /*
     * Unable to fully structure code
     * Enabled aggressive block sorting
     * Enabled unnecessary exception pruning
     * Enabled aggressive exception aggregation
     * Converted monitor instructions to comments
     * Lifted jumps to return sites
     */
    private c a(int var1_1, int var2_2, int var3_3, int var4_4, boolean var5_5) {
        block27 : {
            block28 : {
                block25 : {
                    block26 : {
                        var14_6 = this.g;
                        // MONITORENTER : var14_6
                        if (this.m != false) throw new IllegalStateException("released");
                        if (this.o != null) throw new IllegalStateException("codec != null");
                        if (this.n != false) throw new IOException("Canceled");
                        var11_7 = this.k;
                        var15_8 = this.h();
                        var10_9 = this.k;
                        var13_10 = null;
                        if (var10_9 != null) {
                            var10_9 = this.k;
                            var11_7 = null;
                        } else {
                            var10_9 = null;
                        }
                        var12_11 = var11_7;
                        if (!this.l) {
                            var12_11 = null;
                        }
                        if (var10_9 != null) break block25;
                        d.a.a.a.a(this.g, this.a, this, null);
                        if (this.k == null) break block26;
                        var10_9 = this.k;
                        var11_7 = null;
                        var6_12 = true;
                        break block27;
                    }
                    var11_7 = this.f;
                    break block28;
                }
                var11_7 = null;
            }
            var6_12 = false;
        }
        // MONITOREXIT : var14_6
        d.a.c.a((Socket)var15_8);
        if (var12_11 != null) {
            this.c.b(this.b, (i)var12_11);
        }
        if (var6_12) {
            this.c.a(this.b, (i)var10_9);
        }
        if (var10_9 != null) {
            return var10_9;
        }
        if (!(var11_7 != null || this.e != null && this.e.a())) {
            this.e = this.i.b();
            var8_13 = 1;
        } else {
            var8_13 = 0;
        }
        var14_6 = this.g;
        // MONITORENTER : var14_6
        if (this.n != false) throw new IOException("Canceled");
        var7_14 = var6_12;
        var12_11 = var10_9;
        if (var8_13 == 0) ** GOTO lbl65
        var15_8 = this.e.c();
        var9_15 = var15_8.size();
        var8_13 = 0;
        do {
            block30 : {
                block29 : {
                    var7_14 = var6_12;
                    var12_11 = var10_9;
                    if (var8_13 >= var9_15) break block29;
                    var16_16 = (ae)var15_8.get(var8_13);
                    d.a.a.a.a(this.g, this.a, this, var16_16);
                    if (this.k == null) break block30;
                    var12_11 = this.k;
                    this.f = var16_16;
                    var7_14 = true;
                }
                var10_9 = var12_11;
                if (!var7_14) {
                    var10_9 = var11_7;
                    if (var11_7 == null) {
                        var10_9 = this.e.b();
                    }
                    this.f = var10_9;
                    this.j = 0;
                    var10_9 = new c(this.g, (ae)var10_9);
                    this.a((c)var10_9, false);
                }
                // MONITOREXIT : var14_6
                if (!var7_14) {
                    var10_9.a(var1_1, var2_2, var3_3, var4_4, var5_5, this.b, this.c);
                    this.i().b(var10_9.a());
                    var14_6 = this.g;
                    // MONITORENTER : var14_6
                    this.l = true;
                    d.a.a.a.b(this.g, (c)var10_9);
                    var12_11 = var13_10;
                    var11_7 = var10_9;
                    if (var10_9.e()) {
                        var12_11 = d.a.a.a.a(this.g, this.a, this);
                        var11_7 = this.k;
                    }
                    // MONITOREXIT : var14_6
                    d.a.c.a((Socket)var12_11);
                    var10_9 = var11_7;
                }
                this.c.a(this.b, (i)var10_9);
                return var10_9;
            }
            ++var8_13;
        } while (true);
    }

    /*
     * Enabled aggressive block sorting
     * Enabled unnecessary exception pruning
     * Enabled aggressive exception aggregation
     * Converted monitor instructions to comments
     * Lifted jumps to return sites
     */
    private c a(int n2, int n3, int n4, int n5, boolean bl2, boolean bl3) {
        do {
            c c2 = this.a(n2, n3, n4, n5, bl2);
            j j2 = this.g;
            // MONITORENTER : j2
            if (c2.b == 0) {
                // MONITOREXIT : j2
                return c2;
            }
            // MONITOREXIT : j2
            if (c2.a(bl3)) return c2;
            this.e();
        } while (true);
    }

    /*
     * Unable to fully structure code
     * Enabled aggressive block sorting
     * Lifted jumps to return sites
     */
    private Socket a(boolean var1_1, boolean var2_2, boolean var3_3) {
        if (!g.d) {
            if (Thread.holdsLock(this.g) == false) throw new AssertionError();
        }
        if (var3_3) {
            this.o = null;
        }
        if (var2_2) {
            this.m = true;
        }
        if (this.k == null) return null;
        if (var1_1) {
            this.k.a = true;
        }
        if (this.o != null) return null;
        if (!this.m) {
            if (this.k.a == false) return null;
        }
        this.b(this.k);
        if (!this.k.d.isEmpty()) ** GOTO lbl-1000
        this.k.e = System.nanoTime();
        if (d.a.a.a.a(this.g, this.k)) {
            var4_4 = this.k.c();
        } else lbl-1000: // 2 sources:
        {
            var4_4 = null;
        }
        this.k = null;
        return var4_4;
    }

    private void b(c c2) {
        int n2 = c2.d.size();
        for (int i2 = 0; i2 < n2; ++i2) {
            if (c2.d.get(i2).get() != this) continue;
            c2.d.remove(i2);
            return;
        }
        throw new IllegalStateException();
    }

    private Socket h() {
        if (!d && !Thread.holdsLock(this.g)) {
            throw new AssertionError();
        }
        c c2 = this.k;
        if (c2 != null && c2.a) {
            return this.a(false, false, true);
        }
        return null;
    }

    private d i() {
        return d.a.a.a.a(this.g);
    }

    /*
     * Enabled aggressive block sorting
     * Enabled unnecessary exception pruning
     * Enabled aggressive exception aggregation
     */
    public d.a.c.c a() {
        j j2 = this.g;
        synchronized (j2) {
            return this.o;
        }
    }

    /*
     * Enabled aggressive block sorting
     * Enabled unnecessary exception pruning
     * Enabled aggressive exception aggregation
     */
    public d.a.c.c a(x object, u.a object2, boolean bl2) {
        int n2 = object2.b();
        int n3 = object2.c();
        int n4 = object2.d();
        int n5 = object.d();
        boolean bl3 = object.t();
        try {
            object2 = this.a(n2, n3, n4, n5, bl3, bl2).a((x)object, (u.a)object2, this);
            object = this.g;
            synchronized (object) {
                this.o = object2;
            }
        }
        catch (IOException iOException) {
            throw new e(iOException);
        }
        return object2;
    }

    public Socket a(c c2) {
        if (!d && !Thread.holdsLock(this.g)) {
            throw new AssertionError();
        }
        if (this.o == null && this.k.d.size() == 1) {
            Reference<g> reference = this.k.d.get(0);
            Socket socket = this.a(true, false, false);
            this.k = c2;
            c2.d.add(reference);
            return socket;
        }
        throw new IllegalStateException();
    }

    public void a(c c2, boolean bl2) {
        if (!d && !Thread.holdsLock(this.g)) {
            throw new AssertionError();
        }
        if (this.k == null) {
            this.k = c2;
            this.l = bl2;
            c2.d.add(new a(this, this.h));
            return;
        }
        throw new IllegalStateException();
    }

    /*
     * Enabled aggressive block sorting
     * Enabled unnecessary exception pruning
     * Enabled aggressive exception aggregation
     */
    public void a(IOException object) {
        Socket socket;
        j j2 = this.g;
        synchronized (j2) {
            boolean bl2;
            block14 : {
                block11 : {
                    block13 : {
                        block12 : {
                            block10 : {
                                if (!(object instanceof n)) break block10;
                                object = (n)object;
                                if (object.a == b.e) {
                                    ++this.j;
                                }
                                if (object.a == b.e && this.j <= 1) break block11;
                                break block12;
                            }
                            if (this.k == null || this.k.e() && !(object instanceof d.a.e.a)) break block11;
                            if (this.k.b != 0) break block13;
                            if (this.f != null && object != null) {
                                this.i.a(this.f, (IOException)object);
                            }
                        }
                        this.f = null;
                    }
                    bl2 = true;
                    break block14;
                }
                bl2 = false;
            }
            object = this.k;
            socket = this.a(bl2, false, true);
            if (this.k != null || !this.l) {
                object = null;
            }
        }
        d.a.c.a(socket);
        if (object != null) {
            this.c.b(this.b, (i)object);
        }
    }

    /*
     * Enabled aggressive block sorting
     * Enabled unnecessary exception pruning
     * Enabled aggressive exception aggregation
     */
    public void a(boolean bl2, d.a.c.c object, long l2, IOException serializable) {
        this.c.b(this.b, l2);
        j j2 = this.g;
        synchronized (j2) {
            block10 : {
                if (object != null) {
                    if (object != this.o) break block10;
                    if (!bl2) {
                        object = this.k;
                        ++object.b;
                    }
                    object = this.k;
                    Socket socket = this.a(bl2, false, true);
                    if (this.k != null) {
                        object = null;
                    }
                    bl2 = this.m;
                    // MONITOREXIT [0, 2, 9] lbl15 : MonitorExitStatement: MONITOREXIT : var6_6
                    d.a.c.a(socket);
                    if (object != null) {
                        this.c.b(this.b, (i)object);
                    }
                    if (serializable != null) {
                        this.c.a(this.b, (IOException)serializable);
                        return;
                    }
                    if (bl2) {
                        this.c.g(this.b);
                    }
                    return;
                }
            }
            try {
                serializable = new StringBuilder();
                serializable.append("expected ");
                serializable.append(this.o);
                serializable.append(" but was ");
                serializable.append(object);
                throw new IllegalStateException(serializable.toString());
            }
            catch (Throwable throwable) {}
            throw throwable;
        }
    }

    public ae b() {
        return this.f;
    }

    public c c() {
        synchronized (this) {
            c c2 = this.k;
            return c2;
        }
    }

    /*
     * Enabled aggressive block sorting
     * Enabled unnecessary exception pruning
     * Enabled aggressive exception aggregation
     */
    public void d() {
        c c2;
        Socket socket;
        j j2 = this.g;
        synchronized (j2) {
            c2 = this.k;
            socket = this.a(false, true, false);
            if (this.k != null) {
                c2 = null;
            }
        }
        d.a.c.a(socket);
        if (c2 != null) {
            this.c.b(this.b, c2);
        }
    }

    /*
     * Enabled aggressive block sorting
     * Enabled unnecessary exception pruning
     * Enabled aggressive exception aggregation
     */
    public void e() {
        c c2;
        Socket socket;
        j j2 = this.g;
        synchronized (j2) {
            c2 = this.k;
            socket = this.a(true, false, false);
            if (this.k != null) {
                c2 = null;
            }
        }
        d.a.c.a(socket);
        if (c2 != null) {
            this.c.b(this.b, c2);
        }
    }

    /*
     * Enabled aggressive block sorting
     * Enabled unnecessary exception pruning
     * Enabled aggressive exception aggregation
     * Converted monitor instructions to comments
     * Lifted jumps to return sites
     */
    public void f() {
        j j2 = this.g;
        // MONITORENTER : j2
        this.n = true;
        d.a.c.c c2 = this.o;
        c c3 = this.k;
        // MONITOREXIT : j2
        if (c2 != null) {
            c2.c();
            return;
        }
        if (c3 == null) return;
        c3.b();
    }

    public boolean g() {
        if (!(this.f != null || this.e != null && this.e.a() || this.i.a())) {
            return false;
        }
        return true;
    }

    public String toString() {
        c c2 = this.c();
        if (c2 != null) {
            return c2.toString();
        }
        return this.a.toString();
    }

    public static final class a
    extends WeakReference<g> {
        public final Object a;

        a(g g2, Object object) {
            super(g2);
            this.a = object;
        }
    }

}


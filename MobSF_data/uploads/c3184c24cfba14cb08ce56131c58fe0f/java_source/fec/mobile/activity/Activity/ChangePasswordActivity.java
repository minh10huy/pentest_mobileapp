/*
 * Decompiled with CFR 0_132.
 * 
 * Could not load the following classes:
 *  android.content.Context
 *  android.content.Intent
 *  android.content.res.Resources
 *  android.graphics.PorterDuff
 *  android.graphics.PorterDuff$Mode
 *  android.graphics.drawable.Drawable
 *  android.os.Bundle
 *  android.text.Editable
 *  android.text.TextWatcher
 *  android.text.method.HideReturnsTransformationMethod
 *  android.text.method.PasswordTransformationMethod
 *  android.text.method.TransformationMethod
 *  android.view.View
 *  android.view.View$OnClickListener
 *  android.view.View$OnFocusChangeListener
 *  android.widget.Button
 *  android.widget.CheckBox
 *  android.widget.CompoundButton
 *  android.widget.CompoundButton$OnCheckedChangeListener
 *  android.widget.EditText
 *  android.widget.ProgressBar
 *  android.widget.TextView
 *  fec.mobile.activity.Activity.ChangePasswordActivity$onCreate
 */
package fec.mobile.activity.Activity;

import android.content.Context;
import android.content.Intent;
import android.content.res.Resources;
import android.graphics.PorterDuff;
import android.graphics.drawable.Drawable;
import android.os.Bundle;
import android.support.v7.app.c;
import android.text.Editable;
import android.text.TextWatcher;
import android.text.method.HideReturnsTransformationMethod;
import android.text.method.PasswordTransformationMethod;
import android.text.method.TransformationMethod;
import android.view.View;
import android.widget.Button;
import android.widget.CheckBox;
import android.widget.CompoundButton;
import android.widget.EditText;
import android.widget.ProgressBar;
import android.widget.TextView;
import b.e.b.f;
import fec.mobile.activity.Activity.ChangePasswordActivity;
import fec.mobile.activity.Activity.HomePageAcitivty;
import fec.mobile.activity.Activity.MainApplication;
import fec.mobile.activity.Manager.MyPasswordStrength;
import fec.mobile.activity.Presenter.ChangePasswordPresenter;
import fec.mobile.activity.R;
import fec.mobile.activity.View.ChangePasswordView;
import java.util.HashMap;
import java.util.regex.Matcher;
import java.util.regex.Pattern;

public final class ChangePasswordActivity
extends c
implements ChangePasswordView {
    private final ChangePasswordPresenter n = new ChangePasswordPresenter(this);
    private com.a.f o;
    private com.a.f p;
    private com.a.f q;
    private boolean r;
    private boolean s;
    private HashMap t;

    /*
     * Enabled aggressive block sorting
     */
    private final void a(EditText editText) {
        int n2;
        String string2;
        void var5_7;
        Object object;
        block7 : {
            block9 : {
                block11 : {
                    block10 : {
                        block8 : {
                            if (this.p != null && (object = this.p) != null) {
                                object.c();
                            }
                            object = editText.getText();
                            f.a(object, "ediText.text");
                            string2 = b.i.f.a((CharSequence)object).toString();
                            if (editText.getId() != 2131296430) break block7;
                            object = MyPasswordStrength.e.a(string2);
                            ProgressBar progressBar = (ProgressBar)this.c(R.id.progressBarWeakPass);
                            f.a((Object)progressBar, "progressBarWeakPass");
                            progressBar.getProgressDrawable().setColorFilter(object.a(), PorterDuff.Mode.SRC_IN);
                            TextView textView = (TextView)this.c(R.id.txtCheckWeakPassword);
                            f.a((Object)textView, "txtCheckWeakPassword");
                            textView.setText(object.a((Context)this));
                            object = object.name();
                            if (!f.a(object, (Object)this.getResources().getString(2131689703))) break block8;
                            object = (ProgressBar)this.c(R.id.progressBarWeakPass);
                            f.a(object, "progressBarWeakPass");
                            n2 = 25;
                            break block9;
                        }
                        if (!f.a(object, (Object)this.getResources().getString(2131689626))) break block10;
                        object = (ProgressBar)this.c(R.id.progressBarWeakPass);
                        f.a(object, "progressBarWeakPass");
                        n2 = 50;
                        break block9;
                    }
                    if (!f.a(object, (Object)this.getResources().getString(2131689686))) break block11;
                    object = (ProgressBar)this.c(R.id.progressBarWeakPass);
                    f.a(object, "progressBarWeakPass");
                    n2 = 75;
                    break block9;
                }
                if (!f.a(object, (Object)this.getResources().getString(2131689701))) break block7;
                object = (ProgressBar)this.c(R.id.progressBarWeakPass);
                f.a(object, "progressBarWeakPass");
                n2 = 100;
            }
            object.setProgress(n2);
        }
        n2 = ((CharSequence)string2).length() == 0 ? 1 : 0;
        if (n2 != 0) {
            object = MainApplication.a;
            string2 = this.getResources().getString(2131689581);
            String string3 = "resources.getString(R.string.empty_data)";
        } else {
            if (this.b(string2)) {
                this.s = true;
                return;
            }
            this.s = false;
            object = MainApplication.a;
            string2 = this.getResources().getString(2131689620);
            String string4 = "resources.getString(R.string.hint_valid_password)";
        }
        f.a((Object)string2, (String)var5_7);
        this.p = object.a(string2, (View)editText);
    }

    public static final /* synthetic */ void a(ChangePasswordActivity changePasswordActivity) {
        changePasswordActivity.q();
    }

    public static final /* synthetic */ void a(ChangePasswordActivity changePasswordActivity, EditText editText) {
        changePasswordActivity.a(editText);
    }

    public static final /* synthetic */ void a(ChangePasswordActivity changePasswordActivity, com.a.f f2) {
        changePasswordActivity.q = f2;
    }

    public static final /* synthetic */ void b(ChangePasswordActivity changePasswordActivity) {
        changePasswordActivity.p();
    }

    private final boolean b(String object) {
        Pattern pattern = Pattern.compile("^(?=.*[A-Z])(?=.*[a-z])(?=.*[@#$%^&+=])(?=.*[0-9])(?=\\S+$).{8,}$");
        f.a((Object)pattern, "Pattern.compile(passwordPattern)");
        object = pattern.matcher((CharSequence)object);
        f.a(object, "pattern.matcher(password)");
        return object.matches();
    }

    public static final /* synthetic */ com.a.f c(ChangePasswordActivity changePasswordActivity) {
        return changePasswordActivity.o;
    }

    public static final /* synthetic */ void d(ChangePasswordActivity changePasswordActivity) {
        changePasswordActivity.r();
    }

    public static final /* synthetic */ com.a.f e(ChangePasswordActivity changePasswordActivity) {
        return changePasswordActivity.p;
    }

    public static final /* synthetic */ com.a.f f(ChangePasswordActivity changePasswordActivity) {
        return changePasswordActivity.q;
    }

    public static final /* synthetic */ boolean g(ChangePasswordActivity changePasswordActivity) {
        return changePasswordActivity.r;
    }

    public static final /* synthetic */ boolean h(ChangePasswordActivity changePasswordActivity) {
        return changePasswordActivity.s;
    }

    public static final /* synthetic */ ChangePasswordPresenter i(ChangePasswordActivity changePasswordActivity) {
        return changePasswordActivity.n;
    }

    private final void p() {
        EditText editText = (EditText)this.c(R.id.edOldPassword);
        f.a((Object)editText, "edOldPassword");
        editText.setTransformationMethod((TransformationMethod)PasswordTransformationMethod.getInstance());
        editText = (EditText)this.c(R.id.edNewPassword);
        f.a((Object)editText, "edNewPassword");
        editText.setTransformationMethod((TransformationMethod)PasswordTransformationMethod.getInstance());
        editText = (EditText)this.c(R.id.edReNewPassword);
        f.a((Object)editText, "edReNewPassword");
        editText.setTransformationMethod((TransformationMethod)PasswordTransformationMethod.getInstance());
    }

    private final void q() {
        EditText editText = (EditText)this.c(R.id.edOldPassword);
        f.a((Object)editText, "edOldPassword");
        editText.setTransformationMethod((TransformationMethod)HideReturnsTransformationMethod.getInstance());
        editText = (EditText)this.c(R.id.edNewPassword);
        f.a((Object)editText, "edNewPassword");
        editText.setTransformationMethod((TransformationMethod)HideReturnsTransformationMethod.getInstance());
        editText = (EditText)this.c(R.id.edReNewPassword);
        f.a((Object)editText, "edReNewPassword");
        editText.setTransformationMethod((TransformationMethod)HideReturnsTransformationMethod.getInstance());
    }

    private final void r() {
        Object object = (EditText)this.c(R.id.edOldPassword);
        f.a(object, "edOldPassword");
        object = object.getText();
        f.a(object, "edOldPassword.text");
        object = b.i.f.a((CharSequence)object).toString();
        boolean bl2 = ((CharSequence)object).length() == 0;
        if (bl2) {
            object = MainApplication.a;
            String string2 = this.getResources().getString(2131689581);
            f.a((Object)string2, "resources.getString(R.string.empty_data)");
            EditText editText = (EditText)this.c(R.id.edOldPassword);
            f.a((Object)editText, "edOldPassword");
            this.o = object.a(string2, (View)editText);
            return;
        }
        this.n.b((String)object);
    }

    @Override
    public void a(String string2) {
        f.b(string2, "message");
        MainApplication.a.a(string2);
        string2 = (ProgressBar)this.c(R.id.progressBar);
        f.a((Object)string2, "progressBar");
        string2.setVisibility(4);
    }

    public View c(int n2) {
        View view;
        if (this.t == null) {
            this.t = new HashMap();
        }
        View view2 = view = (View)this.t.get(n2);
        if (view == null) {
            view2 = this.findViewById(n2);
            this.t.put(n2, view2);
        }
        return view2;
    }

    @Override
    public void m() {
        this.r = true;
    }

    @Override
    public void n() {
        this.r = false;
        MainApplication.Companion companion = MainApplication.a;
        String string2 = this.getResources().getString(2131689613);
        f.a((Object)string2, "resources.getString(R.string.error_wrong_password)");
        EditText editText = (EditText)this.c(R.id.edOldPassword);
        f.a((Object)editText, "edOldPassword");
        this.o = companion.a(string2, (View)editText);
    }

    @Override
    public void o() {
        ProgressBar progressBar = (ProgressBar)this.c(R.id.progressBar);
        f.a((Object)progressBar, "progressBar");
        progressBar.setVisibility(4);
        this.startActivity(new Intent((Context)this, HomePageAcitivty.class));
    }

    @Override
    protected void onCreate(Bundle bundle) {
        super.onCreate(bundle);
        this.setContentView(2131492891);
        ((CheckBox)this.c(R.id.cbShowPassword)).setOnCheckedChangeListener(new CompoundButton.OnCheckedChangeListener(this){
            final /* synthetic */ ChangePasswordActivity a;
            {
                this.a = changePasswordActivity;
            }

            public final void onCheckedChanged(CompoundButton compoundButton, boolean bl2) {
                if (bl2) {
                    ChangePasswordActivity.a(this.a);
                    return;
                }
                ChangePasswordActivity.b(this.a);
            }
        });
        ((EditText)this.c(R.id.edOldPassword)).setOnFocusChangeListener(new View.OnFocusChangeListener(this){
            final /* synthetic */ ChangePasswordActivity a;
            {
                this.a = changePasswordActivity;
            }

            public final void onFocusChange(View object, boolean bl2) {
                if (ChangePasswordActivity.c(this.a) != null && (object = ChangePasswordActivity.c(this.a)) != null) {
                    object.c();
                }
                if (!bl2) {
                    ChangePasswordActivity.d(this.a);
                }
            }
        });
        ((EditText)this.c(R.id.edNewPassword)).addTextChangedListener(new TextWatcher(this){
            final /* synthetic */ ChangePasswordActivity a;
            {
                this.a = changePasswordActivity;
            }

            public void afterTextChanged(Editable object) {
                object = this.a;
                EditText editText = (EditText)this.a.c(R.id.edNewPassword);
                f.a((Object)editText, "edNewPassword");
                ChangePasswordActivity.a((ChangePasswordActivity)object, editText);
            }

            public void beforeTextChanged(CharSequence charSequence, int n2, int n3, int n4) {
            }

            public void onTextChanged(CharSequence charSequence, int n2, int n3, int n4) {
            }
        });
        ((EditText)this.c(R.id.edNewPassword)).setOnFocusChangeListener(new View.OnFocusChangeListener(this){
            final /* synthetic */ ChangePasswordActivity a;
            {
                this.a = changePasswordActivity;
            }

            public final void onFocusChange(View view, boolean bl2) {
                Object object;
                if (ChangePasswordActivity.e(this.a) != null && (object = ChangePasswordActivity.e(this.a)) != null) {
                    object.c();
                }
                if (!bl2) {
                    object = this.a;
                    if (view != null) {
                        ChangePasswordActivity.a((ChangePasswordActivity)object, (EditText)view);
                        return;
                    }
                    throw new b.g("null cannot be cast to non-null type android.widget.EditText");
                }
            }
        });
        ((Button)this.c(R.id.btnSavePassword)).setOnClickListener(new View.OnClickListener(this){
            final /* synthetic */ ChangePasswordActivity a;
            {
                this.a = changePasswordActivity;
            }

            public final void onClick(View object) {
                Object object2;
                if (ChangePasswordActivity.c(this.a) != null && (object = ChangePasswordActivity.c(this.a)) != null) {
                    object.c();
                }
                if (ChangePasswordActivity.e(this.a) != null && (object = ChangePasswordActivity.e(this.a)) != null) {
                    object.c();
                }
                if (ChangePasswordActivity.f(this.a) != null && (object = ChangePasswordActivity.f(this.a)) != null) {
                    object.c();
                }
                if (!ChangePasswordActivity.g(this.a)) {
                    ChangePasswordActivity.d(this.a);
                }
                if (!ChangePasswordActivity.h(this.a)) {
                    object = this.a;
                    object2 = (EditText)this.a.c(R.id.edNewPassword);
                    f.a(object2, "edNewPassword");
                    ChangePasswordActivity.a((ChangePasswordActivity)object, (EditText)object2);
                }
                object = (EditText)this.a.c(R.id.edNewPassword);
                f.a(object, "edNewPassword");
                object = object.getText().toString();
                object2 = (EditText)this.a.c(R.id.edReNewPassword);
                f.a(object2, "edReNewPassword");
                if (f.a(object, (Object)object2.getText().toString()) ^ true) {
                    object = this.a;
                    object2 = MainApplication.a;
                    String string2 = this.a.getResources().getString(2131689614);
                    f.a((Object)string2, "resources.getString(R.st\u2026ong_reenter_new_password)");
                    EditText editText = (EditText)this.a.c(R.id.edReNewPassword);
                    f.a((Object)editText, "edReNewPassword");
                    ChangePasswordActivity.a((ChangePasswordActivity)object, object2.a(string2, (View)editText));
                    return;
                }
                if (ChangePasswordActivity.g(this.a) && ChangePasswordActivity.h(this.a)) {
                    object2 = (ProgressBar)this.a.c(R.id.progressBar);
                    f.a(object2, "progressBar");
                    object2.setVisibility(0);
                    ChangePasswordActivity.i(this.a).c((String)object);
                }
            }
        });
    }
}


/*
 * Decompiled with CFR 0_132.
 * 
 * Could not load the following classes:
 *  android.content.Context
 *  android.content.res.Resources
 *  android.os.Bundle
 *  android.os.Parcelable
 *  android.text.Editable
 *  android.text.TextWatcher
 *  android.view.LayoutInflater
 *  android.view.View
 *  android.view.View$OnClickListener
 *  android.view.ViewGroup
 *  android.widget.ArrayAdapter
 *  android.widget.Button
 *  android.widget.EditText
 *  android.widget.Spinner
 *  android.widget.SpinnerAdapter
 *  fec.mobile.activity.Fragment.StepOneFragment$onActivityCreated
 */
package fec.mobile.activity.Fragment;

import android.content.Context;
import android.content.res.Resources;
import android.os.Bundle;
import android.os.Parcelable;
import android.support.constraint.ConstraintLayout;
import android.text.Editable;
import android.text.TextWatcher;
import android.view.LayoutInflater;
import android.view.View;
import android.view.ViewGroup;
import android.widget.ArrayAdapter;
import android.widget.Button;
import android.widget.EditText;
import android.widget.Spinner;
import android.widget.SpinnerAdapter;
import b.a.j;
import b.e.b.f;
import b.g;
import fec.mobile.activity.Activity.MainApplication;
import fec.mobile.activity.Entity.Product;
import fec.mobile.activity.Entity.QDEEntity;
import fec.mobile.activity.Entity.UserEntity;
import fec.mobile.activity.Fragment.StepOneFragment;
import fec.mobile.activity.Fragment.StepTwoFragment;
import fec.mobile.activity.Manager.ConfigManager;
import fec.mobile.activity.Manager.FileManager;
import fec.mobile.activity.Presenter.StepOnePresenter;
import fec.mobile.activity.View.StepOneView;
import java.io.File;
import java.util.ArrayList;
import java.util.Collection;
import java.util.HashMap;
import java.util.Iterator;
import java.util.List;

public final class StepOneFragment
extends android.support.v4.app.j
implements StepOneView {
    public EditText a;
    private com.a.f ae;
    private boolean af;
    private boolean ag = true;
    private String ah = "";
    private String ai = "";
    private String aj = "";
    private QDEEntity ak;
    private List<Product> al = new ArrayList();
    private final StepOnePresenter am = new StepOnePresenter(this);
    private final UserEntity an = this.am.c();
    private final ConfigManager ao = new ConfigManager();
    private final FileManager ap = new FileManager();
    private HashMap aq;
    public EditText b;
    public EditText c;
    public EditText d;
    public Button e;
    public Spinner f;
    public ConstraintLayout g;
    private com.a.f h;
    private com.a.f i;

    public static final /* synthetic */ boolean a(StepOneFragment stepOneFragment) {
        return stepOneFragment.ah();
    }

    private final void ag() {
        if (this.af) {
            Object object = this.a;
            if (object == null) {
                f.b("edIDF1");
            }
            object.setVisibility(0);
            object = this.e;
            if (object == null) {
                f.b("btnIDF1");
            }
            object.setVisibility(0);
            object = this.b;
            if (object == null) {
                f.b("edCustomerName");
            }
            object.setEnabled(false);
            object = this.c;
            if (object == null) {
                f.b("edCMND");
            }
            object.setEnabled(false);
            object = this.g;
            if (object == null) {
                f.b("containerSpinner");
            }
            object.setVisibility(8);
            return;
        }
        Object object = this.a;
        if (object == null) {
            f.b("edIDF1");
        }
        object.setVisibility(8);
        object = this.e;
        if (object == null) {
            f.b("btnIDF1");
        }
        object.setVisibility(8);
        object = this.b;
        if (object == null) {
            f.b("edCustomerName");
        }
        object.setEnabled(true);
        object = this.c;
        if (object == null) {
            f.b("edCMND");
        }
        object.setEnabled(true);
        object = this.g;
        if (object == null) {
            f.b("containerSpinner");
        }
        object.setVisibility(0);
    }

    private final boolean ah() {
        Object object;
        if (this.ae != null && (object = this.ae) != null) {
            object.c();
        }
        if ((object = this.a) == null) {
            f.b("edIDF1");
        }
        object = object.getText();
        f.a(object, "edIDF1.text");
        int n2 = ((CharSequence)b.i.f.a((CharSequence)object).toString()).length();
        boolean bl2 = true;
        switch (n2) {
            default: {
                if (this.ae != null && (object = this.ae) != null) {
                    object.c();
                }
                MainApplication.Companion companion = MainApplication.a;
                object = this.m();
                if (object == null || (object = object.getResources()) == null || (object = object.getString(2131689599)) == null) {
                    object = "";
                }
                EditText editText = this.a;
                if (editText == null) {
                    f.b("edIDF1");
                }
                this.ae = companion.a((String)object, (View)editText);
                bl2 = false;
            }
            case 7: 
            case 8: 
        }
        return bl2;
    }

    private final boolean ai() {
        Object object;
        if (this.h != null && (object = this.h) != null) {
            object.c();
        }
        if ((object = this.b) == null) {
            f.b("edCustomerName");
        }
        object = object.getText();
        f.a(object, "edCustomerName.text");
        boolean bl2 = ((CharSequence)b.i.f.a((CharSequence)object).toString()).length() == 0;
        if (bl2) {
            MainApplication.Companion companion = MainApplication.a;
            object = this.m();
            if (object == null || (object = object.getResources()) == null || (object = object.getString(2131689581)) == null) {
                object = "";
            }
            EditText editText = this.b;
            if (editText == null) {
                f.b("edCustomerName");
            }
            this.h = companion.a((String)object, (View)editText);
            return false;
        }
        return true;
    }

    /*
     * Enabled aggressive block sorting
     */
    private final boolean aj() {
        MainApplication.Companion companion;
        EditText editText;
        Object object;
        block10 : {
            Object object2;
            block11 : {
                block9 : {
                    if (this.i != null && (object2 = this.i) != null) {
                        object2.c();
                    }
                    if ((object2 = this.c) == null) {
                        f.b("edCMND");
                    }
                    object2 = object2.getText();
                    f.a(object2, "edCMND.text");
                    boolean bl2 = ((CharSequence)b.i.f.a((CharSequence)object2).toString()).length() == 0;
                    if (!bl2) break block9;
                    MainApplication.Companion companion2 = MainApplication.a;
                    object2 = this.m();
                    if (object2 == null || (object2 = object2.getResources()) == null || (object2 = object2.getString(2131689581)) == null) {
                        object2 = "";
                    }
                    EditText editText2 = this.c;
                    companion = companion2;
                    object = object2;
                    editText = editText2;
                    if (editText2 != null) break block10;
                    editText = editText2;
                    companion = companion2;
                    break block11;
                }
                object2 = this.ao;
                editText = this.c;
                if (editText == null) {
                    f.b("edCMND");
                }
                editText = editText.getText();
                f.a((Object)editText, "edCMND.text");
                if (object2.a(b.i.f.a((CharSequence)editText).toString())) {
                    return true;
                }
                MainApplication.Companion companion3 = MainApplication.a;
                object2 = this.m();
                if (object2 == null || (object2 = object2.getResources()) == null || (object2 = object2.getString(2131689584)) == null) {
                    object2 = "";
                }
                EditText editText3 = this.c;
                companion = companion3;
                object = object2;
                editText = editText3;
                if (editText3 != null) break block10;
                companion = companion3;
                editText = editText3;
            }
            f.b("edCMND");
            object = object2;
        }
        this.i = companion.a((String)object, (View)editText);
        return false;
    }

    private final void b(View view) {
        View view2 = view.findViewById(2131296428);
        f.a((Object)view2, "view.findViewById(R.id.edIDF1)");
        this.a = (EditText)view2;
        view2 = view.findViewById(2131296426);
        f.a((Object)view2, "view.findViewById(R.id.edCustomerName)");
        this.b = (EditText)view2;
        view2 = view.findViewById(2131296424);
        f.a((Object)view2, "view.findViewById(R.id.edCMND)");
        this.c = (EditText)view2;
        view2 = view.findViewById(2131296425);
        f.a((Object)view2, "view.findViewById(R.id.edChannel)");
        this.d = (EditText)view2;
        view2 = view.findViewById(2131296315);
        f.a((Object)view2, "view.findViewById(R.id.btnCheckIDF1)");
        this.e = (Button)view2;
        view2 = view.findViewById(2131296636);
        f.a((Object)view2, "view.findViewById(R.id.spinnerProduct)");
        this.f = (Spinner)view2;
        view = view.findViewById(2131296398);
        f.a((Object)view, "view.findViewById(R.id.containerSpinner)");
        this.g = (ConstraintLayout)view;
        this.ag();
    }

    public static final /* synthetic */ boolean b(StepOneFragment stepOneFragment) {
        return stepOneFragment.ai();
    }

    public static final /* synthetic */ boolean c(StepOneFragment stepOneFragment) {
        return stepOneFragment.aj();
    }

    public static final /* synthetic */ StepOnePresenter d(StepOneFragment stepOneFragment) {
        return stepOneFragment.am;
    }

    @Override
    public View a(LayoutInflater layoutInflater, ViewGroup viewGroup, Bundle bundle) {
        f.b((Object)layoutInflater, "inflater");
        layoutInflater = layoutInflater.inflate(2131492929, viewGroup, false);
        f.a((Object)layoutInflater, "view");
        this.b((View)layoutInflater);
        return layoutInflater;
    }

    @Override
    public void a(QDEEntity qDEEntity) {
        f.b(qDEEntity, "qdeEntity");
        this.ak = qDEEntity;
        EditText editText = this.b;
        if (editText == null) {
            f.b("edCustomerName");
        }
        editText.setText((CharSequence)qDEEntity.c());
        editText = this.c;
        if (editText == null) {
            f.b("edCMND");
        }
        editText.setText((CharSequence)qDEEntity.d());
    }

    @Override
    public void a(List<Product> object) {
        f.b(object, "listGroupProduct");
        this.al = j.a((Collection)object);
        List list = new ArrayList();
        Iterator iterator = ((Iterable)object).iterator();
        while (iterator.hasNext()) {
            object = ((Product)iterator.next()).a();
            if (object == null) {
                object = "";
            }
            list.add(object);
        }
        object = new ArrayAdapter(this.m(), 17367043, list);
        list = this.f;
        if (list == null) {
            f.b("spinner");
        }
        list.setAdapter((SpinnerAdapter)object);
    }

    public final void a(boolean bl2) {
        this.af = bl2;
    }

    public final boolean a(StepTwoFragment object) {
        f.b(object, "fragmentStepTwo");
        if (this.ak != null) {
            Object object2 = this.ak;
            Object var4_4 = null;
            object2 = object2 != null ? object2.b() : null;
            StringBuilder stringBuilder = new StringBuilder();
            Object object3 = this.ak;
            object3 = object3 != null ? object3.c() : null;
            stringBuilder.append((String)object3);
            stringBuilder.append('_');
            object3 = this.ak;
            object3 = object3 != null ? object3.d() : null;
            stringBuilder.append((String)object3);
            stringBuilder.append('_');
            stringBuilder.append(this.an.d());
            String string2 = stringBuilder.toString();
            object3 = this.a;
            if (object3 == null) {
                f.b("edIDF1");
            }
            object3.setText((CharSequence)object2);
            if (this.ap.a()) {
                File file = this.ap.a(string2);
                stringBuilder = new Bundle();
                object3 = this.ak;
                object3 = object3 != null ? object3.d() : null;
                stringBuilder.putString("cmnd", (String)object3);
                object3 = this.ak;
                object3 = object3 != null ? object3.c() : null;
                stringBuilder.putString("customername", (String)object3);
                stringBuilder.putParcelable("user", (Parcelable)this.an);
                stringBuilder.putString("namefolderleveltwo", string2);
                stringBuilder.putString("pathfolderleveltwo", file.getAbsolutePath());
                stringBuilder.putBoolean("ishardqde", this.ag);
                stringBuilder.putBoolean("isqde", this.af);
                stringBuilder.putString("idf1", (String)object2);
                object3 = this.ak;
                object2 = var4_4;
                if (object3 != null) {
                    object2 = object3.e();
                }
                stringBuilder.putString("productselected", (String)object2);
                object.g((Bundle)stringBuilder);
                return true;
            }
            object = MainApplication.a;
            object2 = MainApplication.a.m().getResources().getString(2131689610);
            f.a(object2, "MainApplication.applicat\u2026ng(R.string.error_sdcard)");
            object.a((String)object2);
            return false;
        }
        MainApplication.Companion companion = MainApplication.a;
        object = this.m();
        if (object == null || (object = object.getResources()) == null || (object = object.getString(2131689589)) == null) {
            object = "";
        }
        companion.a((String)object);
        return false;
    }

    public final EditText b() {
        EditText editText = this.a;
        if (editText == null) {
            f.b("edIDF1");
        }
        return editText;
    }

    public final void b(String string2) {
        f.b(string2, "<set-?>");
        this.ah = string2;
    }

    public final void b(boolean bl2) {
        this.ag = bl2;
    }

    /*
     * Enabled aggressive block sorting
     */
    public final boolean b(StepTwoFragment object) {
        block12 : {
            void var3_13;
            Object object2;
            block13 : {
                block11 : {
                    void var3_11;
                    f.b(object, "fragmentStepTwo");
                    EditText editText = this.c;
                    if (editText == null) {
                        f.b("edCMND");
                    }
                    Editable editable = editText.getText();
                    f.a((Object)editable, "edCMND.text");
                    object2 = b.i.f.a((CharSequence)editable).toString();
                    EditText editText2 = this.b;
                    if (editText2 == null) {
                        f.b("edCustomerName");
                    }
                    Editable editable2 = editText2.getText();
                    f.a((Object)editable2, "edCustomerName.text");
                    String string2 = b.i.f.a((CharSequence)editable2).toString();
                    if (object2 == null) {
                        throw new g("null cannot be cast to non-null type kotlin.CharSequence");
                    }
                    int n2 = ((CharSequence)b.i.f.a((CharSequence)object2).toString()).length() > 0 ? 1 : 0;
                    if (n2 == 0) break block11;
                    if (string2 == null) {
                        throw new g("null cannot be cast to non-null type kotlin.CharSequence");
                    }
                    n2 = ((CharSequence)b.i.f.a(string2).toString()).length() > 0 ? 1 : 0;
                    if (n2 == 0) break block11;
                    Spinner spinner = this.f;
                    if (spinner == null) {
                        f.b("spinner");
                    }
                    if (spinner.getSelectedItemPosition() >= 0) {
                        Spinner spinner2 = this.f;
                        if (spinner2 == null) {
                            f.b("spinner");
                        }
                        n2 = spinner2.getSelectedItemPosition();
                    } else {
                        n2 = 0;
                    }
                    String string3 = this.al.get(n2).a();
                    if (string3 == null) {
                        String string4 = "";
                    }
                    StringBuilder stringBuilder = new StringBuilder();
                    stringBuilder.append(string2);
                    stringBuilder.append('_');
                    stringBuilder.append((String)object2);
                    stringBuilder.append('_');
                    stringBuilder.append(this.an.d());
                    String string5 = stringBuilder.toString();
                    if (!this.ai() || !this.aj()) break block12;
                    if (((CharSequence)var3_11).length() <= 0) {
                        return false;
                    }
                    n2 = 1;
                    if (n2 == 0) break block12;
                    if (this.ap.a()) {
                        File file = this.ap.a(string5);
                        Bundle bundle = new Bundle();
                        bundle.putString("cmnd", (String)object2);
                        bundle.putString("customername", string2);
                        bundle.putString("productselected", (String)var3_11);
                        bundle.putParcelable("user", (Parcelable)this.an);
                        bundle.putString("namefolderleveltwo", string5);
                        bundle.putString("pathfolderleveltwo", file.getAbsolutePath());
                        object.g(bundle);
                        return true;
                    }
                    object2 = MainApplication.a;
                    object = MainApplication.a.m().getResources().getString(2131689610);
                    String string6 = "MainApplication.applicat\u2026ng(R.string.error_sdcard)";
                    break block13;
                }
                object2 = MainApplication.a;
                object = this.p().getString(2131689591);
                String string7 = "resources.getString(R.st\u2026.error_empty_customer_id)";
            }
            f.a(object, (String)var3_13);
            object2.a((String)object);
        }
        return false;
    }

    public final EditText c() {
        EditText editText = this.b;
        if (editText == null) {
            f.b("edCustomerName");
        }
        return editText;
    }

    public final void c(String string2) {
        f.b(string2, "<set-?>");
        this.ai = string2;
    }

    public void d() {
        if (this.aq != null) {
            this.aq.clear();
        }
    }

    /*
     * Enabled aggressive block sorting
     */
    @Override
    public void d(Bundle object) {
        void var1_8;
        EditText editText;
        String string2;
        String string3;
        void var1_12;
        super.d((Bundle)object);
        this.am.b();
        String string4 = this.aj;
        if (string4 == null) {
            throw new g("null cannot be cast to non-null type kotlin.CharSequence");
        }
        if (f.a((Object)b.i.f.a(string4).toString(), (Object)"") ^ true) {
            this.an.b(this.aj);
        }
        if ((string2 = this.ah) == null) {
            throw new g("null cannot be cast to non-null type kotlin.CharSequence");
        }
        if (f.a((Object)b.i.f.a(string2).toString(), (Object)"") ^ true && f.a((Object)this.ai, (Object)"") ^ true) {
            EditText editText2 = this.b;
            if (editText2 == null) {
                f.b("edCustomerName");
            }
            editText2.setText((CharSequence)this.ah);
            EditText editText3 = this.c;
            if (editText3 == null) {
                f.b("edCMND");
            }
            editText3.setText((CharSequence)this.ai);
        }
        if ((editText = this.d) == null) {
            f.b("edChannel");
        }
        if ((string3 = this.an.d()) == null) {
            String string5 = "";
        }
        CharSequence charSequence = (CharSequence)var1_8;
        editText.setHint(charSequence);
        if (this.af) {
            editText = this.a;
            if (editText == null) {
                f.b("edIDF1");
            }
            TextWatcher textWatcher = new TextWatcher(this){
                final /* synthetic */ StepOneFragment a;
                {
                    this.a = stepOneFragment;
                }

                public void afterTextChanged(Editable editable) {
                    StepOneFragment.a(this.a);
                }

                public void beforeTextChanged(CharSequence charSequence, int n2, int n3, int n4) {
                }

                public void onTextChanged(CharSequence charSequence, int n2, int n3, int n4) {
                }
            };
        } else {
            EditText editText4 = this.b;
            if (editText4 == null) {
                f.b("edCustomerName");
            }
            editText4.addTextChangedListener(new TextWatcher(this){
                final /* synthetic */ StepOneFragment a;
                {
                    this.a = stepOneFragment;
                }

                public void afterTextChanged(Editable object) {
                    if ((object = String.valueOf(object)) != null) {
                        String string2 = object.toUpperCase();
                        f.a((Object)string2, "(this as java.lang.String).toUpperCase()");
                        if (f.a(object, (Object)string2) ^ true) {
                            if (object != null) {
                                object = object.toUpperCase();
                                f.a(object, "(this as java.lang.String).toUpperCase()");
                                this.a.c().setText((CharSequence)object);
                            } else {
                                throw new g("null cannot be cast to non-null type java.lang.String");
                            }
                        }
                        this.a.c().setSelection(this.a.c().getText().length());
                        StepOneFragment.b(this.a);
                        return;
                    }
                    throw new g("null cannot be cast to non-null type java.lang.String");
                }

                public void beforeTextChanged(CharSequence charSequence, int n2, int n3, int n4) {
                }

                public void onTextChanged(CharSequence charSequence, int n2, int n3, int n4) {
                }
            });
            editText = this.c;
            if (editText == null) {
                f.b("edCMND");
            }
            TextWatcher textWatcher = new TextWatcher(this){
                final /* synthetic */ StepOneFragment a;
                {
                    this.a = stepOneFragment;
                }

                public void afterTextChanged(Editable editable) {
                    StepOneFragment.c(this.a);
                }

                public void beforeTextChanged(CharSequence charSequence, int n2, int n3, int n4) {
                }

                public void onTextChanged(CharSequence charSequence, int n2, int n3, int n4) {
                }
            };
        }
        editText.addTextChangedListener((TextWatcher)var1_12);
        Button button = this.e;
        if (button == null) {
            f.b("btnIDF1");
        }
        button.setOnClickListener(new View.OnClickListener(this){
            final /* synthetic */ StepOneFragment a;
            {
                this.a = stepOneFragment;
            }

            public final void onClick(View object) {
                if (StepOneFragment.a(this.a)) {
                    object = this.a.b().getText();
                    f.a(object, "edIDF1.text");
                    object = b.i.f.a((CharSequence)object).toString();
                    StepOneFragment.d(this.a).b((String)object);
                }
            }
        });
    }

    public final void d(String string2) {
        f.b(string2, "<set-?>");
        this.aj = string2;
    }

    @Override
    public void e(String string2) {
        f.b(string2, "message");
        if (this.af) {
            this.ak = null;
            EditText editText = this.b;
            if (editText == null) {
                f.b("edCustomerName");
            }
            editText.setText((CharSequence)"");
            editText = this.c;
            if (editText == null) {
                f.b("edCMND");
            }
            editText.setText((CharSequence)"");
        }
        MainApplication.a.a(string2);
    }

    @Override
    public /* synthetic */ void h() {
        super.h();
        this.d();
    }

    @Override
    public void y() {
        com.a.f f2;
        if (this.h != null && (f2 = this.h) != null) {
            f2.c();
        }
        if (this.i != null && (f2 = this.i) != null) {
            f2.c();
        }
        super.y();
    }
}


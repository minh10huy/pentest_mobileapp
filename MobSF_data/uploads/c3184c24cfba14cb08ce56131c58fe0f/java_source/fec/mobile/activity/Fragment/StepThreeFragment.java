/*
 * Decompiled with CFR 0_132.
 * 
 * Could not load the following classes:
 *  android.content.Context
 *  android.content.res.Resources
 *  android.os.Bundle
 *  android.view.LayoutInflater
 *  android.view.View
 *  android.view.ViewGroup
 *  android.widget.TextView
 *  fec.mobile.activity.Fragment.StepThreeFragment$resultNumberUploadPerDayNewAppOrQDE
 */
package fec.mobile.activity.Fragment;

import android.content.Context;
import android.content.res.Resources;
import android.os.Bundle;
import android.support.v4.app.k;
import android.support.v4.app.o;
import android.support.v7.widget.LinearLayoutManager;
import android.support.v7.widget.RecyclerView;
import android.view.LayoutInflater;
import android.view.View;
import android.view.ViewGroup;
import android.widget.TextView;
import b.d.j;
import b.g;
import b.i.f;
import fec.mobile.activity.Activity.MainApplication;
import fec.mobile.activity.Apdater.AdapterListPDF;
import fec.mobile.activity.Fragment.DialogCountProgress;
import fec.mobile.activity.Fragment.StepThreeFragment;
import fec.mobile.activity.Manager.FileManager;
import fec.mobile.activity.Presenter.StepThreePresenter;
import fec.mobile.activity.R;
import fec.mobile.activity.View.StepFreeView;
import java.io.File;
import java.util.ArrayList;
import java.util.Collection;
import java.util.HashMap;
import java.util.List;

public final class StepThreeFragment
extends android.support.v4.app.j
implements StepFreeView {
    public TextView a;
    private final DialogCountProgress ae = new DialogCountProgress();
    private final StepThreePresenter af = new StepThreePresenter(this);
    private String ag;
    private String ah;
    private String ai = "";
    private String aj;
    private String ak;
    private boolean al = true;
    private double am;
    private double an;
    private HashMap ao;
    public TextView b;
    public TextView c;
    public RecyclerView d;
    private String e;
    private String f;
    private boolean g;
    private boolean h = true;
    private final FileManager i = new FileManager();

    public static final /* synthetic */ FileManager a(StepThreeFragment stepThreeFragment) {
        return stepThreeFragment.i;
    }

    public static final /* synthetic */ void a(StepThreeFragment stepThreeFragment, String string2) {
        stepThreeFragment.ai = string2;
    }

    private final void ag() {
        Object object = this.c;
        if (object == null) {
            b.e.b.f.b("txtListPDFDocument");
        }
        object.setVisibility(8);
        object = this.d;
        if (object == null) {
            b.e.b.f.b("recyclerStepThree");
        }
        object.setVisibility(8);
    }

    private final void ah() {
        File[] arrfile;
        if (b.e.b.f.a((Object)this.e, (Object)"") ^ true && (arrfile = new File(this.e).listFiles()) != null) {
            int n2 = arrfile.length;
            int n3 = 0;
            n2 = n2 == 0 ? 1 : 0;
            if ((n2 ^ 1) == 1) {
                Context context;
                RecyclerView recyclerView = this.d;
                if (recyclerView == null) {
                    b.e.b.f.b("recyclerStepThree");
                }
                recyclerView.setLayoutManager(new LinearLayoutManager(this.m()));
                recyclerView = this.d;
                if (recyclerView == null) {
                    b.e.b.f.b("recyclerStepThree");
                }
                if ((context = this.m()) == null) {
                    b.e.b.f.a();
                }
                b.e.b.f.a((Object)context, "context!!");
                Collection collection = new ArrayList();
                int n4 = arrfile.length;
                for (n2 = n3; n2 < n4; ++n2) {
                    File file = arrfile[n2];
                    b.e.b.f.a((Object)file, "it");
                    if (!(file.isDirectory() ^ true)) continue;
                    collection.add(file);
                }
                recyclerView.setAdapter(new AdapterListPDF(context, (List)collection));
            }
        }
    }

    private final void ai() {
        try {
            this.al = true;
            this.ae.b();
            return;
        }
        catch (Exception exception) {
            return;
        }
    }

    private final void aj() {
        TextView textView = this.a;
        if (textView == null) {
            b.e.b.f.b("txtTitleReason");
        }
        textView.setVisibility(8);
        textView = this.b;
        if (textView == null) {
            b.e.b.f.b("txtContentReason");
        }
        textView.setVisibility(8);
    }

    private final void ak() {
        TextView textView = this.a;
        if (textView == null) {
            b.e.b.f.b("txtTitleReason");
        }
        textView.setVisibility(0);
        textView = this.b;
        if (textView == null) {
            b.e.b.f.b("txtContentReason");
        }
        textView.setVisibility(0);
        textView = this.b;
        if (textView == null) {
            b.e.b.f.b("txtContentReason");
        }
        textView.setText((CharSequence)this.ak);
    }

    public static final /* synthetic */ String b(StepThreeFragment stepThreeFragment) {
        return stepThreeFragment.ai;
    }

    private final void b(View view) {
        View view2 = view.findViewById(2131296722);
        b.e.b.f.a((Object)view2, "view.findViewById(R.id.txtTitleReason)");
        this.a = (TextView)view2;
        view2 = view.findViewById(2131296709);
        b.e.b.f.a((Object)view2, "view.findViewById(R.id.txtLastStatus)");
        this.b = (TextView)view2;
        view2 = view.findViewById(2131296718);
        b.e.b.f.a((Object)view2, "view.findViewById(R.id.txtTitleListPDFDocument)");
        this.c = (TextView)view2;
        view = view.findViewById(2131296590);
        b.e.b.f.a((Object)view, "view.findViewById(R.id.recyclerStepThree)");
        this.d = (RecyclerView)view;
    }

    public static final /* synthetic */ StepThreePresenter c(StepThreeFragment stepThreeFragment) {
        return stepThreeFragment.af;
    }

    public static final /* synthetic */ DialogCountProgress d(StepThreeFragment stepThreeFragment) {
        return stepThreeFragment.ae;
    }

    public static final /* synthetic */ String e(StepThreeFragment stepThreeFragment) {
        return stepThreeFragment.ag;
    }

    public static final /* synthetic */ String f(StepThreeFragment stepThreeFragment) {
        return stepThreeFragment.ah;
    }

    public static final /* synthetic */ double g(StepThreeFragment stepThreeFragment) {
        return stepThreeFragment.am;
    }

    public static final /* synthetic */ double h(StepThreeFragment stepThreeFragment) {
        return stepThreeFragment.an;
    }

    public static final /* synthetic */ String i(StepThreeFragment stepThreeFragment) {
        return stepThreeFragment.aj;
    }

    @Override
    public View a(LayoutInflater object, ViewGroup viewGroup, Bundle bundle) {
        b.e.b.f.b(object, "inflater");
        boolean bl2 = false;
        bundle = object.inflate(2131492930, viewGroup, false);
        object = this.j();
        viewGroup = null;
        object = object != null ? object.getString("path", "") : null;
        this.e = object;
        object = this.j();
        object = object != null ? object.getString("namefolderleveltwo", "") : null;
        this.f = object;
        object = this.j();
        object = object != null ? object.getString("customerid", "") : null;
        this.ag = object;
        object = this.j();
        object = object != null ? object.getString("customername", "") : null;
        this.ah = object;
        object = this.j();
        object = object != null ? object.getString("idf1", "") : null;
        this.aj = object;
        object = this.j();
        boolean bl3 = object != null ? object.getBoolean("isqde", false) : false;
        this.g = bl3;
        object = this.j();
        bl3 = bl2;
        if (object != null) {
            bl3 = object.getBoolean("ishardqde", false);
        }
        this.h = bl3;
        Bundle bundle2 = this.j();
        object = viewGroup;
        if (bundle2 != null) {
            object = bundle2.getString("reason", "");
        }
        this.ak = object;
        object = this.j();
        double d2 = 0.0;
        double d3 = object != null ? object.getDouble("latitude", 0.0) : 0.0;
        this.am = d3;
        object = this.j();
        d3 = d2;
        if (object != null) {
            d3 = object.getDouble("longitude", 0.0);
        }
        this.an = d3;
        b.e.b.f.a((Object)bundle, "view");
        this.b((View)bundle);
        if (this.g) {
            this.ak();
            if (!this.h) {
                this.ag();
            }
        } else {
            this.aj();
        }
        this.ah();
        return bundle;
    }

    /*
     * Enabled aggressive block sorting
     */
    public final void b() {
        String string2;
        StepThreePresenter stepThreePresenter;
        if (!this.al) {
            return;
        }
        if (this.g) {
            stepThreePresenter = this.af;
            string2 = "HOSOBOSUNG";
        } else {
            stepThreePresenter = this.af;
            string2 = "HOSOMOI";
        }
        stepThreePresenter.b(string2);
    }

    @Override
    public void b(String string2) {
        b.e.b.f.b(string2, "message");
        if (b.e.b.f.a((Object)this.ai, (Object)"") ^ true) {
            new File(this.ai).delete();
        }
        this.ai();
        MainApplication.a.a(string2);
    }

    @Override
    public void c() {
        if (b.e.b.f.a((Object)this.ai, (Object)"") ^ true) {
            new File(this.ai).delete();
            this.ai = "";
        }
        if (b.e.b.f.a((Object)this.e, (Object)"") ^ true) {
            j.b(new File(this.e));
        }
        this.ai();
        MainApplication.Companion companion = MainApplication.a;
        Object object = this.m();
        if (object == null || (object = object.getResources()) == null || (object = object.getString(2131689696)) == null) {
            object = "";
        }
        companion.a((String)object);
        object = this.o();
        if (object != null) {
            object.finish();
        }
    }

    /*
     * Unable to fully structure code
     * Enabled aggressive block sorting
     * Lifted jumps to return sites
     */
    @Override
    public void c(int var1_1) {
        block12 : {
            block9 : {
                block10 : {
                    block11 : {
                        var7_2 = new StringBuilder();
                        var7_2.append(this.af.b());
                        var7_2.append('_');
                        var7_2.append(var1_1);
                        var9_27 = var7_2.toString();
                        var11_28 = this.i.a(var9_27);
                        var7_3 = this.i;
                        var8_29 = new StringBuilder();
                        var8_29.append(var9_27);
                        var8_29.append('/');
                        var8_29.append(this.f);
                        var12_45 = var7_3.a(var8_29.toString());
                        var6_46 = this.g;
                        var8_30 = null;
                        var7_4 = null;
                        if (!var6_46) break block9;
                        var8_31 = (TextView)this.d(R.id.txtLastStatus);
                        b.e.b.f.a((Object)var8_31, "txtLastStatus");
                        var10_47 = var8_31.getText().toString();
                        if (var10_47 == null) throw new g("null cannot be cast to non-null type kotlin.CharSequence");
                        var1_1 = ((CharSequence)f.a(var10_47).toString()).length() > 0 ? 1 : 0;
                        if (var1_1 == 0) break block10;
                        if (!this.h) break block11;
                        var8_32 = new File(this.e).listFiles();
                        b.e.b.f.a((Object)var8_32, "listPDFCurrentCustomer");
                        if (var8_32.length > 0) {
                            var13_49 = this.ae;
                            var14_51 = this.o();
                            if (var14_51 != null) {
                                var7_5 = var14_51.g();
                            }
                            var13_49.a((o)var7_6, "progressDialog");
                            new Thread(new Runnable(this, var8_32, (File)var12_45, var9_27, (File)var11_28, var10_47){
                                final /* synthetic */ StepThreeFragment a;
                                final /* synthetic */ File[] b;
                                final /* synthetic */ File c;
                                final /* synthetic */ String d;
                                final /* synthetic */ File e;
                                final /* synthetic */ String f;
                                {
                                    this.a = stepThreeFragment;
                                    this.b = arrfile;
                                    this.c = file;
                                    this.d = string2;
                                    this.e = file2;
                                    this.f = string3;
                                }

                                public final void run() {
                                    Object object4;
                                    Object object2;
                                    Object object3 = this.b;
                                    b.e.b.f.a(object3, "listPDFCurrentCustomer");
                                    for (Object object4 : object3) {
                                        object2 = this.c;
                                        b.e.b.f.a(object4, "it");
                                        object2 = new File((File)object2, object4.getName());
                                        StepThreeFragment.a(this.a).a((File)object4, (File)object2);
                                    }
                                    object2 = this.a;
                                    Object object5 = new StringBuilder();
                                    Object object6 = this.a.m();
                                    object3 = object4 = null;
                                    if (object6 != null) {
                                        object6 = object6.getExternalFilesDir(null);
                                        object3 = object4;
                                        if (object6 != null) {
                                            object3 = object6.getAbsolutePath();
                                        }
                                    }
                                    object5.append((String)object3);
                                    object5.append("/QDE_");
                                    object5.append(this.d);
                                    object5.append(".zip");
                                    StepThreeFragment.a((StepThreeFragment)object2, object5.toString());
                                    object3 = StepThreeFragment.a(this.a);
                                    object4 = this.e.getAbsolutePath();
                                    b.e.b.f.a(object4, "fileFolderLevelOne.absolutePath");
                                    object3.a((String)object4, StepThreeFragment.b(this.a));
                                    object5 = StepThreeFragment.c(this.a);
                                    object6 = StepThreeFragment.d(this.a);
                                    String string2 = StepThreeFragment.b(this.a);
                                    object3 = StepThreeFragment.e(this.a);
                                    if (object3 == null) {
                                        object3 = "";
                                    }
                                    object4 = StepThreeFragment.f(this.a);
                                    if (object4 == null) {
                                        object4 = "";
                                    }
                                    double d2 = StepThreeFragment.g(this.a);
                                    double d3 = StepThreeFragment.h(this.a);
                                    String string3 = this.f;
                                    object2 = StepThreeFragment.i(this.a);
                                    if (object2 == null) {
                                        object2 = "";
                                    }
                                    object5.a((DialogCountProgress)object6, string2, (String)object3, (String)object4, String.valueOf(d2), String.valueOf(d3), string3, (String)object2);
                                }
                            }).getStackTrace();
                            return;
                        }
                        this.al = false;
                        var8_33 = MainApplication.a;
                        var9_27 = this.m();
                        var7_7 = var8_33;
                        if (var9_27 == null) ** GOTO lbl-1000
                        var9_27 = var9_27.getResources();
                        var7_8 = var8_33;
                        if (var9_27 == null) ** GOTO lbl-1000
                        var9_27 = var9_27.getString(2131689592);
                        var7_9 = var8_33;
                        if (var9_27 == null) ** GOTO lbl-1000
                        var7_10 = var8_33;
                        var8_34 = var9_27;
                        break block12;
                    }
                    var11_28 = this.af;
                    var12_45 = this.ae;
                    var7_11 = this.ag;
                    if (var7_11 == null) {
                        var7_13 = "";
                    }
                    var8_35 = this.ah;
                    if (var8_35 == null) {
                        var8_37 = "";
                    }
                    var2_53 = this.am;
                    var4_54 = this.an;
                    var9_27 = this.aj;
                    if (var9_27 == null) {
                        var9_27 = "";
                    }
                    var11_28.a((DialogCountProgress)var12_45, (String)var7_12, (String)var8_36, String.valueOf(var2_53), String.valueOf(var4_54), var10_47, var9_27);
                    return;
                }
                this.al = false;
                var8_38 = MainApplication.a;
                var9_27 = this.m();
                var7_14 = var8_38;
                if (var9_27 == null) ** GOTO lbl-1000
                var9_27 = var9_27.getResources();
                var7_15 = var8_38;
                if (var9_27 == null) ** GOTO lbl-1000
                var9_27 = var9_27.getString(2131689595);
                var7_16 = var8_38;
                if (var9_27 == null) ** GOTO lbl-1000
                var7_17 = var8_38;
                var8_39 = var9_27;
                break block12;
            }
            var10_48 = new File(this.e).listFiles();
            b.e.b.f.a((Object)var10_48, "listPDFCurrentCustomer");
            if (var10_48.length > 0) {
                var13_50 = this.ae;
                var14_52 = this.o();
                var7_18 = var8_30;
                if (var14_52 != null) {
                    var7_19 = var14_52.g();
                }
                var13_50.a((o)var7_20, "progressDialog");
                new Thread(new Runnable(this, var10_48, (File)var12_45, var9_27, (File)var11_28){
                    final /* synthetic */ StepThreeFragment a;
                    final /* synthetic */ File[] b;
                    final /* synthetic */ File c;
                    final /* synthetic */ String d;
                    final /* synthetic */ File e;
                    {
                        this.a = stepThreeFragment;
                        this.b = arrfile;
                        this.c = file;
                        this.d = string2;
                        this.e = file2;
                    }

                    public final void run() {
                        Object object4;
                        Object object2;
                        Object object3 = this.b;
                        b.e.b.f.a(object3, "listPDFCurrentCustomer");
                        for (Object object4 : object3) {
                            object2 = this.c;
                            b.e.b.f.a(object4, "it");
                            object2 = new File((File)object2, object4.getName());
                            StepThreeFragment.a(this.a).a((File)object4, (File)object2);
                        }
                        object2 = this.a;
                        Object object5 = new StringBuilder();
                        Object object6 = this.a.m();
                        object3 = object4 = null;
                        if (object6 != null) {
                            object6 = object6.getExternalFilesDir(null);
                            object3 = object4;
                            if (object6 != null) {
                                object3 = object6.getAbsolutePath();
                            }
                        }
                        object5.append((String)object3);
                        object5.append('/');
                        object5.append(this.d);
                        object5.append(".zip");
                        StepThreeFragment.a((StepThreeFragment)object2, object5.toString());
                        object3 = StepThreeFragment.a(this.a);
                        object4 = this.e.getAbsolutePath();
                        b.e.b.f.a(object4, "fileFolderLevelOne.absolutePath");
                        object3.a((String)object4, StepThreeFragment.b(this.a));
                        object2 = StepThreeFragment.c(this.a);
                        object5 = StepThreeFragment.d(this.a);
                        object6 = StepThreeFragment.b(this.a);
                        object3 = StepThreeFragment.e(this.a);
                        if (object3 == null) {
                            object3 = "";
                        }
                        object4 = StepThreeFragment.f(this.a);
                        if (object4 == null) {
                            object4 = "";
                        }
                        object2.a((DialogCountProgress)object5, (String)object6, (String)object3, (String)object4, String.valueOf(StepThreeFragment.g(this.a)), String.valueOf(StepThreeFragment.h(this.a)));
                    }
                }).start();
                return;
            }
            this.al = false;
            var8_40 = MainApplication.a;
            var9_27 = this.m();
            var7_21 = var8_40;
            if (var9_27 == null) ** GOTO lbl-1000
            var9_27 = var9_27.getResources();
            var7_22 = var8_40;
            if (var9_27 == null) ** GOTO lbl-1000
            var9_27 = var9_27.getString(2131689592);
            var7_23 = var8_40;
            if (var9_27 != null) {
                var7_24 = var8_40;
                var8_41 = var9_27;
            } else lbl-1000: // 9 sources:
            {
                var8_43 = "";
            }
        }
        var7_26.a((String)var8_44);
    }

    public View d(int n2) {
        View view;
        if (this.ao == null) {
            this.ao = new HashMap();
        }
        View view2 = view = (View)this.ao.get(n2);
        if (view == null) {
            view2 = this.w();
            if (view2 == null) {
                return null;
            }
            view2 = view2.findViewById(n2);
            this.ao.put(n2, view2);
        }
        return view2;
    }

    public void d() {
        if (this.ao != null) {
            this.ao.clear();
        }
    }

    @Override
    public /* synthetic */ void h() {
        super.h();
        this.d();
    }

    @Override
    public void z() {
        super.z();
        this.ai();
    }
}


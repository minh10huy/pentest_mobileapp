/*
 * Decompiled with CFR 0_132.
 * 
 * Could not load the following classes:
 *  android.graphics.Bitmap
 *  android.graphics.Bitmap$Config
 */
package com.davemorrissey.labs.subscaleview.decoder;

import android.graphics.Bitmap;
import android.support.annotation.NonNull;
import com.davemorrissey.labs.subscaleview.decoder.DecoderFactory;
import java.lang.reflect.Constructor;
import java.lang.reflect.InvocationTargetException;

public class CompatDecoderFactory<T>
implements DecoderFactory<T> {
    private final Bitmap.Config bitmapConfig;
    private final Class<? extends T> clazz;

    public CompatDecoderFactory(@NonNull Class<? extends T> class_) {
        this(class_, null);
    }

    public CompatDecoderFactory(@NonNull Class<? extends T> class_, Bitmap.Config config) {
        this.clazz = class_;
        this.bitmapConfig = config;
    }

    @NonNull
    @Override
    public T make() throws IllegalAccessException, InstantiationException, NoSuchMethodException, InvocationTargetException {
        if (this.bitmapConfig == null) {
            return this.clazz.newInstance();
        }
        return this.clazz.getConstructor(Bitmap.Config.class).newInstance(new Object[]{this.bitmapConfig});
    }
}


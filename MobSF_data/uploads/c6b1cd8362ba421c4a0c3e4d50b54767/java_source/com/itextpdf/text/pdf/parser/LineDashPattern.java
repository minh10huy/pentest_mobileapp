/*
 * Decompiled with CFR 0_132.
 */
package com.itextpdf.text.pdf.parser;

import com.itextpdf.text.pdf.PdfArray;
import com.itextpdf.text.pdf.PdfNumber;

public class LineDashPattern {
    private DashArrayElem currentElem;
    private int currentIndex;
    private PdfArray dashArray;
    private float dashPhase;
    private int elemOrdinalNumber = 1;

    public LineDashPattern(PdfArray pdfArray, float f) {
        this.dashArray = new PdfArray(pdfArray);
        this.dashPhase = f;
        this.initFirst(f);
    }

    private void initFirst(float f) {
        if (this.dashArray.size() > 0) {
            while (f > 0.0f) {
                f -= this.dashArray.getAsNumber(this.currentIndex).floatValue();
                this.currentIndex = (this.currentIndex + 1) % this.dashArray.size();
                ++this.elemOrdinalNumber;
            }
            if (f < 0.0f) {
                --this.elemOrdinalNumber;
                --this.currentIndex;
                this.currentElem = new DashArrayElem(- f, this.isEven(this.elemOrdinalNumber));
                return;
            }
            this.currentElem = new DashArrayElem(this.dashArray.getAsNumber(this.currentIndex).floatValue(), this.isEven(this.elemOrdinalNumber));
        }
    }

    private boolean isEven(int n) {
        if (n % 2 == 0) {
            return true;
        }
        return false;
    }

    public PdfArray getDashArray() {
        return this.dashArray;
    }

    public float getDashPhase() {
        return this.dashPhase;
    }

    public boolean isSolid() {
        if (this.dashArray.size() % 2 != 0) {
            return false;
        }
        float f = 0.0f;
        for (int i = 1; i < this.dashArray.size(); i += 2) {
            f += this.dashArray.getAsNumber(i).floatValue();
        }
        if (Float.compare(f, 0.0f) == 0) {
            return true;
        }
        return false;
    }

    public DashArrayElem next() {
        DashArrayElem dashArrayElem = this.currentElem;
        if (this.dashArray.size() > 0) {
            int n;
            this.currentIndex = (this.currentIndex + 1) % this.dashArray.size();
            float f = this.dashArray.getAsNumber(this.currentIndex).floatValue();
            this.elemOrdinalNumber = n = this.elemOrdinalNumber + 1;
            this.currentElem = new DashArrayElem(f, this.isEven(n));
        }
        return dashArrayElem;
    }

    public void reset() {
        this.currentIndex = 0;
        this.elemOrdinalNumber = 1;
        this.initFirst(this.dashPhase);
    }

    public void setDashArray(PdfArray pdfArray) {
        this.dashArray = pdfArray;
    }

    public void setDashPhase(float f) {
        this.dashPhase = f;
    }

    public class DashArrayElem {
        private boolean isGap;
        private float val;

        public DashArrayElem(float f, boolean bl) {
            this.val = f;
            this.isGap = bl;
        }

        public float getVal() {
            return this.val;
        }

        public boolean isGap() {
            return this.isGap;
        }

        public void setGap(boolean bl) {
            this.isGap = bl;
        }

        public void setVal(float f) {
            this.val = f;
        }
    }

}


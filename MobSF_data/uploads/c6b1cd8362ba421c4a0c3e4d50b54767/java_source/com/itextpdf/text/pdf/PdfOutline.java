/*
 * Decompiled with CFR 0_132.
 */
package com.itextpdf.text.pdf;

import com.itextpdf.text.BaseColor;
import com.itextpdf.text.Chunk;
import com.itextpdf.text.Paragraph;
import com.itextpdf.text.pdf.PdfAction;
import com.itextpdf.text.pdf.PdfArray;
import com.itextpdf.text.pdf.PdfDestination;
import com.itextpdf.text.pdf.PdfDictionary;
import com.itextpdf.text.pdf.PdfIndirectReference;
import com.itextpdf.text.pdf.PdfName;
import com.itextpdf.text.pdf.PdfNumber;
import com.itextpdf.text.pdf.PdfObject;
import com.itextpdf.text.pdf.PdfString;
import com.itextpdf.text.pdf.PdfWriter;
import java.io.IOException;
import java.io.OutputStream;
import java.util.ArrayList;
import java.util.Iterator;
import java.util.List;

public class PdfOutline
extends PdfDictionary {
    private PdfAction action;
    private BaseColor color;
    private int count = 0;
    private PdfDestination destination;
    protected ArrayList<PdfOutline> kids = new ArrayList();
    private boolean open;
    private PdfOutline parent;
    private PdfIndirectReference reference;
    private int style = 0;
    private String tag;
    protected PdfWriter writer;

    public PdfOutline(PdfOutline pdfOutline, PdfAction pdfAction, Paragraph paragraph) {
        this(pdfOutline, pdfAction, paragraph, true);
    }

    public PdfOutline(PdfOutline pdfOutline, PdfAction pdfAction, Paragraph object, boolean bl) {
        StringBuffer stringBuffer = new StringBuffer();
        object = object.getChunks().iterator();
        while (object.hasNext()) {
            stringBuffer.append(((Chunk)object.next()).getContent());
        }
        this.action = pdfAction;
        this.initOutline(pdfOutline, stringBuffer.toString(), bl);
    }

    public PdfOutline(PdfOutline pdfOutline, PdfAction pdfAction, PdfString pdfString) {
        this(pdfOutline, pdfAction, pdfString, true);
    }

    public PdfOutline(PdfOutline pdfOutline, PdfAction pdfAction, PdfString pdfString, boolean bl) {
        this(pdfOutline, pdfAction, pdfString.toString(), bl);
    }

    public PdfOutline(PdfOutline pdfOutline, PdfAction pdfAction, String string2) {
        this(pdfOutline, pdfAction, string2, true);
    }

    public PdfOutline(PdfOutline pdfOutline, PdfAction pdfAction, String string2, boolean bl) {
        this.action = pdfAction;
        this.initOutline(pdfOutline, string2, bl);
    }

    public PdfOutline(PdfOutline pdfOutline, PdfDestination pdfDestination, Paragraph paragraph) {
        this(pdfOutline, pdfDestination, paragraph, true);
    }

    public PdfOutline(PdfOutline pdfOutline, PdfDestination pdfDestination, Paragraph object, boolean bl) {
        StringBuffer stringBuffer = new StringBuffer();
        object = object.getChunks().iterator();
        while (object.hasNext()) {
            stringBuffer.append(((Chunk)object.next()).getContent());
        }
        this.destination = pdfDestination;
        this.initOutline(pdfOutline, stringBuffer.toString(), bl);
    }

    public PdfOutline(PdfOutline pdfOutline, PdfDestination pdfDestination, PdfString pdfString) {
        this(pdfOutline, pdfDestination, pdfString, true);
    }

    public PdfOutline(PdfOutline pdfOutline, PdfDestination pdfDestination, PdfString pdfString, boolean bl) {
        this(pdfOutline, pdfDestination, pdfString.toString(), true);
    }

    public PdfOutline(PdfOutline pdfOutline, PdfDestination pdfDestination, String string2) {
        this(pdfOutline, pdfDestination, string2, true);
    }

    public PdfOutline(PdfOutline pdfOutline, PdfDestination pdfDestination, String string2, boolean bl) {
        this.destination = pdfDestination;
        this.initOutline(pdfOutline, string2, bl);
    }

    PdfOutline(PdfWriter pdfWriter) {
        super(OUTLINES);
        this.open = true;
        this.parent = null;
        this.writer = pdfWriter;
    }

    public void addKid(PdfOutline pdfOutline) {
        this.kids.add(pdfOutline);
    }

    public BaseColor getColor() {
        return this.color;
    }

    int getCount() {
        return this.count;
    }

    public ArrayList<PdfOutline> getKids() {
        return this.kids;
    }

    public PdfDestination getPdfDestination() {
        return this.destination;
    }

    public int getStyle() {
        return this.style;
    }

    public String getTag() {
        return this.tag;
    }

    public String getTitle() {
        return ((PdfString)this.get(PdfName.TITLE)).toString();
    }

    public PdfIndirectReference indirectReference() {
        return this.reference;
    }

    void initOutline(PdfOutline pdfOutline, String string2, boolean bl) {
        this.open = bl;
        this.parent = pdfOutline;
        this.writer = pdfOutline.writer;
        this.put(PdfName.TITLE, new PdfString(string2, "UnicodeBig"));
        pdfOutline.addKid(this);
        if (this.destination != null && !this.destination.hasPage()) {
            this.setDestinationPage(this.writer.getCurrentPage());
        }
    }

    public boolean isOpen() {
        return this.open;
    }

    public int level() {
        if (this.parent == null) {
            return 0;
        }
        return this.parent.level() + 1;
    }

    public PdfOutline parent() {
        return this.parent;
    }

    public void setColor(BaseColor baseColor) {
        this.color = baseColor;
    }

    void setCount(int n) {
        this.count = n;
    }

    public boolean setDestinationPage(PdfIndirectReference pdfIndirectReference) {
        if (this.destination == null) {
            return false;
        }
        return this.destination.addPage(pdfIndirectReference);
    }

    public void setIndirectReference(PdfIndirectReference pdfIndirectReference) {
        this.reference = pdfIndirectReference;
    }

    public void setKids(ArrayList<PdfOutline> arrayList) {
        this.kids = arrayList;
    }

    public void setOpen(boolean bl) {
        this.open = bl;
    }

    public void setStyle(int n) {
        this.style = n;
    }

    public void setTag(String string2) {
        this.tag = string2;
    }

    public void setTitle(String string2) {
        this.put(PdfName.TITLE, new PdfString(string2, "UnicodeBig"));
    }

    @Override
    public void toPdf(PdfWriter pdfWriter, OutputStream outputStream) throws IOException {
        BaseColor baseColor = this.color;
        int n = 0;
        if (baseColor != null && !this.color.equals(BaseColor.BLACK)) {
            this.put(PdfName.C, new PdfArray(new float[]{(float)this.color.getRed() / 255.0f, (float)this.color.getGreen() / 255.0f, (float)this.color.getBlue() / 255.0f}));
        }
        if ((this.style & 1) != 0) {
            n = 2;
        }
        int n2 = n;
        if ((this.style & 2) != 0) {
            n2 = n | 1;
        }
        if (n2 != 0) {
            this.put(PdfName.F, new PdfNumber(n2));
        }
        if (this.parent != null) {
            this.put(PdfName.PARENT, this.parent.indirectReference());
        }
        if (this.destination != null && this.destination.hasPage()) {
            this.put(PdfName.DEST, this.destination);
        }
        if (this.action != null) {
            this.put(PdfName.A, this.action);
        }
        if (this.count != 0) {
            this.put(PdfName.COUNT, new PdfNumber(this.count));
        }
        super.toPdf(pdfWriter, outputStream);
    }
}


/*
 * Decompiled with CFR 0_132.
 */
package com.itextpdf.text.pdf.codec;

import com.itextpdf.text.ExceptionConverter;
import com.itextpdf.text.Image;
import com.itextpdf.text.ImgJBIG2;
import com.itextpdf.text.error_messages.MessageLocalization;
import com.itextpdf.text.pdf.RandomAccessFileOrArray;
import com.itextpdf.text.pdf.codec.JBIG2SegmentReader;

public class JBIG2Image {
    /*
     * Enabled force condition propagation
     * Lifted jumps to return sites
     */
    public static byte[] getGlobalSegment(RandomAccessFileOrArray object) {
        try {
            object = new JBIG2SegmentReader((RandomAccessFileOrArray)object);
            object.read();
            return object.getGlobal(true);
        }
        catch (Exception exception) {
            return null;
        }
    }

    public static Image getJbig2Image(RandomAccessFileOrArray object, int n) {
        if (n < 1) {
            throw new IllegalArgumentException(MessageLocalization.getComposedMessage("the.page.number.must.be.gt.eq.1", new Object[0]));
        }
        try {
            object = new JBIG2SegmentReader((RandomAccessFileOrArray)object);
            object.read();
            JBIG2SegmentReader.JBIG2Page jBIG2Page = object.getPage(n);
            object = new ImgJBIG2(jBIG2Page.pageBitmapWidth, jBIG2Page.pageBitmapHeight, jBIG2Page.getData(true), object.getGlobal(true));
            return object;
        }
        catch (Exception exception) {
            throw new ExceptionConverter(exception);
        }
    }

    public static int getNumberOfPages(RandomAccessFileOrArray object) {
        try {
            object = new JBIG2SegmentReader((RandomAccessFileOrArray)object);
            object.read();
            int n = object.numberOfPages();
            return n;
        }
        catch (Exception exception) {
            throw new ExceptionConverter(exception);
        }
    }
}


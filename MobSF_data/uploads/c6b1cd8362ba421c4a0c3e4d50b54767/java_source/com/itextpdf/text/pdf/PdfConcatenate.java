/*
 * Decompiled with CFR 0_132.
 */
package com.itextpdf.text.pdf;

import com.itextpdf.text.Document;
import com.itextpdf.text.DocumentException;
import com.itextpdf.text.pdf.PdfCopy;
import com.itextpdf.text.pdf.PdfImportedPage;
import com.itextpdf.text.pdf.PdfReader;
import com.itextpdf.text.pdf.PdfSmartCopy;
import java.io.IOException;
import java.io.OutputStream;

public class PdfConcatenate {
    protected PdfCopy copy;
    protected Document document = new Document();

    public PdfConcatenate(OutputStream outputStream) throws DocumentException {
        this(outputStream, false);
    }

    public PdfConcatenate(OutputStream outputStream, boolean bl) throws DocumentException {
        if (bl) {
            this.copy = new PdfSmartCopy(this.document, outputStream);
            return;
        }
        this.copy = new PdfCopy(this.document, outputStream);
    }

    public int addPages(PdfReader pdfReader) throws DocumentException, IOException {
        this.open();
        int n = pdfReader.getNumberOfPages();
        for (int i = 1; i <= n; ++i) {
            this.copy.addPage(this.copy.getImportedPage(pdfReader, i));
        }
        this.copy.freeReader(pdfReader);
        pdfReader.close();
        return n;
    }

    public void close() {
        this.document.close();
    }

    public PdfCopy getWriter() {
        return this.copy;
    }

    public void open() {
        if (!this.document.isOpen()) {
            this.document.open();
        }
    }
}


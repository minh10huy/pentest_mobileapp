/*
 * Decompiled with CFR 0_132.
 */
package com.itextpdf.text.pdf.parser.clipper;

import com.itextpdf.text.pdf.parser.clipper.Clipper;
import com.itextpdf.text.pdf.parser.clipper.Point;
import java.math.BigInteger;
import java.util.logging.Logger;

class Edge {
    protected static final double HORIZONTAL = -3.4E38;
    private static final Logger LOGGER = Logger.getLogger(Edge.class.getName());
    protected static final int SKIP = -2;
    protected static final int UNASSIGNED = -1;
    private final Point.LongPoint bot = new Point.LongPoint();
    private final Point.LongPoint current = new Point.LongPoint();
    private final Point.LongPoint delta = new Point.LongPoint();
    double deltaX;
    Edge next;
    Edge nextInAEL;
    Edge nextInLML;
    Edge nextInSEL;
    int outIdx;
    Clipper.PolyType polyTyp;
    Edge prev;
    Edge prevInAEL;
    Edge prevInSEL;
    Side side;
    private final Point.LongPoint top = new Point.LongPoint();
    int windCnt;
    int windCnt2;
    int windDelta;

    static boolean doesE2InsertBeforeE1(Edge edge, Edge edge2) {
        long l = edge2.current.getX();
        long l2 = edge.current.getX();
        boolean bl = false;
        boolean bl2 = false;
        boolean bl3 = false;
        if (l == l2) {
            if (edge2.top.getY() > edge.top.getY()) {
                if (edge2.top.getX() < Edge.topX(edge, edge2.top.getY())) {
                    bl3 = true;
                }
                return bl3;
            }
            bl3 = bl;
            if (edge.top.getX() > Edge.topX(edge2, edge.top.getY())) {
                bl3 = true;
            }
            return bl3;
        }
        bl3 = bl2;
        if (edge2.current.getX() < edge.current.getX()) {
            bl3 = true;
        }
        return bl3;
    }

    static boolean slopesEqual(Edge edge, Edge edge2, boolean bl) {
        if (bl) {
            return BigInteger.valueOf(edge.getDelta().getY()).multiply(BigInteger.valueOf(edge2.getDelta().getX())).equals(BigInteger.valueOf(edge.getDelta().getX()).multiply(BigInteger.valueOf(edge2.getDelta().getY())));
        }
        if (edge.getDelta().getY() * edge2.getDelta().getX() == edge.getDelta().getX() * edge2.getDelta().getY()) {
            return true;
        }
        return false;
    }

    static void swapPolyIndexes(Edge edge, Edge edge2) {
        int n = edge.outIdx;
        edge.outIdx = edge2.outIdx;
        edge2.outIdx = n;
    }

    static void swapSides(Edge edge, Edge edge2) {
        Side side = edge.side;
        edge.side = edge2.side;
        edge2.side = side;
    }

    static long topX(Edge edge, long l) {
        if (l == edge.getTop().getY()) {
            return edge.getTop().getX();
        }
        return edge.getBot().getX() + Math.round(edge.deltaX * (double)(l - edge.getBot().getY()));
    }

    public Edge findNextLocMin() {
        Edge edge = this;
        do {
            if (edge.bot.equals(edge.prev.bot) && !edge.current.equals(edge.top)) {
                Edge edge2 = edge;
                if (edge.deltaX != -3.4E38) {
                    edge2 = edge;
                    if (edge.prev.deltaX != -3.4E38) {
                        return edge;
                    }
                }
                while (edge2.prev.deltaX == -3.4E38) {
                    edge2 = edge2.prev;
                }
                edge = edge2;
                while (edge.deltaX == -3.4E38) {
                    edge = edge.next;
                }
                if (edge.top.getY() == edge.prev.bot.getY()) continue;
                if (edge2.prev.bot.getX() < edge.bot.getX()) {
                    return edge2;
                }
                return edge;
            }
            edge = edge.next;
        } while (true);
    }

    public Point.LongPoint getBot() {
        return this.bot;
    }

    public Point.LongPoint getCurrent() {
        return this.current;
    }

    public Point.LongPoint getDelta() {
        return this.delta;
    }

    public Edge getMaximaPair() {
        Edge edge = this.next.top.equals(this.top) && this.next.nextInLML == null ? this.next : (this.prev.top.equals(this.top) && this.prev.nextInLML == null ? this.prev : null);
        if (edge != null && (edge.outIdx == -2 || edge.nextInAEL == edge.prevInAEL && !edge.isHorizontal())) {
            return null;
        }
        return edge;
    }

    public Edge getNextInAEL(Clipper.Direction direction) {
        if (direction == Clipper.Direction.LEFT_TO_RIGHT) {
            return this.nextInAEL;
        }
        return this.prevInAEL;
    }

    public Point.LongPoint getTop() {
        return this.top;
    }

    public boolean isContributing(Clipper.PolyFillType polyFillType, Clipper.PolyFillType polyFillType2, Clipper.ClipType clipType) {
        LOGGER.entering(Edge.class.getName(), "isContributing");
        Clipper.PolyFillType polyFillType3 = polyFillType;
        Clipper.PolyFillType polyFillType4 = polyFillType2;
        if (this.polyTyp == Clipper.PolyType.SUBJECT) {
            polyFillType4 = polyFillType;
            polyFillType3 = polyFillType2;
        }
        int n = .$SwitchMap$com$itextpdf$text$pdf$parser$clipper$Clipper$PolyFillType[polyFillType3.ordinal()];
        boolean bl = false;
        boolean bl2 = false;
        boolean bl3 = false;
        boolean bl4 = false;
        boolean bl5 = false;
        boolean bl6 = false;
        boolean bl7 = false;
        boolean bl8 = false;
        boolean bl9 = false;
        boolean bl10 = false;
        switch (n) {
            default: {
                if (this.windCnt == -1) break;
                return false;
            }
            case 3: {
                if (this.windCnt == 1) break;
                return false;
            }
            case 2: {
                if (Math.abs(this.windCnt) == 1) break;
                return false;
            }
            case 1: {
                if (this.windDelta != 0 || this.windCnt == 1) break;
                return false;
            }
        }
        switch (.$SwitchMap$com$itextpdf$text$pdf$parser$clipper$Clipper$ClipType[clipType.ordinal()]) {
            default: {
                return true;
            }
            case 4: {
                if (this.windDelta == 0) {
                    switch (.$SwitchMap$com$itextpdf$text$pdf$parser$clipper$Clipper$PolyFillType[polyFillType4.ordinal()]) {
                        default: {
                            if (this.windCnt2 < 0) break;
                            return true;
                        }
                        case 3: {
                            if (this.windCnt2 <= 0) {
                                bl10 = true;
                            }
                            return bl10;
                        }
                        case 1: 
                        case 2: {
                            bl10 = bl;
                            if (this.windCnt2 == 0) {
                                bl10 = true;
                            }
                            return bl10;
                        }
                    }
                    return false;
                }
                return true;
            }
            case 3: {
                if (this.polyTyp == Clipper.PolyType.SUBJECT) {
                    switch (.$SwitchMap$com$itextpdf$text$pdf$parser$clipper$Clipper$PolyFillType[polyFillType4.ordinal()]) {
                        default: {
                            if (this.windCnt2 < 0) break;
                            return true;
                        }
                        case 3: {
                            bl10 = bl2;
                            if (this.windCnt2 <= 0) {
                                bl10 = true;
                            }
                            return bl10;
                        }
                        case 1: 
                        case 2: {
                            bl10 = bl3;
                            if (this.windCnt2 == 0) {
                                bl10 = true;
                            }
                            return bl10;
                        }
                    }
                    return false;
                }
                switch (.$SwitchMap$com$itextpdf$text$pdf$parser$clipper$Clipper$PolyFillType[polyFillType4.ordinal()]) {
                    default: {
                        if (this.windCnt2 >= 0) break;
                        return true;
                    }
                    case 3: {
                        bl10 = bl4;
                        if (this.windCnt2 > 0) {
                            bl10 = true;
                        }
                        return bl10;
                    }
                    case 1: 
                    case 2: {
                        bl10 = bl5;
                        if (this.windCnt2 != 0) {
                            bl10 = true;
                        }
                        return bl10;
                    }
                }
                return false;
            }
            case 2: {
                switch (.$SwitchMap$com$itextpdf$text$pdf$parser$clipper$Clipper$PolyFillType[polyFillType4.ordinal()]) {
                    default: {
                        if (this.windCnt2 < 0) break;
                        return true;
                    }
                    case 3: {
                        bl10 = bl6;
                        if (this.windCnt2 <= 0) {
                            bl10 = true;
                        }
                        return bl10;
                    }
                    case 1: 
                    case 2: {
                        bl10 = bl7;
                        if (this.windCnt2 == 0) {
                            bl10 = true;
                        }
                        return bl10;
                    }
                }
                return false;
            }
            case 1: 
        }
        switch (.$SwitchMap$com$itextpdf$text$pdf$parser$clipper$Clipper$PolyFillType[polyFillType4.ordinal()]) {
            default: {
                if (this.windCnt2 >= 0) break;
                return true;
            }
            case 3: {
                bl10 = bl8;
                if (this.windCnt2 > 0) {
                    bl10 = true;
                }
                return bl10;
            }
            case 1: 
            case 2: {
                bl10 = bl9;
                if (this.windCnt2 != 0) {
                    bl10 = true;
                }
                return bl10;
            }
        }
        return false;
    }

    public boolean isEvenOddAltFillType(Clipper.PolyFillType polyFillType, Clipper.PolyFillType polyFillType2) {
        Clipper.PolyType polyType = this.polyTyp;
        Clipper.PolyType polyType2 = Clipper.PolyType.SUBJECT;
        boolean bl = false;
        boolean bl2 = false;
        if (polyType == polyType2) {
            if (polyFillType == Clipper.PolyFillType.EVEN_ODD) {
                bl2 = true;
            }
            return bl2;
        }
        bl2 = bl;
        if (polyFillType2 == Clipper.PolyFillType.EVEN_ODD) {
            bl2 = true;
        }
        return bl2;
    }

    public boolean isEvenOddFillType(Clipper.PolyFillType polyFillType, Clipper.PolyFillType polyFillType2) {
        Clipper.PolyType polyType = this.polyTyp;
        Clipper.PolyType polyType2 = Clipper.PolyType.SUBJECT;
        boolean bl = false;
        boolean bl2 = false;
        if (polyType == polyType2) {
            if (polyFillType2 == Clipper.PolyFillType.EVEN_ODD) {
                bl2 = true;
            }
            return bl2;
        }
        bl2 = bl;
        if (polyFillType == Clipper.PolyFillType.EVEN_ODD) {
            bl2 = true;
        }
        return bl2;
    }

    public boolean isHorizontal() {
        if (this.delta.getY() == 0L) {
            return true;
        }
        return false;
    }

    public boolean isIntermediate(double d) {
        if ((double)this.top.getY() == d && this.nextInLML != null) {
            return true;
        }
        return false;
    }

    public boolean isMaxima(double d) {
        if ((double)this.top.getY() == d && this.nextInLML == null) {
            return true;
        }
        return false;
    }

    public void reverseHorizontal() {
        long l = this.top.getX();
        this.top.setX(this.bot.getX());
        this.bot.setX(l);
        l = this.top.getZ();
        this.top.setZ(this.bot.getZ());
        this.bot.setZ(l);
    }

    public void setBot(Point.LongPoint longPoint) {
        this.bot.set(longPoint);
    }

    public void setCurrent(Point.LongPoint longPoint) {
        this.current.set(longPoint);
    }

    public void setTop(Point.LongPoint longPoint) {
        this.top.set(longPoint);
    }

    public String toString() {
        StringBuilder stringBuilder = new StringBuilder();
        stringBuilder.append("TEdge [Bot=");
        stringBuilder.append(this.bot);
        stringBuilder.append(", Curr=");
        stringBuilder.append(this.current);
        stringBuilder.append(", Top=");
        stringBuilder.append(this.top);
        stringBuilder.append(", Delta=");
        stringBuilder.append(this.delta);
        stringBuilder.append(", Dx=");
        stringBuilder.append(this.deltaX);
        stringBuilder.append(", PolyTyp=");
        stringBuilder.append((Object)this.polyTyp);
        stringBuilder.append(", Side=");
        stringBuilder.append((Object)this.side);
        stringBuilder.append(", WindDelta=");
        stringBuilder.append(this.windDelta);
        stringBuilder.append(", WindCnt=");
        stringBuilder.append(this.windCnt);
        stringBuilder.append(", WindCnt2=");
        stringBuilder.append(this.windCnt2);
        stringBuilder.append(", OutIdx=");
        stringBuilder.append(this.outIdx);
        stringBuilder.append(", Next=");
        stringBuilder.append(this.next);
        stringBuilder.append(", Prev=");
        stringBuilder.append(this.prev);
        stringBuilder.append(", NextInLML=");
        stringBuilder.append(this.nextInLML);
        stringBuilder.append(", NextInAEL=");
        stringBuilder.append(this.nextInAEL);
        stringBuilder.append(", PrevInAEL=");
        stringBuilder.append(this.prevInAEL);
        stringBuilder.append(", NextInSEL=");
        stringBuilder.append(this.nextInSEL);
        stringBuilder.append(", PrevInSEL=");
        stringBuilder.append(this.prevInSEL);
        stringBuilder.append("]");
        return stringBuilder.toString();
    }

    public void updateDeltaX() {
        this.delta.setX(this.top.getX() - this.bot.getX());
        this.delta.setY(this.top.getY() - this.bot.getY());
        if (this.delta.getY() == 0L) {
            this.deltaX = -3.4E38;
            return;
        }
        this.deltaX = (double)this.delta.getX() / (double)this.delta.getY();
    }

    static enum Side {
        LEFT,
        RIGHT;
        

        private Side() {
        }
    }

}


/*
 * Decompiled with CFR 0_132.
 */
package com.itextpdf.text.pdf.languages;

import com.itextpdf.text.pdf.Glyph;
import com.itextpdf.text.pdf.languages.IndicGlyphRepositioner;
import java.util.Arrays;
import java.util.List;
import java.util.Map;

public class BanglaGlyphRepositioner
extends IndicGlyphRepositioner {
    private static final String[] CHARCTERS_TO_BE_SHIFTED_LEFT_BY_1 = new String[]{"\u09bf", "\u09c7", "\u09c8"};
    private final Map<Integer, int[]> cmap31;
    private final Map<String, Glyph> glyphSubstitutionMap;

    public BanglaGlyphRepositioner(Map<Integer, int[]> map, Map<String, Glyph> map2) {
        this.cmap31 = map;
        this.glyphSubstitutionMap = map2;
    }

    private Glyph getGlyph(char c) {
        int[] arrn = this.glyphSubstitutionMap.get(String.valueOf(c));
        if (arrn != null) {
            return arrn;
        }
        arrn = this.cmap31.get(Integer.valueOf(c));
        return new Glyph(arrn[0], arrn[1], String.valueOf(c));
    }

    private void handleOKaarAndOUKaar(int n, List<Glyph> list, char c, char c2) {
        Glyph glyph = this.getGlyph(c);
        Glyph glyph2 = this.getGlyph(c2);
        list.set(n, glyph);
        list.add(n + 1, glyph2);
    }

    @Override
    public List<String> getCharactersToBeShiftedLeftByOnePosition() {
        return Arrays.asList(CHARCTERS_TO_BE_SHIFTED_LEFT_BY_1);
    }

    @Override
    public void repositionGlyphs(List<Glyph> list) {
        for (int i = 0; i < list.size(); ++i) {
            Glyph glyph = list.get(i);
            if (glyph.chars.equals("\u09cb")) {
                this.handleOKaarAndOUKaar(i, list, '\u09c7', '\u09be');
                continue;
            }
            if (!glyph.chars.equals("\u09cc")) continue;
            this.handleOKaarAndOUKaar(i, list, '\u09c7', '\u09d7');
        }
        super.repositionGlyphs(list);
    }
}


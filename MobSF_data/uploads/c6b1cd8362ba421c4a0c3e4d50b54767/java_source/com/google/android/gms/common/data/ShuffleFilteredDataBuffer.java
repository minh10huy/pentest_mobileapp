/*
 * Decompiled with CFR 0_132.
 */
package com.google.android.gms.common.data;

import com.google.android.gms.common.data.DataBuffer;
import com.google.android.gms.common.data.FilteredDataBuffer;
import java.util.ArrayList;
import java.util.Collections;
import java.util.List;

public final class ShuffleFilteredDataBuffer<T>
extends FilteredDataBuffer<T> {
    private final List<Integer> zzoh;
    private final int zzoi;

    public ShuffleFilteredDataBuffer(DataBuffer<T> iterable, int n) {
        super(iterable);
        int n2 = this.zzoi = n;
        int n3 = this.mDataBuffer.getCount();
        if (n2 > n3) {
            throw new IllegalArgumentException("numIndexes must be smaller or equal to max");
        }
        iterable = new ArrayList(n3);
        for (n = 0; n < n3; ++n) {
            iterable.add(n);
        }
        Collections.shuffle(iterable);
        this.zzoh = iterable.subList(0, n2);
    }

    @Override
    public final int computeRealPosition(int n) {
        if (n >= 0 && n < this.getCount()) {
            return this.zzoh.get(n);
        }
        StringBuilder stringBuilder = new StringBuilder(53);
        stringBuilder.append("Position ");
        stringBuilder.append(n);
        stringBuilder.append(" is out of bounds for this buffer");
        throw new IllegalArgumentException(stringBuilder.toString());
    }

    @Override
    public final int getCount() {
        return Math.min(this.zzoi, this.mDataBuffer.getCount());
    }
}


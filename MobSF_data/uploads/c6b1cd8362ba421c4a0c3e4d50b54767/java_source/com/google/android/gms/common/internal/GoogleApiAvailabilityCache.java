/*
 * Decompiled with CFR 0_132.
 * 
 * Could not load the following classes:
 *  android.content.Context
 *  android.util.SparseIntArray
 */
package com.google.android.gms.common.internal;

import android.content.Context;
import android.support.annotation.NonNull;
import android.util.SparseIntArray;
import com.google.android.gms.common.GoogleApiAvailability;
import com.google.android.gms.common.GoogleApiAvailabilityLight;
import com.google.android.gms.common.api.Api;
import com.google.android.gms.common.internal.Preconditions;

public class GoogleApiAvailabilityCache {
    private final SparseIntArray zzug = new SparseIntArray();
    private GoogleApiAvailabilityLight zzuh;

    public GoogleApiAvailabilityCache() {
        this(GoogleApiAvailability.getInstance());
    }

    public GoogleApiAvailabilityCache(@NonNull GoogleApiAvailabilityLight googleApiAvailabilityLight) {
        Preconditions.checkNotNull(googleApiAvailabilityLight);
        this.zzuh = googleApiAvailabilityLight;
    }

    public void flush() {
        this.zzug.clear();
    }

    public int getClientAvailability(@NonNull Context context, @NonNull Api.Client client) {
        int n;
        Preconditions.checkNotNull(context);
        Preconditions.checkNotNull(client);
        if (!client.requiresGooglePlayServices()) {
            return 0;
        }
        int n2 = client.getMinApkVersion();
        int n3 = this.zzug.get(n2, -1);
        if (n3 != -1) {
            return n3;
        }
        int n4 = 0;
        do {
            n = n3;
            if (n4 >= this.zzug.size()) break;
            n = this.zzug.keyAt(n4);
            if (n > n2 && this.zzug.get(n) == 0) {
                n = 0;
                break;
            }
            ++n4;
        } while (true);
        n4 = n;
        if (n == -1) {
            n4 = this.zzuh.isGooglePlayServicesAvailable(context, n2);
        }
        this.zzug.put(n2, n4);
        return n4;
    }
}


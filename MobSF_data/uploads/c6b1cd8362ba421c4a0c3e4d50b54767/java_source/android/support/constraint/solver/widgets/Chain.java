/*
 * Decompiled with CFR 0_132.
 */
package android.support.constraint.solver.widgets;

import android.support.constraint.solver.ArrayRow;
import android.support.constraint.solver.LinearSystem;
import android.support.constraint.solver.SolverVariable;
import android.support.constraint.solver.widgets.ChainHead;
import android.support.constraint.solver.widgets.ConstraintAnchor;
import android.support.constraint.solver.widgets.ConstraintWidget;
import android.support.constraint.solver.widgets.ConstraintWidgetContainer;
import android.support.constraint.solver.widgets.Optimizer;
import java.util.ArrayList;

class Chain {
    private static final boolean DEBUG = false;

    Chain() {
    }

    static void applyChainConstraints(ConstraintWidgetContainer constraintWidgetContainer, LinearSystem linearSystem, int n) {
        ChainHead[] arrchainHead;
        int n2;
        int n3;
        int n4 = 0;
        if (n == 0) {
            n2 = constraintWidgetContainer.mHorizontalChainsSize;
            arrchainHead = constraintWidgetContainer.mHorizontalChainsArray;
            n3 = 0;
        } else {
            n3 = 2;
            n2 = constraintWidgetContainer.mVerticalChainsSize;
            arrchainHead = constraintWidgetContainer.mVerticalChainsArray;
        }
        while (n4 < n2) {
            ChainHead chainHead = arrchainHead[n4];
            chainHead.define();
            if (constraintWidgetContainer.optimizeFor(4)) {
                if (!Optimizer.applyChainOptimized(constraintWidgetContainer, linearSystem, n, n3, chainHead)) {
                    Chain.applyChainConstraints(constraintWidgetContainer, linearSystem, n, n3, chainHead);
                }
            } else {
                Chain.applyChainConstraints(constraintWidgetContainer, linearSystem, n, n3, chainHead);
            }
            ++n4;
        }
    }

    /*
     * Unable to fully structure code
     * Enabled aggressive block sorting
     * Lifted jumps to return sites
     */
    static void applyChainConstraints(ConstraintWidgetContainer var0, LinearSystem var1_1, int var2_2, int var3_3, ChainHead var4_4) {
        block76 : {
            block79 : {
                block78 : {
                    block77 : {
                        block75 : {
                            block72 : {
                                block71 : {
                                    var18_38 = var4_4 /* !! */ .mFirst;
                                    var24_39 = var4_4 /* !! */ .mLast;
                                    var17_40 = var4_4 /* !! */ .mFirstVisibleWidget;
                                    var25_41 = var4_4 /* !! */ .mLastVisibleWidget;
                                    var19_42 = var4_4 /* !! */ .mHead;
                                    var5_43 = var4_4 /* !! */ .mTotalWeight;
                                    var16_44 = var4_4 /* !! */ .mFirstMatchConstraintWidget;
                                    var16_44 = var4_4 /* !! */ .mLastMatchConstraintWidget;
                                    var13_45 = var0.mListDimensionBehaviors[var2_2] == ConstraintWidget.DimensionBehaviour.WRAP_CONTENT ? 1 : 0;
                                    if (var2_2 != 0) break block71;
                                    var8_46 = var19_42.mHorizontalChainStyle == 0 ? 1 : 0;
                                    var9_47 = var19_42.mHorizontalChainStyle == 1 ? 1 : 0;
                                    var10_48 = var9_47;
                                    var11_49 = var8_46;
                                    if (var19_42.mHorizontalChainStyle != 2) ** GOTO lbl-1000
                                    ** GOTO lbl-1000
                                }
                                var8_46 = var19_42.mVerticalChainStyle == 0 ? 1 : 0;
                                var9_47 = var19_42.mVerticalChainStyle == 1 ? 1 : 0;
                                var10_48 = var9_47;
                                var11_49 = var8_46;
                                if (var19_42.mVerticalChainStyle == 2) lbl-1000: // 2 sources:
                                {
                                    var10_48 = 1;
                                    var11_49 = var9_47;
                                    var12_50 = var8_46;
                                } else lbl-1000: // 2 sources:
                                {
                                    var8_46 = 0;
                                    var12_50 = var11_49;
                                    var11_49 = var10_48;
                                    var10_48 = var8_46;
                                }
                                var20_51 = var18_38;
                                var8_46 = 0;
                                do {
                                    var21_54 = null;
                                    if (var8_46 != 0) break;
                                    var16_44 = var20_51.mListAnchors[var3_3];
                                    var9_47 = var13_45 == 0 && var10_48 == 0 ? 4 : 1;
                                    var14_52 = var15_53 = var16_44.getMargin();
                                    if (var16_44.mTarget != null) {
                                        var14_52 = var15_53;
                                        if (var20_51 != var18_38) {
                                            var14_52 = var15_53 + var16_44.mTarget.getMargin();
                                        }
                                    }
                                    if (var10_48 != 0 && var20_51 != var18_38 && var20_51 != var17_40) {
                                        var9_47 = 6;
                                    } else if (var12_50 != 0 && var13_45 != 0) {
                                        var9_47 = 4;
                                    }
                                    if (var16_44.mTarget != null) {
                                        if (var20_51 == var17_40) {
                                            var1_1.addGreaterThan(var16_44.mSolverVariable, var16_44.mTarget.mSolverVariable, var14_52, 5);
                                        } else {
                                            var1_1.addGreaterThan(var16_44.mSolverVariable, var16_44.mTarget.mSolverVariable, var14_52, 6);
                                        }
                                        var1_1.addEquality(var16_44.mSolverVariable, var16_44.mTarget.mSolverVariable, var14_52, var9_47);
                                    }
                                    if (var13_45 != 0) {
                                        if (var20_51.getVisibility() != 8 && var20_51.mListDimensionBehaviors[var2_2] == ConstraintWidget.DimensionBehaviour.MATCH_CONSTRAINT) {
                                            var1_1.addGreaterThan(var20_51.mListAnchors[var3_3 + 1].mSolverVariable, var20_51.mListAnchors[var3_3].mSolverVariable, 0, 5);
                                        }
                                        var1_1.addGreaterThan(var20_51.mListAnchors[var3_3].mSolverVariable, var0.mListAnchors[var3_3].mSolverVariable, 0, 6);
                                    }
                                    var22_66 = var20_51.mListAnchors[var3_3 + 1].mTarget;
                                    var16_44 = var21_54;
                                    if (var22_66 != null) {
                                        var22_66 = var22_66.mOwner;
                                        var16_44 = var21_54;
                                        if (var22_66.mListAnchors[var3_3].mTarget != null) {
                                            var16_44 = var22_66.mListAnchors[var3_3].mTarget.mOwner != var20_51 ? var21_54 : var22_66;
                                        }
                                    }
                                    if (var16_44 != null) {
                                        var20_51 = var16_44;
                                        continue;
                                    }
                                    var8_46 = 1;
                                } while (true);
                                if (var25_41 != null) {
                                    var16_44 = var24_39.mListAnchors;
                                    var8_46 = var3_3 + 1;
                                    if (var16_44[var8_46].mTarget != null) {
                                        var16_44 = var25_41.mListAnchors[var8_46];
                                        var1_1.addLowerThan(var16_44.mSolverVariable, var24_39.mListAnchors[var8_46].mTarget.mSolverVariable, - var16_44.getMargin(), 5);
                                    }
                                }
                                if (var13_45 != 0) {
                                    var0 = var0.mListAnchors;
                                    var8_46 = var3_3 + 1;
                                    var1_1.addGreaterThan(var0[var8_46].mSolverVariable, var24_39.mListAnchors[var8_46].mSolverVariable, var24_39.mListAnchors[var8_46].getMargin(), 6);
                                }
                                if ((var0 = var4_4 /* !! */ .mWeightedMatchConstraintsWidgets) == null || (var9_47 = var0.size()) <= 1) break block72;
                                var6_67 = var5_43;
                                if (var4_4 /* !! */ .mHasUndefinedWeights) {
                                    var6_67 = var5_43;
                                    if (!var4_4 /* !! */ .mHasComplexMatchWeights) {
                                        var6_67 = var4_4 /* !! */ .mWidgetsMatchCount;
                                    }
                                }
                                var16_44 = null;
                                var7_68 = 0.0f;
                                for (var8_46 = 0; var8_46 < var9_47; ++var8_46) {
                                    block73 : {
                                        block74 : {
                                            var20_51 = (ConstraintWidget)var0.get(var8_46);
                                            var5_43 = var20_51.mWeight[var2_2];
                                            if (var5_43 >= 0.0f) break block73;
                                            if (!var4_4 /* !! */ .mHasComplexMatchWeights) break block74;
                                            var1_1.addEquality(var20_51.mListAnchors[var3_3 + 1].mSolverVariable, var20_51.mListAnchors[var3_3].mSolverVariable, 0, 4);
                                            ** GOTO lbl100
                                        }
                                        var5_43 = 1.0f;
                                    }
                                    if (var5_43 == 0.0f) {
                                        var1_1.addEquality(var20_51.mListAnchors[var3_3 + 1].mSolverVariable, var20_51.mListAnchors[var3_3].mSolverVariable, 0, 6);
lbl100: // 2 sources:
                                        var5_43 = var7_68;
                                    } else {
                                        if (var16_44 != null) {
                                            var21_56 = var16_44.mListAnchors[var3_3].mSolverVariable;
                                            var16_44 = var16_44.mListAnchors;
                                            var13_45 = var3_3 + 1;
                                            var16_44 = var16_44[var13_45].mSolverVariable;
                                            var22_66 = var20_51.mListAnchors[var3_3].mSolverVariable;
                                            var23_69 = var20_51.mListAnchors[var13_45].mSolverVariable;
                                            var26_70 = var1_1.createRow();
                                            var26_70.createRowEqualMatchDimensions(var7_68, var6_67, var5_43, var21_56, (SolverVariable)var16_44, (SolverVariable)var22_66, (SolverVariable)var23_69);
                                            var1_1.addConstraint((ArrayRow)var26_70);
                                        }
                                        var16_44 = var20_51;
                                    }
                                    var7_68 = var5_43;
                                }
                            }
                            if (var17_40 == null || var17_40 != var25_41 && var10_48 == 0) break block75;
                            var16_44 = var18_38.mListAnchors[var3_3];
                            var0 = var24_39.mListAnchors;
                            var8_46 = var3_3 + 1;
                            var20_51 = var0[var8_46];
                            var0 = var18_38.mListAnchors[var3_3].mTarget != null ? var18_38.mListAnchors[var3_3].mTarget.mSolverVariable : null;
                            if (var24_39.mListAnchors[var8_46].mTarget != null) {
                                var4_5 = var24_39.mListAnchors[var8_46].mTarget.mSolverVariable;
                            } else {
                                var4_6 = null;
                            }
                            var18_38 = var20_51;
                            if (var17_40 == var25_41) {
                                var16_44 = var17_40.mListAnchors[var3_3];
                                var18_38 = var17_40.mListAnchors[var8_46];
                            }
                            if (var0 != null && var4_7 != null) {
                                var5_43 = var2_2 == 0 ? var19_42.mHorizontalBiasPercent : var19_42.mVerticalBiasPercent;
                                var2_2 = var16_44.getMargin();
                                var8_46 = var18_38.getMargin();
                                var1_1.addCentering(var16_44.mSolverVariable, (SolverVariable)var0, var2_2, var5_43, (SolverVariable)var4_7, var18_38.mSolverVariable, var8_46, 5);
                            }
                            break block76;
                        }
                        if (var12_50 == 0 || var17_40 == null) break block77;
                        var10_48 = var4_4 /* !! */ .mWidgetsMatchCount > 0 && var4_4 /* !! */ .mWidgetsCount == var4_4 /* !! */ .mWidgetsMatchCount ? 1 : 0;
                        var4_8 = var0 = var17_40;
                        var19_42 = var0;
                        break block78;
                    }
                    if (var11_49 == 0 || var17_40 == null) break block76;
                    var8_46 = var4_4 /* !! */ .mWidgetsMatchCount > 0 && var4_4 /* !! */ .mWidgetsCount == var4_4 /* !! */ .mWidgetsMatchCount ? 1 : 0;
                    var4_21 = var0 = var17_40;
                    var19_42 = var0;
                    break block79;
                }
                while ((var16_44 = var4_9) != null) {
                    var20_51 = var16_44.mListNextVisibleWidget[var2_2];
                    if (var20_51 == null && var16_44 != var25_41) {
                        var0 = var20_51;
                    } else {
                        var21_58 = var16_44.mListAnchors[var3_3];
                        var26_70 = var21_58.mSolverVariable;
                        if (var21_58.mTarget != null) {
                            var4_11 = var21_58.mTarget.mSolverVariable;
                        } else {
                            var4_12 = null;
                        }
                        if (var19_42 != var16_44) {
                            var0 = var19_42.mListAnchors[var3_3 + 1].mSolverVariable;
                        } else {
                            var0 = var4_13;
                            if (var16_44 == var17_40) {
                                var0 = var4_13;
                                if (var19_42 == var16_44) {
                                    var0 = var18_38.mListAnchors[var3_3].mTarget != null ? var18_38.mListAnchors[var3_3].mTarget.mSolverVariable : null;
                                }
                            }
                        }
                        var13_45 = var21_58.getMargin();
                        var4_14 = var16_44.mListAnchors;
                        var14_52 = var3_3 + 1;
                        var9_47 = var4_14[var14_52].getMargin();
                        if (var20_51 != null) {
                            var23_69 = var20_51.mListAnchors[var3_3];
                            var21_59 = var23_69.mSolverVariable;
                            var22_66 = var16_44.mListAnchors[var14_52].mSolverVariable;
                        } else {
                            var23_69 = var24_39.mListAnchors[var14_52].mTarget;
                            if (var23_69 != null) {
                                var4_15 = var23_69.mSolverVariable;
                            } else {
                                var4_16 = null;
                            }
                            var22_66 = var16_44.mListAnchors[var14_52].mSolverVariable;
                            var21_60 = var4_17;
                        }
                        var4_19 /* !! */  = var20_51;
                        var8_46 = var9_47;
                        if (var23_69 != null) {
                            var8_46 = var9_47 + var23_69.getMargin();
                        }
                        var9_47 = var13_45;
                        if (var19_42 != null) {
                            var9_47 = var13_45 + var19_42.mListAnchors[var14_52].getMargin();
                        }
                        if (var26_70 != null && var0 != null && var21_61 != null && var22_66 != null) {
                            if (var16_44 == var17_40) {
                                var9_47 = var17_40.mListAnchors[var3_3].getMargin();
                            }
                            if (var16_44 == var25_41) {
                                var8_46 = var25_41.mListAnchors[var14_52].getMargin();
                            }
                            var13_45 = var10_48 != 0 ? 6 : 4;
                            var1_1.addCentering((SolverVariable)var26_70, (SolverVariable)var0, var9_47, 0.5f, (SolverVariable)var21_61, (SolverVariable)var22_66, var8_46, var13_45);
                            var0 = var4_19 /* !! */ ;
                        } else {
                            var0 = var4_19 /* !! */ ;
                        }
                    }
                    var19_42 = var16_44;
                    var4_20 = var0;
                }
                break block76;
            }
            while ((var16_44 = var4_22) != null) {
                var0 = var16_44.mListNextVisibleWidget[var2_2];
                if (var16_44 != var17_40 && var16_44 != var25_41 && var0 != null) {
                    if (var0 == var25_41) {
                        var0 = null;
                    }
                    var4_23 = var16_44.mListAnchors[var3_3];
                    var23_69 = var4_23.mSolverVariable;
                    if (var4_23.mTarget != null) {
                        var20_51 = var4_23.mTarget.mSolverVariable;
                    }
                    var20_51 = var19_42.mListAnchors;
                    var14_52 = var3_3 + 1;
                    var26_70 = var20_51[var14_52].mSolverVariable;
                    var13_45 = var4_23.getMargin();
                    var10_48 = var16_44.mListAnchors[var14_52].getMargin();
                    if (var0 != null) {
                        var20_51 = var0.mListAnchors[var3_3];
                        var21_63 = var20_51.mSolverVariable;
                        if (var20_51.mTarget != null) {
                            var4_24 = var20_51.mTarget.mSolverVariable;
                        } else {
                            var4_25 = null;
                        }
                    } else {
                        var22_66 = var16_44.mListAnchors[var14_52].mTarget;
                        if (var22_66 != null) {
                            var4_26 = var22_66.mSolverVariable;
                        } else {
                            var4_27 = null;
                        }
                        var20_51 = var16_44.mListAnchors[var14_52].mSolverVariable;
                        var21_64 = var4_28;
                        var4_29 = var20_51;
                        var20_51 = var22_66;
                    }
                    var9_47 = var10_48;
                    if (var20_51 != null) {
                        var9_47 = var10_48 + var20_51.getMargin();
                    }
                    var10_48 = var13_45;
                    if (var19_42 != null) {
                        var10_48 = var13_45 + var19_42.mListAnchors[var14_52].getMargin();
                    }
                    var13_45 = var8_46 != 0 ? 6 : 4;
                    if (var23_69 != null && var26_70 != null && var21_65 != null && var4_30 != null) {
                        var1_1.addCentering((SolverVariable)var23_69, (SolverVariable)var26_70, var10_48, 0.5f, (SolverVariable)var21_65, (SolverVariable)var4_30, var9_47, var13_45);
                    }
                }
                var19_42 = var16_44;
                var4_32 = var0;
            }
            var4_33 = var17_40.mListAnchors[var3_3];
            var16_44 = var18_38.mListAnchors[var3_3].mTarget;
            var0 = var25_41.mListAnchors;
            var2_2 = var3_3 + 1;
            var18_38 = var0[var2_2];
            var0 = var24_39.mListAnchors[var2_2].mTarget;
            if (var16_44 != null) {
                if (var17_40 != var25_41) {
                    var1_1.addEquality(var4_33.mSolverVariable, var16_44.mSolverVariable, var4_33.getMargin(), 5);
                } else if (var0 != null) {
                    var1_1.addCentering(var4_33.mSolverVariable, var16_44.mSolverVariable, var4_33.getMargin(), 0.5f, var18_38.mSolverVariable, var0.mSolverVariable, var18_38.getMargin(), 5);
                }
            }
            if (var0 != null && var17_40 != var25_41) {
                var1_1.addEquality(var18_38.mSolverVariable, var0.mSolverVariable, - var18_38.getMargin(), 5);
            }
        }
        if (var12_50 == 0) {
            if (var11_49 == 0) return;
        }
        if (var17_40 == null) return;
        var16_44 = var17_40.mListAnchors[var3_3];
        var0 = var25_41.mListAnchors;
        var2_2 = var3_3 + 1;
        var18_38 = var0[var2_2];
        if (var16_44.mTarget != null) {
            var4_35 = var16_44.mTarget.mSolverVariable;
        } else {
            var4_36 = null;
        }
        var0 = var18_38.mTarget != null ? var18_38.mTarget.mSolverVariable : null;
        if (var24_39 != var25_41) {
            var0 = var24_39.mListAnchors[var2_2];
            var0 = var0.mTarget != null ? var0.mTarget.mSolverVariable : null;
        }
        if (var17_40 == var25_41) {
            var16_44 = var17_40.mListAnchors[var3_3];
            var18_38 = var17_40.mListAnchors[var2_2];
        }
        if (var4_37 == null) return;
        if (var0 == null) return;
        var3_3 = var16_44.getMargin();
        var17_40 = var25_41 == null ? var24_39 : var25_41;
        var2_2 = var17_40.mListAnchors[var2_2].getMargin();
        var1_1.addCentering(var16_44.mSolverVariable, (SolverVariable)var4_37, var3_3, 0.5f, (SolverVariable)var0, var18_38.mSolverVariable, var2_2, 5);
    }
}


/*
 * Decompiled with CFR 0_132.
 */
package net.lingala.zip4j.crypto.PBKDF2;

import net.lingala.zip4j.crypto.PBKDF2.BinTools;
import net.lingala.zip4j.crypto.PBKDF2.PBKDF2Parameters;

class PBKDF2HexFormatter {
    PBKDF2HexFormatter() {
    }

    public boolean fromString(PBKDF2Parameters pBKDF2Parameters, String arrby) {
        if (pBKDF2Parameters != null) {
            if (arrby == null) {
                return true;
            }
            String[] arrstring = arrby.split(":");
            if (arrstring != null) {
                if (arrstring.length != 3) {
                    return true;
                }
                arrby = BinTools.hex2bin(arrstring[0]);
                int n = Integer.parseInt(arrstring[1]);
                arrstring = BinTools.hex2bin(arrstring[2]);
                pBKDF2Parameters.setSalt(arrby);
                pBKDF2Parameters.setIterationCount(n);
                pBKDF2Parameters.setDerivedKey((byte[])arrstring);
                return false;
            }
            return true;
        }
        return true;
    }

    public String toString(PBKDF2Parameters pBKDF2Parameters) {
        StringBuffer stringBuffer = new StringBuffer(String.valueOf(BinTools.bin2hex(pBKDF2Parameters.getSalt())));
        stringBuffer.append(":");
        stringBuffer.append(String.valueOf(pBKDF2Parameters.getIterationCount()));
        stringBuffer.append(":");
        stringBuffer.append(BinTools.bin2hex(pBKDF2Parameters.getDerivedKey()));
        return stringBuffer.toString();
    }
}

